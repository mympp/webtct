if(typeof YAHOO=="undefined"||!YAHOO){var YAHOO={}}YAHOO.namespace=function(){var d=arguments,h=null,j,k,i;for(j=0;j<d.length;j=j+1){i=(""+d[j]).split(".");h=YAHOO;for(k=(i[0]=="YAHOO")?1:0;k<i.length;k=k+1){h[i[k]]=h[i[k]]||{};h=h[i[k]]}}return h};YAHOO.log=function(g,f,h){var e=YAHOO.widget.Logger;if(e&&e.log){return e.log(g,f,h)}else{return false}};YAHOO.register=function(r,n,o){var b=YAHOO.env.modules,q,i,l,m,p;if(!b[r]){b[r]={versions:[],builds:[]}}q=b[r];i=o.version;l=o.build;m=YAHOO.env.listeners;q.name=r;q.version=i;q.build=l;q.versions.push(i);q.builds.push(l);q.mainClass=n;for(p=0;p<m.length;p=p+1){m[p](q)}if(n){n.VERSION=i;n.BUILD=l}else{YAHOO.log("mainClass is undefined for module "+r,"warn")}};YAHOO.env=YAHOO.env||{modules:[],listeners:[]};YAHOO.env.getVersion=function(b){return YAHOO.env.modules[b]||null};YAHOO.env.parseUA=function(o){var n=function(c){var b=0;return parseFloat(c.replace(/\./g,function(){return(b++==1)?"":"."}))},k=navigator,l={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:k&&k.cajaVersion,secure:false,os:null},p=o||(navigator&&navigator.userAgent),m=window&&window.location,i=m&&m.href,j;l.secure=i&&(i.toLowerCase().indexOf("https")===0);if(p){if((/windows|win32/i).test(p)){l.os="windows"}else{if((/macintosh/i).test(p)){l.os="macintosh"}else{if((/rhino/i).test(p)){l.os="rhino"}}}if((/KHTML/).test(p)){l.webkit=1}j=p.match(/AppleWebKit\/([^\s]*)/);if(j&&j[1]){l.webkit=n(j[1]);if(/ Mobile\//.test(p)){l.mobile="Apple";j=p.match(/OS ([^\s]*)/);if(j&&j[1]){j=n(j[1].replace("_","."))}l.ios=j;l.ipad=l.ipod=l.iphone=0;j=p.match(/iPad|iPod|iPhone/);if(j&&j[0]){l[j[0].toLowerCase()]=l.ios}}else{j=p.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/);if(j){l.mobile=j[0]}if(/webOS/.test(p)){l.mobile="WebOS";j=p.match(/webOS\/([^\s]*);/);if(j&&j[1]){l.webos=n(j[1])}}if(/ Android/.test(p)){l.mobile="Android";j=p.match(/Android ([^\s]*);/);if(j&&j[1]){l.android=n(j[1])}}}j=p.match(/Chrome\/([^\s]*)/);if(j&&j[1]){l.chrome=n(j[1])}else{j=p.match(/AdobeAIR\/([^\s]*)/);if(j){l.air=j[0]}}}if(!l.webkit){j=p.match(/Opera[\s\/]([^\s]*)/);if(j&&j[1]){l.opera=n(j[1]);j=p.match(/Version\/([^\s]*)/);if(j&&j[1]){l.opera=n(j[1])}j=p.match(/Opera Mini[^;]*/);if(j){l.mobile=j[0]}}else{j=p.match(/MSIE\s([^;]*)/);if(j&&j[1]){l.ie=n(j[1])}else{j=p.match(/Gecko\/([^\s]*)/);if(j){l.gecko=1;j=p.match(/rv:([^\s\)]*)/);if(j&&j[1]){l.gecko=n(j[1])}}}}}}return l};YAHOO.env.ua=YAHOO.env.parseUA();(function(){YAHOO.namespace("util","widget","example");if("undefined"!==typeof YAHOO_config){var e=YAHOO_config.listener,f=YAHOO.env.listeners,g=true,h;if(e){for(h=0;h<f.length;h++){if(f[h]==e){g=false;break}}if(g){f.push(e)}}}})();YAHOO.lang=YAHOO.lang||{};(function(){var m=YAHOO.lang,r=Object.prototype,p="[object Array]",k="[object Function]",j="[object Object]",q=[],l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},o=["toString","valueOf"],n={isArray:function(b){return r.toString.apply(b)===p},isBoolean:function(b){return typeof b==="boolean"},isFunction:function(b){return(typeof b==="function")||r.toString.apply(b)===k},isNull:function(b){return b===null},isNumber:function(b){return typeof b==="number"&&isFinite(b)},isObject:function(b){return(b&&(typeof b==="object"||m.isFunction(b)))||false},isString:function(b){return typeof b==="string"},isUndefined:function(b){return typeof b==="undefined"},_IEEnumFix:(YAHOO.env.ua.ie)?function(c,d){var e,f,b;for(e=0;e<o.length;e=e+1){f=o[e];b=d[f];if(m.isFunction(b)&&b!=r[f]){c[f]=b}}}:function(){},escapeHTML:function(b){return b.replace(/[&<>"'\/`]/g,function(c){return l[c]})},extend:function(b,f,c){if(!f||!b){throw new Error("extend failed, please check that all dependencies are included.")}var d=function(){},e;d.prototype=f.prototype;b.prototype=new d();b.prototype.constructor=b;b.superclass=f.prototype;if(f.prototype.constructor==r.constructor){f.prototype.constructor=f}if(c){for(e in c){if(m.hasOwnProperty(c,e)){b.prototype[e]=c[e]}}m._IEEnumFix(b.prototype,c)}},augmentObject:function(g,b){if(!b||!g){throw new Error("Absorb failed, verify dependencies.")}var e=arguments,c,f,d=e[2];if(d&&d!==true){for(c=2;c<e.length;c=c+1){g[e[c]]=b[e[c]]}}else{for(f in b){if(d||!(f in g)){g[f]=b[f]}}m._IEEnumFix(g,b)}return g},augmentProto:function(b,c){if(!c||!b){throw new Error("Augment failed, verify dependencies.")}var e=[b.prototype,c.prototype],d;for(d=2;d<arguments.length;d=d+1){e.push(arguments[d])}m.augmentObject.apply(this,e);return b},dump:function(i,d){var g,e,b=[],s="{...}",h="f(){...}",c=", ",f=" => ";if(!m.isObject(i)){return i+""}else{if(i instanceof Date||("nodeType" in i&&"tagName" in i)){return i}else{if(m.isFunction(i)){return h}}}d=(m.isNumber(d))?d:3;if(m.isArray(i)){b.push("[");for(g=0,e=i.length;g<e;g=g+1){if(m.isObject(i[g])){b.push((d>0)?m.dump(i[g],d-1):s)}else{b.push(i[g])}b.push(c)}if(b.length>1){b.pop()}b.push("]")}else{b.push("{");for(g in i){if(m.hasOwnProperty(i,g)){b.push(g+f);if(m.isObject(i[g])){b.push((d>0)?m.dump(i[g],d-1):s)}else{b.push(i[g])}b.push(c)}}if(b.length>1){b.pop()}b.push("}")}return b.join("")},substitute:function(d,c,i,P){var v,H,J,f,s,h,g=[],M,b=d.length,L="dump",I=" ",K="{",O="}",N,e;for(;;){v=d.lastIndexOf(K,b);if(v<0){break}H=d.indexOf(O,v);if(v+1>H){break}M=d.substring(v+1,H);f=M;h=null;J=f.indexOf(I);if(J>-1){h=f.substring(J+1);f=f.substring(0,J)}s=c[f];if(i){s=i(f,s,h)}if(m.isObject(s)){if(m.isArray(s)){s=m.dump(s,parseInt(h,10))}else{h=h||"";N=h.indexOf(L);if(N>-1){h=h.substring(4)}e=s.toString();if(e===j||N>-1){s=m.dump(s,parseInt(h,10))}else{s=e}}}else{if(!m.isString(s)&&!m.isNumber(s)){s="~-"+g.length+"-~";g[g.length]=M}}d=d.substring(0,v)+s+d.substring(H+1);if(P===false){b=v-1}}for(v=g.length-1;v>=0;v=v-1){d=d.replace(new RegExp("~-"+v+"-~"),"{"+g[v]+"}","g")}return d},trim:function(c){try{return c.replace(/^\s+|\s+$/g,"")}catch(b){return c}},merge:function(){var e={},c=arguments,d=c.length,b;for(b=0;b<d;b=b+1){m.augmentObject(e,c[b],true)}return e},later:function(i,f,h,d,c){i=i||0;f=f||{};var e=h,v=d,b,g;if(m.isString(h)){e=f[h]}if(!e){throw new TypeError("method undefined")}if(!m.isUndefined(d)&&!m.isArray(v)){v=[d]}b=function(){e.apply(f,v||q)};g=(c)?setInterval(b,i):setTimeout(b,i);return{interval:c,cancel:function(){if(this.interval){clearInterval(g)}else{clearTimeout(g)}}}},isValue:function(b){return(m.isObject(b)||m.isString(b)||m.isNumber(b)||m.isBoolean(b))}};m.hasOwnProperty=(r.hasOwnProperty)?function(c,b){return c&&c.hasOwnProperty&&c.hasOwnProperty(b)}:function(c,b){return !m.isUndefined(c[b])&&c.constructor.prototype[b]!==c[b]};n.augmentObject(m,n,true);YAHOO.util.Lang=m;m.augment=m.augmentProto;YAHOO.augment=m.augmentProto;YAHOO.extend=m.extend})();YAHOO.register("yahoo",YAHOO,{version:"2.9.0",build:"2800"});
/*! CryptoJS v3.1.2 core-fix.js
 * code.google.com/p/crypto-js
 * (c) 2009-2013 by Jeff Mott. All rights reserved.
 * code.google.com/p/crypto-js/wiki/License
 * THIS IS FIX of 'core.js' to fix Hmac issue.
 * https://code.google.com/p/crypto-js/issues/detail?id=84
 * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
 */
;var CryptoJS=CryptoJS||(function(w,u){var B={};var A=B.lib={};var q=A.Base=(function(){function b(){}return{extend:function(c){b.prototype=this;var d=new b();if(c){d.mixIn(c)}if(!d.hasOwnProperty("init")){d.init=function(){d.$super.init.apply(this,arguments)}}d.init.prototype=d;d.$super=this;return d},create:function(){var c=this.extend();c.init.apply(c,arguments);return c},init:function(){},mixIn:function(c){for(var d in c){if(c.hasOwnProperty(d)){this[d]=c[d]}}if(c.hasOwnProperty("toString")){this.toString=c.toString}},clone:function(){return this.init.prototype.extend(this)}}}());var o=A.WordArray=q.extend({init:function(b,c){b=this.words=b||[];if(c!=u){this.sigBytes=c}else{this.sigBytes=b.length*4}},toString:function(b){return(b||s).stringify(this)},concat:function(b){var e=this.words;var f=b.words;var h=this.sigBytes;var c=b.sigBytes;this.clamp();if(h%4){for(var d=0;d<c;d++){var g=(f[d>>>2]>>>(24-(d%4)*8))&255;e[(h+d)>>>2]|=g<<(24-((h+d)%4)*8)}}else{for(var d=0;d<c;d+=4){e[(h+d)>>>2]=f[d>>>2]}}this.sigBytes+=c;return this},clamp:function(){var b=this.words;var c=this.sigBytes;b[c>>>2]&=4294967295<<(32-(c%4)*8);b.length=w.ceil(c/4)},clone:function(){var b=q.clone.call(this);b.words=this.words.slice(0);return b},random:function(b){var c=[];for(var d=0;d<b;d+=4){c.push((w.random()*4294967296)|0)}return new o.init(c,b)}});var n=B.enc={};var s=n.Hex={stringify:function(e){var c=e.words;var f=e.sigBytes;var d=[];for(var g=0;g<f;g++){var b=(c[g>>>2]>>>(24-(g%4)*8))&255;d.push((b>>>4).toString(16));d.push((b&15).toString(16))}return d.join("")},parse:function(c){var e=c.length;var b=[];for(var d=0;d<e;d+=2){b[d>>>3]|=parseInt(c.substr(d,2),16)<<(24-(d%8)*4)}return new o.init(b,e/2)}};var x=n.Latin1={stringify:function(d){var c=d.words;var e=d.sigBytes;var g=[];for(var f=0;f<e;f++){var b=(c[f>>>2]>>>(24-(f%4)*8))&255;g.push(String.fromCharCode(b))}return g.join("")},parse:function(c){var e=c.length;var b=[];for(var d=0;d<e;d++){b[d>>>2]|=(c.charCodeAt(d)&255)<<(24-(d%4)*8)}return new o.init(b,e)}};var y=n.Utf8={stringify:function(c){try{return decodeURIComponent(escape(x.stringify(c)))}catch(b){throw new Error("Malformed UTF-8 data")}},parse:function(b){return x.parse(unescape(encodeURIComponent(b)))}};var r=A.BufferedBlockAlgorithm=q.extend({reset:function(){this._data=new o.init();this._nDataBytes=0},_append:function(b){if(typeof b=="string"){b=y.parse(b)}this._data.concat(b);this._nDataBytes+=b.sigBytes},_process:function(h){var c=this._data;var g=c.words;var f=c.sigBytes;var k=this.blockSize;var i=k*4;var j=f/i;if(h){j=w.ceil(j)}else{j=w.max((j|0)-this._minBufferSize,0)}var l=j*k;var b=w.min(l*4,f);if(l){for(var d=0;d<l;d+=k){this._doProcessBlock(g,d)}var e=g.splice(0,l);c.sigBytes-=b}return new o.init(e,b)},clone:function(){var b=q.clone.call(this);b._data=this._data.clone();return b},_minBufferSize:0});var v=A.Hasher=r.extend({cfg:q.extend(),init:function(b){this.cfg=this.cfg.extend(b);this.reset()},reset:function(){r.reset.call(this);this._doReset()},update:function(b){this._append(b);this._process();return this},finalize:function(c){if(c){this._append(c)}var b=this._doFinalize();return b},blockSize:512/32,_createHelper:function(b){return function(c,d){return new b.init(d).finalize(c)}},_createHmacHelper:function(b){return function(c,d){return new p.HMAC.init(b,d).finalize(c)}}});var p=B.algo={};return B}(Math));(function(d){var b=CryptoJS,i=b.lib,j=i.Base,c=i.WordArray,b=b.x64={};b.Word=j.extend({init:function(e,f){this.high=e;this.low=f}});b.WordArray=j.extend({init:function(e,f){e=this.words=e||[];this.sigBytes=f!=d?f:8*e.length},toX32:function(){for(var f=this.words,l=f.length,g=[],k=0;k<l;k++){var h=f[k];g.push(h.high);g.push(h.low)}return c.create(g,this.sigBytes)},clone:function(){for(var e=j.clone.call(this),h=e.words=this.words.slice(0),f=h.length,g=0;g<f;g++){h[g]=h[g].clone()}return e}})})();CryptoJS.lib.Cipher||function(D){var A=CryptoJS,B=A.lib,w=B.Base,o=B.WordArray,c=B.BufferedBlockAlgorithm,b=A.enc.Base64,C=A.algo.EvpKDF,e=B.Cipher=c.extend({cfg:w.extend(),createEncryptor:function(g,f){return this.create(this._ENC_XFORM_MODE,g,f)},createDecryptor:function(g,f){return this.create(this._DEC_XFORM_MODE,g,f)},init:function(g,f,h){this.cfg=this.cfg.extend(h);this._xformMode=g;this._key=f;this.reset()},reset:function(){c.reset.call(this);this._doReset()},process:function(f){this._append(f);return this._process()},finalize:function(f){f&&this._append(f);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(f){return{encrypt:function(g,j,h){return("string"==typeof j?F:x).encrypt(f,g,j,h)},decrypt:function(g,j,h){return("string"==typeof j?F:x).decrypt(f,g,j,h)}}}});B.StreamCipher=e.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var i=A.mode={},E=function(g,f,k){var j=this._iv;j?this._iv=D:j=this._prevBlock;for(var h=0;h<k;h++){g[f+h]^=j[h]}},y=(B.BlockCipherMode=w.extend({createEncryptor:function(g,f){return this.Encryptor.create(g,f)},createDecryptor:function(g,f){return this.Decryptor.create(g,f)},init:function(g,f){this._cipher=g;this._iv=f}})).extend();y.Encryptor=y.extend({processBlock:function(g,f){var j=this._cipher,h=j.blockSize;E.call(this,g,f,h);j.encryptBlock(g,f);this._prevBlock=g.slice(f,f+h)}});y.Decryptor=y.extend({processBlock:function(g,f){var k=this._cipher,j=k.blockSize,h=g.slice(f,f+j);k.decryptBlock(g,f);E.call(this,g,f,j);this._prevBlock=h}});i=i.CBC=y;y=(A.pad={}).Pkcs7={pad:function(h,g){for(var m=4*g,m=m-h.sigBytes%m,l=m<<24|m<<16|m<<8|m,k=[],j=0;j<m;j+=4){k.push(l)}m=o.create(k,m);h.concat(m)},unpad:function(f){f.sigBytes-=f.words[f.sigBytes-1>>>2]&255}};B.BlockCipher=e.extend({cfg:e.cfg.extend({mode:i,padding:y}),reset:function(){e.reset.call(this);var g=this.cfg,f=g.iv,g=g.mode;if(this._xformMode==this._ENC_XFORM_MODE){var h=g.createEncryptor}else{h=g.createDecryptor,this._minBufferSize=1}this._mode=h.call(g,this,f&&f.words)},_doProcessBlock:function(g,f){this._mode.processBlock(g,f)},_doFinalize:function(){var g=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){g.pad(this._data,this.blockSize);var f=this._process(!0)}else{f=this._process(!0),g.unpad(f)}return f},blockSize:4});var d=B.CipherParams=w.extend({init:function(f){this.mixIn(f)},toString:function(f){return(f||this.formatter).stringify(this)}}),i=(A.format={}).OpenSSL={stringify:function(g){var f=g.ciphertext;g=g.salt;return(g?o.create([1398893684,1701076831]).concat(g).concat(f):f).toString(b)},parse:function(g){g=b.parse(g);var f=g.words;if(1398893684==f[0]&&1701076831==f[1]){var h=o.create(f.slice(2,4));f.splice(0,4);g.sigBytes-=16}return d.create({ciphertext:g,salt:h})}},x=B.SerializableCipher=w.extend({cfg:w.extend({format:i}),encrypt:function(g,f,k,j){j=this.cfg.extend(j);var h=g.createEncryptor(k,j);f=h.finalize(f);h=h.cfg;return d.create({ciphertext:f,key:k,iv:h.iv,algorithm:g,mode:h.mode,padding:h.padding,blockSize:g.blockSize,formatter:j.format})},decrypt:function(g,f,j,h){h=this.cfg.extend(h);f=this._parse(f,h.format);return g.createDecryptor(j,h).finalize(f.ciphertext)},_parse:function(g,f){return"string"==typeof g?f.parse(g,this):g}}),A=(A.kdf={}).OpenSSL={execute:function(g,f,j,h){h||(h=o.random(8));g=C.create({keySize:f+j}).compute(g,h);j=o.create(g.words.slice(f),4*j);g.sigBytes=4*f;return d.create({key:g,iv:j,salt:h})}},F=B.PasswordBasedCipher=x.extend({cfg:x.cfg.extend({kdf:A}),encrypt:function(g,f,j,h){h=this.cfg.extend(h);j=h.kdf.execute(j,g.keySize,g.ivSize);h.iv=j.iv;g=x.encrypt.call(this,g,f,j.key,h);g.mixIn(j);return g},decrypt:function(g,f,j,h){h=this.cfg.extend(h);f=this._parse(f,h.format);j=h.kdf.execute(j,g.keySize,g.ivSize,f.salt);h.iv=j.iv;return x.decrypt.call(this,g,f,j.key,h)}})}();(function(){for(var M=CryptoJS,e=M.lib.BlockCipher,K=M.algo,R=[],d=[],c=[],N=[],L=[],J=[],I=[],o=[],i=[],h=[],S=[],Q=0;256>Q;Q++){S[Q]=128>Q?Q<<1:Q<<1^283}for(var O=0,P=0,Q=0;256>Q;Q++){var T=P^P<<1^P<<2^P<<3^P<<4,T=T>>>8^T&255^99;R[O]=T;d[T]=O;var G=S[O],H=S[G],p=S[H],U=257*S[T]^16843008*T;c[O]=U<<24|U>>>8;N[O]=U<<16|U>>>16;L[O]=U<<8|U>>>24;J[O]=U;U=16843009*p^65537*H^257*G^16843008*O;I[T]=U<<24|U>>>8;o[T]=U<<16|U>>>16;i[T]=U<<8|U>>>24;h[T]=U;O?(O=G^S[S[S[p^G]]],P^=S[S[P]]):O=P=1}var m=[0,1,2,4,8,16,32,64,128,27,54],K=K.AES=e.extend({_doReset:function(){for(var n=this._key,k=n.words,g=n.sigBytes/4,n=4*((this._nRounds=g+6)+1),f=this._keySchedule=[],j=0;j<n;j++){if(j<g){f[j]=k[j]}else{var l=f[j-1];j%g?6<g&&4==j%g&&(l=R[l>>>24]<<24|R[l>>>16&255]<<16|R[l>>>8&255]<<8|R[l&255]):(l=l<<8|l>>>24,l=R[l>>>24]<<24|R[l>>>16&255]<<16|R[l>>>8&255]<<8|R[l&255],l^=m[j/g|0]<<24);f[j]=f[j-g]^l}}k=this._invKeySchedule=[];for(g=0;g<n;g++){j=n-g,l=g%4?f[j]:f[j-4],k[g]=4>g||4>=j?l:I[R[l>>>24]]^o[R[l>>>16&255]]^i[R[l>>>8&255]]^h[R[l&255]]}},encryptBlock:function(f,b){this._doCryptBlock(f,b,this._keySchedule,c,N,L,J,R)},decryptBlock:function(g,f){var b=g[f+1];g[f+1]=g[f+3];g[f+3]=b;this._doCryptBlock(g,f,this._invKeySchedule,I,o,i,h,d);b=g[f+1];g[f+1]=g[f+3];g[f+3]=b},_doCryptBlock:function(Z,X,ab,aa,F,Y,E,B){for(var A=this._nRounds,W=Z[X]^ab[0],V=Z[X+1]^ab[1],D=Z[X+2]^ab[2],y=Z[X+3]^ab[3],C=4,u=1;u<A;u++){var x=aa[W>>>24]^F[V>>>16&255]^Y[D>>>8&255]^E[y&255]^ab[C++],w=aa[V>>>24]^F[D>>>16&255]^Y[y>>>8&255]^E[W&255]^ab[C++],v=aa[D>>>24]^F[y>>>16&255]^Y[W>>>8&255]^E[V&255]^ab[C++],y=aa[y>>>24]^F[W>>>16&255]^Y[V>>>8&255]^E[D&255]^ab[C++],W=x,V=w,D=v}x=(B[W>>>24]<<24|B[V>>>16&255]<<16|B[D>>>8&255]<<8|B[y&255])^ab[C++];w=(B[V>>>24]<<24|B[D>>>16&255]<<16|B[y>>>8&255]<<8|B[W&255])^ab[C++];v=(B[D>>>24]<<24|B[y>>>16&255]<<16|B[W>>>8&255]<<8|B[V&255])^ab[C++];y=(B[y>>>24]<<24|B[W>>>16&255]<<16|B[V>>>8&255]<<8|B[D&255])^ab[C++];Z[X]=x;Z[X+1]=w;Z[X+2]=v;Z[X+3]=y},keySize:8});M.AES=e._createHelper(K)})();(function(){function o(e,h){var g=(this._lBlock>>>e^this._rBlock)&h;this._rBlock^=g;this._lBlock^=g<<e}function k(e,h){var g=(this._rBlock>>>e^this._lBlock)&h;this._lBlock^=g;this._rBlock^=g<<e}var u=CryptoJS,w=u.lib,f=w.WordArray,w=w.BlockCipher,v=u.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],d=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],b=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],y=[{"0":8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{"0":1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{"0":260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{"0":2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{"0":128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{"0":268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{"0":1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{"0":134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],x=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],i=v.DES=w.extend({_doReset:function(){for(var g=this._key.words,n=[],h=0;56>h;h++){var j=c[h]-1;n[h]=g[j>>>5]>>>31-j%32&1}g=this._subKeys=[];for(j=0;16>j;j++){for(var m=g[j]=[],l=b[j],h=0;24>h;h++){m[h/6|0]|=n[(d[h]-1+l)%28]<<31-h%6,m[4+(h/6|0)]|=n[28+(d[h+24]-1+l)%28]<<31-h%6}m[0]=m[0]<<1|m[0]>>>31;for(h=1;7>h;h++){m[h]>>>=4*(h-1)+3}m[7]=m[7]<<5|m[7]>>>27}n=this._invSubKeys=[];for(h=0;16>h;h++){n[h]=g[15-h]}},encryptBlock:function(e,g){this._doCryptBlock(e,g,this._subKeys)},decryptBlock:function(e,g){this._doCryptBlock(e,g,this._invSubKeys)},_doCryptBlock:function(s,r,A){this._lBlock=s[r];this._rBlock=s[r+1];o.call(this,4,252645135);o.call(this,16,65535);k.call(this,2,858993459);k.call(this,8,16711935);o.call(this,1,1431655765);for(var n=0;16>n;n++){for(var q=A[n],p=this._lBlock,l=this._rBlock,m=0,j=0;8>j;j++){m|=y[j][((l^q[j])&x[j])>>>0]}this._lBlock=l;this._rBlock=p^m}A=this._lBlock;this._lBlock=this._rBlock;this._rBlock=A;o.call(this,1,1431655765);k.call(this,8,16711935);k.call(this,2,858993459);o.call(this,16,65535);o.call(this,4,252645135);s[r]=this._lBlock;s[r+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});u.DES=w._createHelper(i);v=v.TripleDES=w.extend({_doReset:function(){var e=this._key.words;this._des1=i.createEncryptor(f.create(e.slice(0,2)));this._des2=i.createEncryptor(f.create(e.slice(2,4)));this._des3=i.createEncryptor(f.create(e.slice(4,6)))},encryptBlock:function(e,g){this._des1.encryptBlock(e,g);this._des2.decryptBlock(e,g);this._des3.encryptBlock(e,g)},decryptBlock:function(e,g){this._des3.decryptBlock(e,g);this._des2.encryptBlock(e,g);this._des1.decryptBlock(e,g)},keySize:6,ivSize:2,blockSize:2});u.TripleDES=w._createHelper(v)})();(function(){var c=CryptoJS,b=c.lib.WordArray;c.enc.Base64={stringify:function(h){var l=h.words,k=h.sigBytes,n=this._map;h.clamp();h=[];for(var i=0;i<k;i+=3){for(var m=(l[i>>>2]>>>24-8*(i%4)&255)<<16|(l[i+1>>>2]>>>24-8*((i+1)%4)&255)<<8|l[i+2>>>2]>>>24-8*((i+2)%4)&255,j=0;4>j&&i+0.75*j<k;j++){h.push(n.charAt(m>>>6*(3-j)&63))}}if(l=n.charAt(64)){for(;h.length%4;){h.push(l)}}return h.join("")},parse:function(i){var n=i.length,m=this._map,p=m.charAt(64);p&&(p=i.indexOf(p),-1!=p&&(n=p));for(var p=[],j=0,o=0;o<n;o++){if(o%4){var l=m.indexOf(i.charAt(o-1))<<2*(o%4),k=m.indexOf(i.charAt(o))>>>6-2*(o%4);p[j>>>2]|=(l|k)<<24-8*(j%4);j++}}return b.create(p,j)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(p){function g(l,u,s,q,v,r,n){l=l+(u&s|~u&q)+v+n;return(l<<r|l>>>32-r)+u}function f(l,u,s,q,v,r,n){l=l+(u&q|s&~q)+v+n;return(l<<r|l>>>32-r)+u}function e(q,w,v,s,u,r,n){q=q+(w^v^s)+u+n;return(q<<r|q>>>32-r)+w}function d(q,w,v,s,u,r,n){q=q+(v^(w|~s))+u+n;return(q<<r|q>>>32-r)+w}for(var b=CryptoJS,c=b.lib,m=c.WordArray,o=c.Hasher,c=b.algo,i=[],j=0;64>j;j++){i[j]=4294967296*p.abs(p.sin(j+1))|0}c=c.MD5=o.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(P,S){for(var R=0;16>R;R++){var Q=S+R,O=P[Q];P[Q]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}var R=this._hash.words,Q=P[S+0],O=P[S+1],M=P[S+2],K=P[S+3],I=P[S+4],G=P[S+5],F=P[S+6],E=P[S+7],n=P[S+8],l=P[S+9],k=P[S+10],h=P[S+11],N=P[S+12],L=P[S+13],J=P[S+14],H=P[S+15],W=R[0],V=R[1],U=R[2],T=R[3],W=g(W,V,U,T,Q,7,i[0]),T=g(T,W,V,U,O,12,i[1]),U=g(U,T,W,V,M,17,i[2]),V=g(V,U,T,W,K,22,i[3]),W=g(W,V,U,T,I,7,i[4]),T=g(T,W,V,U,G,12,i[5]),U=g(U,T,W,V,F,17,i[6]),V=g(V,U,T,W,E,22,i[7]),W=g(W,V,U,T,n,7,i[8]),T=g(T,W,V,U,l,12,i[9]),U=g(U,T,W,V,k,17,i[10]),V=g(V,U,T,W,h,22,i[11]),W=g(W,V,U,T,N,7,i[12]),T=g(T,W,V,U,L,12,i[13]),U=g(U,T,W,V,J,17,i[14]),V=g(V,U,T,W,H,22,i[15]),W=f(W,V,U,T,O,5,i[16]),T=f(T,W,V,U,F,9,i[17]),U=f(U,T,W,V,h,14,i[18]),V=f(V,U,T,W,Q,20,i[19]),W=f(W,V,U,T,G,5,i[20]),T=f(T,W,V,U,k,9,i[21]),U=f(U,T,W,V,H,14,i[22]),V=f(V,U,T,W,I,20,i[23]),W=f(W,V,U,T,l,5,i[24]),T=f(T,W,V,U,J,9,i[25]),U=f(U,T,W,V,K,14,i[26]),V=f(V,U,T,W,n,20,i[27]),W=f(W,V,U,T,L,5,i[28]),T=f(T,W,V,U,M,9,i[29]),U=f(U,T,W,V,E,14,i[30]),V=f(V,U,T,W,N,20,i[31]),W=e(W,V,U,T,G,4,i[32]),T=e(T,W,V,U,n,11,i[33]),U=e(U,T,W,V,h,16,i[34]),V=e(V,U,T,W,J,23,i[35]),W=e(W,V,U,T,O,4,i[36]),T=e(T,W,V,U,I,11,i[37]),U=e(U,T,W,V,E,16,i[38]),V=e(V,U,T,W,k,23,i[39]),W=e(W,V,U,T,L,4,i[40]),T=e(T,W,V,U,Q,11,i[41]),U=e(U,T,W,V,K,16,i[42]),V=e(V,U,T,W,F,23,i[43]),W=e(W,V,U,T,l,4,i[44]),T=e(T,W,V,U,N,11,i[45]),U=e(U,T,W,V,H,16,i[46]),V=e(V,U,T,W,M,23,i[47]),W=d(W,V,U,T,Q,6,i[48]),T=d(T,W,V,U,E,10,i[49]),U=d(U,T,W,V,J,15,i[50]),V=d(V,U,T,W,G,21,i[51]),W=d(W,V,U,T,N,6,i[52]),T=d(T,W,V,U,K,10,i[53]),U=d(U,T,W,V,k,15,i[54]),V=d(V,U,T,W,O,21,i[55]),W=d(W,V,U,T,n,6,i[56]),T=d(T,W,V,U,H,10,i[57]),U=d(U,T,W,V,F,15,i[58]),V=d(V,U,T,W,L,21,i[59]),W=d(W,V,U,T,I,6,i[60]),T=d(T,W,V,U,h,10,i[61]),U=d(U,T,W,V,M,15,i[62]),V=d(V,U,T,W,l,21,i[63]);R[0]=R[0]+W|0;R[1]=R[1]+V|0;R[2]=R[2]+U|0;R[3]=R[3]+T|0},_doFinalize:function(){var k=this._data,r=k.words,q=8*this._nDataBytes,l=8*k.sigBytes;r[l>>>5]|=128<<24-l%32;var n=p.floor(q/4294967296);r[(l+64>>>9<<4)+15]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360;r[(l+64>>>9<<4)+14]=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360;k.sigBytes=4*(r.length+1);this._process();k=this._hash;r=k.words;for(q=0;4>q;q++){l=r[q],r[q]=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360}return k},clone:function(){var h=o.clone.call(this);h._hash=this._hash.clone();return h}});b.MD5=o._createHelper(c);b.HmacMD5=o._createHmacHelper(c)})(Math);(function(){var g=CryptoJS,e=g.lib,c=e.WordArray,f=e.Hasher,h=[],e=g.algo.SHA1=f.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(i,d){for(var u=this._hash.words,q=u[0],o=u[1],l=u[2],k=u[3],s=u[4],r=0;80>r;r++){if(16>r){h[r]=i[d+r]|0}else{var m=h[r-3]^h[r-8]^h[r-14]^h[r-16];h[r]=m<<1|m>>>31}m=(q<<5|q>>>27)+s+h[r];m=20>r?m+((o&l|~o&k)+1518500249):40>r?m+((o^l^k)+1859775393):60>r?m+((o&l|o&k|l&k)-1894007588):m+((o^l^k)-899497514);s=k;k=l;l=o<<30|o>>>2;o=q;q=m}u[0]=u[0]+q|0;u[1]=u[1]+o|0;u[2]=u[2]+l|0;u[3]=u[3]+k|0;u[4]=u[4]+s|0},_doFinalize:function(){var i=this._data,l=i.words,j=8*this._nDataBytes,k=8*i.sigBytes;l[k>>>5]|=128<<24-k%32;l[(k+64>>>9<<4)+14]=Math.floor(j/4294967296);l[(k+64>>>9<<4)+15]=j;i.sigBytes=4*l.length;this._process();return this._hash},clone:function(){var d=f.clone.call(this);d._hash=this._hash.clone();return d}});g.SHA1=f._createHelper(e);g.HmacSHA1=f._createHmacHelper(e)})();(function(i){for(var p=CryptoJS,o=p.lib,A=o.WordArray,m=o.Hasher,o=p.algo,D=[],C=[],B=function(b){return 4294967296*(b-(b|0))|0},f=2,x=0;64>x;){var q;a:{q=f;for(var y=i.sqrt(q),c=2;c<=y;c++){if(!(q%c)){q=!1;break a}}q=!0}q&&(8>x&&(D[x]=B(i.pow(f,0.5))),C[x]=B(i.pow(f,1/3)),x++);f++}var e=[],o=o.SHA256=m.extend({_doReset:function(){this._hash=new A.init(D.slice(0))},_doProcessBlock:function(n,E){for(var L=this._hash.words,J=L[0],I=L[1],K=L[2],v=L[3],G=L[4],F=L[5],w=L[6],u=L[7],H=0;64>H;H++){if(16>H){e[H]=n[E+H]|0}else{var s=e[H-15],r=e[H-2];e[H]=((s<<25|s>>>7)^(s<<14|s>>>18)^s>>>3)+e[H-7]+((r<<15|r>>>17)^(r<<13|r>>>19)^r>>>10)+e[H-16]}s=u+((G<<26|G>>>6)^(G<<21|G>>>11)^(G<<7|G>>>25))+(G&F^~G&w)+C[H]+e[H];r=((J<<30|J>>>2)^(J<<19|J>>>13)^(J<<10|J>>>22))+(J&I^J&K^I&K);u=w;w=F;F=G;G=v+s|0;v=K;K=I;I=J;J=s+r|0}L[0]=L[0]+J|0;L[1]=L[1]+I|0;L[2]=L[2]+K|0;L[3]=L[3]+v|0;L[4]=L[4]+G|0;L[5]=L[5]+F|0;L[6]=L[6]+w|0;L[7]=L[7]+u|0},_doFinalize:function(){var j=this._data,g=j.words,h=8*this._nDataBytes,k=8*j.sigBytes;g[k>>>5]|=128<<24-k%32;g[(k+64>>>9<<4)+14]=i.floor(h/4294967296);g[(k+64>>>9<<4)+15]=h;j.sigBytes=4*g.length;this._process();return this._hash},clone:function(){var d=m.clone.call(this);d._hash=this._hash.clone();return d}});p.SHA256=m._createHelper(o);p.HmacSHA256=m._createHmacHelper(o)})(Math);(function(){var e=CryptoJS,g=e.lib.WordArray,f=e.algo,h=f.SHA256,f=f.SHA224=h.extend({_doReset:function(){this._hash=new g.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var b=h._doFinalize.call(this);b.sigBytes-=4;return b}});e.SHA224=h._createHelper(f);e.HmacSHA224=h._createHmacHelper(f)})();(function(){function j(){return h.create.apply(h,arguments)}for(var c=CryptoJS,b=c.lib.Hasher,g=c.x64,h=g.Word,f=g.WordArray,g=c.algo,i=[j(1116352408,3609767458),j(1899447441,602891725),j(3049323471,3964484399),j(3921009573,2173295548),j(961987163,4081628472),j(1508970993,3053834265),j(2453635748,2937671579),j(2870763221,3664609560),j(3624381080,2734883394),j(310598401,1164996542),j(607225278,1323610764),j(1426881987,3590304994),j(1925078388,4068182383),j(2162078206,991336113),j(2614888103,633803317),j(3248222580,3479774868),j(3835390401,2666613458),j(4022224774,944711139),j(264347078,2341262773),j(604807628,2007800933),j(770255983,1495990901),j(1249150122,1856431235),j(1555081692,3175218132),j(1996064986,2198950837),j(2554220882,3999719339),j(2821834349,766784016),j(2952996808,2566594879),j(3210313671,3203337956),j(3336571891,1034457026),j(3584528711,2466948901),j(113926993,3758326383),j(338241895,168717936),j(666307205,1188179964),j(773529912,1546045734),j(1294757372,1522805485),j(1396182291,2643833823),j(1695183700,2343527390),j(1986661051,1014477480),j(2177026350,1206759142),j(2456956037,344077627),j(2730485921,1290863460),j(2820302411,3158454273),j(3259730800,3505952657),j(3345764771,106217008),j(3516065817,3606008344),j(3600352804,1432725776),j(4094571909,1467031594),j(275423344,851169720),j(430227734,3100823752),j(506948616,1363258195),j(659060556,3750685593),j(883997877,3785050280),j(958139571,3318307427),j(1322822218,3812723403),j(1537002063,2003034995),j(1747873779,3602036899),j(1955562222,1575990012),j(2024104815,1125592928),j(2227730452,2716904306),j(2361852424,442776044),j(2428436474,593698344),j(2756734187,3733110249),j(3204031479,2999351573),j(3329325298,3815920427),j(3391569614,3928383900),j(3515267271,566280711),j(3940187606,3454069534),j(4118630271,4000239992),j(116418474,1914138554),j(174292421,2731055270),j(289380356,3203993006),j(460393269,320620315),j(685471733,587496836),j(852142971,1086792851),j(1017036298,365543100),j(1126000580,2618297676),j(1288033470,3409855158),j(1501505948,4234509866),j(1607167915,987167468),j(1816402316,1246189591)],l=[],k=0;80>k;k++){l[k]=j()}g=g.SHA512=b.extend({_doReset:function(){this._hash=new f.init([new h.init(1779033703,4089235720),new h.init(3144134277,2227873595),new h.init(1013904242,4271175723),new h.init(2773480762,1595750129),new h.init(1359893119,2917565137),new h.init(2600822924,725511199),new h.init(528734635,4215389547),new h.init(1541459225,327033209)])},_doProcessBlock:function(a1,aY){for(var aW=this._hash.words,au=aW[0],aX=aW[1],aP=aW[2],aM=aW[3],at=aW[4],ar=aW[5],aq=aW[6],aW=aW[7],aI=au.high,ap=au.low,ab=aX.high,ao=aX.low,v=aP.high,an=aP.low,o=aM.high,am=aM.low,aC=at.high,al=at.low,aA=ar.high,ak=ar.low,a2=aq.high,aj=aq.low,aD=aW.high,ai=aW.low,aS=aI,aV=ap,aF=ab,aH=ao,az=v,aG=an,ae=o,ay=am,aR=aC,aU=al,ah=aA,ax=ak,ag=a2,aw=aj,ad=aD,av=ai,aQ=0;80>aQ;aQ++){var aL=l[aQ];if(16>aQ){var aT=aL.high=a1[aY+2*aQ]|0,a0=aL.low=a1[aY+2*aQ+1]|0}else{var aT=l[aQ-15],a0=aT.high,aO=aT.low,aT=(a0>>>1|aO<<31)^(a0>>>8|aO<<24)^a0>>>7,aO=(aO>>>1|a0<<31)^(aO>>>8|a0<<24)^(aO>>>7|a0<<25),aJ=l[aQ-2],a0=aJ.high,aZ=aJ.low,aJ=(a0>>>19|aZ<<13)^(a0<<3|aZ>>>29)^a0>>>6,aZ=(aZ>>>19|a0<<13)^(aZ<<3|a0>>>29)^(aZ>>>6|a0<<26),a0=l[aQ-7],ac=a0.high,aK=l[aQ-16],aN=aK.high,aK=aK.low,a0=aO+a0.low,aT=aT+ac+(a0>>>0<aO>>>0?1:0),a0=a0+aZ,aT=aT+aJ+(a0>>>0<aZ>>>0?1:0),a0=a0+aK,aT=aT+aN+(a0>>>0<aK>>>0?1:0);aL.high=aT;aL.low=a0}var ac=aR&ah^~aR&ag,aK=aU&ax^~aU&aw,aL=aS&aF^aS&az^aF&az,af=aV&aH^aV&aG^aH&aG,aO=(aS>>>28|aV<<4)^(aS<<30|aV>>>2)^(aS<<25|aV>>>7),aJ=(aV>>>28|aS<<4)^(aV<<30|aS>>>2)^(aV<<25|aS>>>7),aZ=i[aQ],aE=aZ.high,aB=aZ.low,aZ=av+((aU>>>14|aR<<18)^(aU>>>18|aR<<14)^(aU<<23|aR>>>9)),aN=ad+((aR>>>14|aU<<18)^(aR>>>18|aU<<14)^(aR<<23|aU>>>9))+(aZ>>>0<av>>>0?1:0),aZ=aZ+aK,aN=aN+ac+(aZ>>>0<aK>>>0?1:0),aZ=aZ+aB,aN=aN+aE+(aZ>>>0<aB>>>0?1:0),aZ=aZ+a0,aN=aN+aT+(aZ>>>0<a0>>>0?1:0),a0=aJ+af,aL=aO+aL+(a0>>>0<aJ>>>0?1:0),ad=ag,av=aw,ag=ah,aw=ax,ah=aR,ax=aU,aU=ay+aZ|0,aR=ae+aN+(aU>>>0<ay>>>0?1:0)|0,ae=az,ay=aG,az=aF,aG=aH,aF=aS,aH=aV,aV=aZ+a0|0,aS=aN+aL+(aV>>>0<aZ>>>0?1:0)|0}ap=au.low=ap+aV;au.high=aI+aS+(ap>>>0<aV>>>0?1:0);ao=aX.low=ao+aH;aX.high=ab+aF+(ao>>>0<aH>>>0?1:0);an=aP.low=an+aG;aP.high=v+az+(an>>>0<aG>>>0?1:0);am=aM.low=am+ay;aM.high=o+ae+(am>>>0<ay>>>0?1:0);al=at.low=al+aU;at.high=aC+aR+(al>>>0<aU>>>0?1:0);ak=ar.low=ak+ax;ar.high=aA+ah+(ak>>>0<ax>>>0?1:0);aj=aq.low=aj+aw;aq.high=a2+ag+(aj>>>0<aw>>>0?1:0);ai=aW.low=ai+av;aW.high=aD+ad+(ai>>>0<av>>>0?1:0)},_doFinalize:function(){var m=this._data,p=m.words,n=8*this._nDataBytes,o=8*m.sigBytes;p[o>>>5]|=128<<24-o%32;p[(o+128>>>10<<5)+30]=Math.floor(n/4294967296);p[(o+128>>>10<<5)+31]=n;m.sigBytes=4*p.length;this._process();return this._hash.toX32()},clone:function(){var d=b.clone.call(this);d._hash=this._hash.clone();return d},blockSize:32});c.SHA512=b._createHelper(g);c.HmacSHA512=b._createHmacHelper(g)})();(function(){var j=CryptoJS,g=j.x64,f=g.Word,h=g.WordArray,g=j.algo,i=g.SHA512,g=g.SHA384=i.extend({_doReset:function(){this._hash=new h.init([new f.init(3418070365,3238371032),new f.init(1654270250,914150663),new f.init(2438529370,812702999),new f.init(355462360,4144912697),new f.init(1731405415,4290775857),new f.init(2394180231,1750603025),new f.init(3675008525,1694076839),new f.init(1203062813,3204075428)])},_doFinalize:function(){var b=i._doFinalize.call(this);b.sigBytes-=16;return b}});j.SHA384=i._createHelper(g);j.HmacSHA384=i._createHmacHelper(g)})();(function(){var c=CryptoJS,i=c.lib,h=i.WordArray,f=i.Hasher,i=c.algo,l=h.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),k=h.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),j=h.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=h.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),e=h.create([0,1518500249,1859775393,2400959708,2840853838]),b=h.create([1352829926,1548603684,1836072691,2053994217,0]),i=i.RIPEMD160=f.extend({_doReset:function(){this._hash=h.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(N,x){for(var Q=0;16>Q;Q++){var P=x+Q,M=N[P];N[P]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}var P=this._hash.words,M=e.words,O=b.words,F=l.words,D=k.words,E=j.words,o=g.words,A,L,K,J,C,y,I,H,G,B;y=A=P[0];I=L=P[1];H=K=P[2];G=J=P[3];B=C=P[4];for(var R,Q=0;80>Q;Q+=1){R=A+N[x+F[Q]]|0,R=16>Q?R+((L^K^J)+M[0]):32>Q?R+((L&K|~L&J)+M[1]):48>Q?R+(((L|~K)^J)+M[2]):64>Q?R+((L&J|K&~J)+M[3]):R+((L^(K|~J))+M[4]),R|=0,R=R<<E[Q]|R>>>32-E[Q],R=R+C|0,A=C,C=J,J=K<<10|K>>>22,K=L,L=R,R=y+N[x+D[Q]]|0,R=16>Q?R+((I^(H|~G))+O[0]):32>Q?R+((I&G|H&~G)+O[1]):48>Q?R+(((I|~H)^G)+O[2]):64>Q?R+((I&H|~I&G)+O[3]):R+((I^H^G)+O[4]),R|=0,R=R<<o[Q]|R>>>32-o[Q],R=R+B|0,y=B,B=G,G=H<<10|H>>>22,H=I,I=R}R=P[1]+K+G|0;P[1]=P[2]+J+B|0;P[2]=P[3]+C+y|0;P[3]=P[4]+A+I|0;P[4]=P[0]+L+H|0;P[0]=R},_doFinalize:function(){var n=this._data,o=n.words,m=8*this._nDataBytes,p=8*n.sigBytes;o[p>>>5]|=128<<24-p%32;o[(p+64>>>9<<4)+14]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360;n.sigBytes=4*(o.length+1);this._process();n=this._hash;o=n.words;for(m=0;5>m;m++){p=o[m],o[m]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360}return n},clone:function(){var m=f.clone.call(this);m._hash=this._hash.clone();return m}});c.RIPEMD160=f._createHelper(i);c.HmacRIPEMD160=f._createHmacHelper(i)})(Math);(function(){var d=CryptoJS,b=d.enc.Utf8;d.algo.HMAC=d.lib.Base.extend({init:function(r,q){r=this._hasher=new r.init;"string"==typeof q&&(q=b.parse(q));var p=r.blockSize,n=4*p;q.sigBytes>n&&(q=r.finalize(q));q.clamp();for(var m=this._oKey=q.clone(),l=this._iKey=q.clone(),k=m.words,i=l.words,o=0;o<p;o++){k[o]^=1549556828,i[o]^=909522486}m.sigBytes=l.sigBytes=n;this.reset()},reset:function(){var c=this._hasher;c.reset();c.update(this._iKey)},update:function(c){this._hasher.update(c);return this},finalize:function(e){var c=this._hasher;e=c.finalize(e);c.reset();return c.finalize(this._oKey.clone().concat(e))}})})();(function(){var e=CryptoJS,g=e.lib,i=g.Base,c=g.WordArray,g=e.algo,h=g.HMAC,f=g.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:g.SHA1,iterations:1}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(F,E){for(var D=this.cfg,A=h.create(D.hasher,F),y=c.create(),C=c.create([1]),u=y.words,m=C.words,q=D.keySize,D=D.iterations;u.length<q;){var x=A.update(E).finalize(C);A.reset();for(var w=x.words,H=w.length,v=x,o=1;o<D;o++){v=A.finalize(v);A.reset();for(var G=v.words,B=0;B<H;B++){w[B]^=G[B]}}y.concat(x);m[0]++}y.sigBytes=4*q;return y}});e.PBKDF2=function(j,d,k){return f.create(k).compute(j,d)}})();
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
;var b64map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var b64pad="=";function hex2b64(h){var c;var g;var f="";for(c=0;c+3<=h.length;c+=3){g=parseInt(h.substring(c,c+3),16);f+=b64map.charAt(g>>6)+b64map.charAt(g&63)}if(c+1==h.length){g=parseInt(h.substring(c,c+1),16);f+=b64map.charAt(g<<2)}else{if(c+2==h.length){g=parseInt(h.substring(c,c+2),16);f+=b64map.charAt(g>>2)+b64map.charAt((g&3)<<4)}}if(b64pad){while((f.length&3)>0){f+=b64pad}}return f}function b64tohex(i){var k="";var j;var g=0;var l;var h;for(j=0;j<i.length;++j){if(i.charAt(j)==b64pad){break}h=b64map.indexOf(i.charAt(j));if(h<0){continue}if(g==0){k+=int2char(h>>2);l=h&3;g=1}else{if(g==1){k+=int2char((l<<2)|(h>>4));l=h&15;g=2}else{if(g==2){k+=int2char(l);k+=int2char(h>>2);l=h&3;g=3}else{k+=int2char((l<<2)|(h>>4));k+=int2char(h&15);g=0}}}}if(g==1){k+=int2char(l<<2)}return k}function b64toBA(g){var h=b64tohex(g);var i;var f=new Array();for(i=0;2*i<h.length;++i){f[i]=parseInt(h.substring(2*i,2*i+2),16)}return f}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
;var dbits;var canary=244837814094590;var j_lm=((canary&16777215)==15715070);function BigInteger(c,g,b){if(c!=null){if("number"==typeof c){this.fromNumber(c,g,b)}else{if(g==null&&"string"!=typeof c){this.fromString(c,256)}else{this.fromString(c,g)}}}}function nbi(){return new BigInteger(null)}function am1(l,i,c,m,j,k){while(--k>=0){var n=i*this[l++]+c[m]+j;j=Math.floor(n/67108864);c[m++]=n&67108863}return j}function am2(n,h,c,s,j,w){var l=h&32767,i=h>>15;while(--w>=0){var u=this[n]&32767;var m=this[n++]>>15;var v=i*u+m*l;u=l*u+((v&32767)<<15)+c[s]+(j&1073741823);j=(u>>>30)+(v>>>15)+i*m+(j>>>30);c[s++]=u&1073741823}return j}function am3(n,h,c,s,j,w){var l=h&16383,i=h>>14;while(--w>=0){var u=this[n]&16383;var m=this[n++]>>14;var v=i*u+m*l;u=l*u+((v&16383)<<14)+c[s]+j;j=(u>>28)+(v>>14)+i*m;c[s++]=u&268435455}return j}if(j_lm&&(navigator.appName=="Microsoft Internet Explorer")){BigInteger.prototype.am=am2;dbits=30}else{if(j_lm&&(navigator.appName!="Netscape")){BigInteger.prototype.am=am1;dbits=26}else{BigInteger.prototype.am=am3;dbits=28}}BigInteger.prototype.DB=dbits;BigInteger.prototype.DM=((1<<dbits)-1);BigInteger.prototype.DV=(1<<dbits);var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP);BigInteger.prototype.F1=BI_FP-dbits;BigInteger.prototype.F2=2*dbits-BI_FP;var BI_RM="0123456789abcdefghijklmnopqrstuvwxyz";var BI_RC=new Array();var rr,vv;rr="0".charCodeAt(0);for(vv=0;vv<=9;++vv){BI_RC[rr++]=vv}rr="a".charCodeAt(0);for(vv=10;vv<36;++vv){BI_RC[rr++]=vv}rr="A".charCodeAt(0);for(vv=10;vv<36;++vv){BI_RC[rr++]=vv}function int2char(b){return BI_RM.charAt(b)}function intAt(c,e){var f=BI_RC[c.charCodeAt(e)];return(f==null)?-1:f}function bnpCopyTo(c){for(var d=this.t-1;d>=0;--d){c[d]=this[d]}c.t=this.t;c.s=this.s}function bnpFromInt(b){this.t=1;this.s=(b<0)?-1:0;if(b>0){this[0]=b}else{if(b<-1){this[0]=b+this.DV}else{this.t=0}}}function nbv(d){var c=nbi();c.fromInt(d);return c}function bnpFromString(i,n){var l;if(n==16){l=4}else{if(n==8){l=3}else{if(n==256){l=8}else{if(n==2){l=1}else{if(n==32){l=5}else{if(n==4){l=2}else{this.fromRadix(i,n);return}}}}}}this.t=0;this.s=0;var j=i.length,m=false,k=0;while(--j>=0){var b=(l==8)?i[j]&255:intAt(i,j);if(b<0){if(i.charAt(j)=="-"){m=true}continue}m=false;if(k==0){this[this.t++]=b}else{if(k+l>this.DB){this[this.t-1]|=(b&((1<<(this.DB-k))-1))<<k;this[this.t++]=(b>>(this.DB-k))}else{this[this.t-1]|=b<<k}}k+=l;if(k>=this.DB){k-=this.DB}}if(l==8&&(i[0]&128)!=0){this.s=-1;if(k>0){this[this.t-1]|=((1<<(this.DB-k))-1)<<k}}this.clamp();if(m){BigInteger.ZERO.subTo(this,this)}}function bnpClamp(){var b=this.s&this.DM;while(this.t>0&&this[this.t-1]==b){--this.t}}function bnToString(p){if(this.s<0){return"-"+this.negate().toString(p)}var o;if(p==16){o=4}else{if(p==8){o=3}else{if(p==2){o=1}else{if(p==32){o=5}else{if(p==4){o=2}else{return this.toRadix(p)}}}}}var m=(1<<o)-1,d,b=false,k="",n=this.t;var i=this.DB-(n*this.DB)%o;if(n-->0){if(i<this.DB&&(d=this[n]>>i)>0){b=true;k=int2char(d)}while(n>=0){if(i<o){d=(this[n]&((1<<i)-1))<<(o-i);d|=this[--n]>>(i+=this.DB-o)}else{d=(this[n]>>(i-=o))&m;if(i<=0){i+=this.DB;--n}}if(d>0){b=true}if(b){k+=int2char(d)}}}return b?k:"0"}function bnNegate(){var b=nbi();BigInteger.ZERO.subTo(this,b);return b}function bnAbs(){return(this.s<0)?this.negate():this}function bnCompareTo(e){var f=this.s-e.s;if(f!=0){return f}var g=this.t;f=g-e.t;if(f!=0){return(this.s<0)?-f:f}while(--g>=0){if((f=this[g]-e[g])!=0){return f}}return 0}function nbits(e){var f=1,d;if((d=e>>>16)!=0){e=d;f+=16}if((d=e>>8)!=0){e=d;f+=8}if((d=e>>4)!=0){e=d;f+=4}if((d=e>>2)!=0){e=d;f+=2}if((d=e>>1)!=0){e=d;f+=1}return f}function bnBitLength(){if(this.t<=0){return 0}return this.DB*(this.t-1)+nbits(this[this.t-1]^(this.s&this.DM))}function bnpDLShiftTo(f,d){var e;for(e=this.t-1;e>=0;--e){d[e+f]=this[e]}for(e=f-1;e>=0;--e){d[e]=0}d.t=this.t+f;d.s=this.s}function bnpDRShiftTo(f,d){for(var e=f;e<this.t;++e){d[e-f]=this[e]}d.t=Math.max(this.t-f,0);d.s=this.s}function bnpLShiftTo(k,o){var c=k%this.DB;var i=this.DB-c;var m=(1<<i)-1;var n=Math.floor(k/this.DB),l=(this.s<<c)&this.DM,p;for(p=this.t-1;p>=0;--p){o[p+n+1]=(this[p]>>i)|l;l=(this[p]&m)<<c}for(p=n-1;p>=0;--p){o[p]=0}o[n]=l;o.t=this.t+n+1;o.s=this.s;o.clamp()}function bnpRShiftTo(j,m){m.s=this.s;var l=Math.floor(j/this.DB);if(l>=this.t){m.t=0;return}var h=j%this.DB;var i=this.DB-h;var k=(1<<h)-1;m[0]=this[l]>>h;for(var n=l+1;n<this.t;++n){m[n-l-1]|=(this[n]&k)<<i;m[n-l]=this[n]>>h}if(h>0){m[this.t-l-1]|=(this.s&k)<<i}m.t=this.t-l;m.clamp()}function bnpSubTo(k,i){var j=0,h=0,c=Math.min(k.t,this.t);while(j<c){h+=this[j]-k[j];i[j++]=h&this.DM;h>>=this.DB}if(k.t<this.t){h-=k.s;while(j<this.t){h+=this[j];i[j++]=h&this.DM;h>>=this.DB}h+=this.s}else{h+=this.s;while(j<k.t){h-=k[j];i[j++]=h&this.DM;h>>=this.DB}h-=k.s}i.s=(h<0)?-1:0;if(h<-1){i[j++]=this.DV+h}else{if(h>0){i[j++]=h}}i.t=j;i.clamp()}function bnpMultiplyTo(k,i){var g=this.abs(),h=k.abs();var j=g.t;i.t=j+h.t;while(--j>=0){i[j]=0}for(j=0;j<h.t;++j){i[j+g.t]=g.am(0,h[j],i,j,0,g.t)}i.s=0;i.clamp();if(this.s!=k.s){BigInteger.ZERO.subTo(i,i)}}function bnpSquareTo(h){var f=this.abs();var c=h.t=2*f.t;while(--c>=0){h[c]=0}for(c=0;c<f.t-1;++c){var g=f.am(c,f[c],h,2*c,0,1);if((h[c+f.t]+=f.am(c+1,2*f[c],h,2*c+1,g,f.t-c-1))>=f.DV){h[c+f.t]-=f.DV;h[c+f.t+1]=1}}if(h.t>0){h[h.t-1]+=f.am(c,f[c],h,2*c,0,1)}h.s=0;h.clamp()}function bnpDivRemTo(D,G,H){var j=D.abs();if(j.t<=0){return}var F=this.abs();if(F.t<j.t){if(G!=null){G.fromInt(0)}if(H!=null){this.copyTo(H)}return}if(H==null){H=nbi()}var J=nbi(),M=this.s,E=D.s;var m=this.DB-nbits(j[j.t-1]);if(m>0){j.lShiftTo(m,J);F.lShiftTo(m,H)}else{j.copyTo(J);F.copyTo(H)}var B=J.t;var L=J[B-1];if(L==0){return}var C=L*(1<<this.F1)+((B>1)?J[B-2]>>this.F2:0);var y=this.FV/C,e=(1<<this.F1)/C,i=1<<this.F2;var q=H.t,r=q-B,I=(G==null)?nbi():G;J.dlShiftTo(r,I);if(H.compareTo(I)>=0){H[H.t++]=1;H.subTo(I,H)}BigInteger.ONE.dlShiftTo(B,I);I.subTo(J,J);while(J.t<B){J[J.t++]=0}while(--r>=0){var K=(H[--q]==L)?this.DM:Math.floor(H[q]*y+(H[q-1]+i)*e);if((H[q]+=J.am(0,K,H,r,0,B))<K){J.dlShiftTo(r,I);H.subTo(I,H);while(H[q]<--K){H.subTo(I,H)}}}if(G!=null){H.drShiftTo(B,G);if(M!=E){BigInteger.ZERO.subTo(G,G)}}H.t=B;H.clamp();if(m>0){H.rShiftTo(m,H)}if(M<0){BigInteger.ZERO.subTo(H,H)}}function bnMod(d){var e=nbi();this.abs().divRemTo(d,null,e);if(this.s<0&&e.compareTo(BigInteger.ZERO)>0){d.subTo(e,e)}return e}function Classic(b){this.m=b}function cConvert(b){if(b.s<0||b.compareTo(this.m)>=0){return b.mod(this.m)}else{return b}}function cRevert(b){return b}function cReduce(b){b.divRemTo(this.m,null,b)}function cMulTo(e,f,d){e.multiplyTo(f,d);this.reduce(d)}function cSqrTo(d,c){d.squareTo(c);this.reduce(c)}Classic.prototype.convert=cConvert;Classic.prototype.revert=cRevert;Classic.prototype.reduce=cReduce;Classic.prototype.mulTo=cMulTo;Classic.prototype.sqrTo=cSqrTo;function bnpInvDigit(){if(this.t<1){return 0}var d=this[0];if((d&1)==0){return 0}var c=d&3;c=(c*(2-(d&15)*c))&15;c=(c*(2-(d&255)*c))&255;c=(c*(2-(((d&65535)*c)&65535)))&65535;c=(c*(2-d*c%this.DV))%this.DV;return(c>0)?this.DV-c:-c}function Montgomery(b){this.m=b;this.mp=b.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<(b.DB-15))-1;this.mt2=2*b.t}function montConvert(d){var c=nbi();d.abs().dlShiftTo(this.m.t,c);c.divRemTo(this.m,null,c);if(d.s<0&&c.compareTo(BigInteger.ZERO)>0){this.m.subTo(c,c)}return c}function montRevert(d){var c=nbi();d.copyTo(c);this.reduce(c);return c}function montReduce(f){while(f.t<=this.mt2){f[f.t++]=0}for(var h=0;h<this.m.t;++h){var e=f[h]&32767;var g=(e*this.mpl+(((e*this.mph+(f[h]>>15)*this.mpl)&this.um)<<15))&f.DM;e=h+this.m.t;f[e]+=this.m.am(0,g,f,h,0,this.m.t);while(f[e]>=f.DV){f[e]-=f.DV;f[++e]++}}f.clamp();f.drShiftTo(this.m.t,f);if(f.compareTo(this.m)>=0){f.subTo(this.m,f)}}function montSqrTo(d,c){d.squareTo(c);this.reduce(c)}function montMulTo(e,f,d){e.multiplyTo(f,d);this.reduce(d)}Montgomery.prototype.convert=montConvert;Montgomery.prototype.revert=montRevert;Montgomery.prototype.reduce=montReduce;Montgomery.prototype.mulTo=montMulTo;Montgomery.prototype.sqrTo=montSqrTo;function bnpIsEven(){return((this.t>0)?(this[0]&1):this.s)==0}function bnpExp(k,i){if(k>4294967295||k<1){return BigInteger.ONE}var l=nbi(),g=nbi(),m=i.convert(this),n=nbits(k)-1;m.copyTo(l);while(--n>=0){i.sqrTo(l,g);if((k&(1<<n))>0){i.mulTo(g,m,l)}else{var e=l;l=g;g=e}}return i.revert(l)}function bnModPowInt(d,e){var f;if(d<256||e.isEven()){f=new Classic(e)}else{f=new Montgomery(e)}return this.exp(d,f)}BigInteger.prototype.copyTo=bnpCopyTo;BigInteger.prototype.fromInt=bnpFromInt;BigInteger.prototype.fromString=bnpFromString;BigInteger.prototype.clamp=bnpClamp;BigInteger.prototype.dlShiftTo=bnpDLShiftTo;BigInteger.prototype.drShiftTo=bnpDRShiftTo;BigInteger.prototype.lShiftTo=bnpLShiftTo;BigInteger.prototype.rShiftTo=bnpRShiftTo;BigInteger.prototype.subTo=bnpSubTo;BigInteger.prototype.multiplyTo=bnpMultiplyTo;BigInteger.prototype.squareTo=bnpSquareTo;BigInteger.prototype.divRemTo=bnpDivRemTo;BigInteger.prototype.invDigit=bnpInvDigit;BigInteger.prototype.isEven=bnpIsEven;BigInteger.prototype.exp=bnpExp;BigInteger.prototype.toString=bnToString;BigInteger.prototype.negate=bnNegate;BigInteger.prototype.abs=bnAbs;BigInteger.prototype.compareTo=bnCompareTo;BigInteger.prototype.bitLength=bnBitLength;BigInteger.prototype.mod=bnMod;BigInteger.prototype.modPowInt=bnModPowInt;BigInteger.ZERO=nbv(0);BigInteger.ONE=nbv(1);
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
;function bnClone(){var b=nbi();this.copyTo(b);return b}function bnIntValue(){if(this.s<0){if(this.t==1){return this[0]-this.DV}else{if(this.t==0){return -1}}}else{if(this.t==1){return this[0]}else{if(this.t==0){return 0}}}return((this[1]&((1<<(32-this.DB))-1))<<this.DB)|this[0]}function bnByteValue(){return(this.t==0)?this.s:(this[0]<<24)>>24}function bnShortValue(){return(this.t==0)?this.s:(this[0]<<16)>>16}function bnpChunkSize(b){return Math.floor(Math.LN2*this.DB/Math.log(b))}function bnSigNum(){if(this.s<0){return -1}else{if(this.t<=0||(this.t==1&&this[0]<=0)){return 0}else{return 1}}}function bnpToRadix(o){if(o==null){o=10}if(this.signum()==0||o<2||o>36){return"0"}var m=this.chunkSize(o);var n=Math.pow(o,m);var d=nbv(n),b=nbi(),k=nbi(),l="";this.divRemTo(d,b,k);while(b.signum()>0){l=(n+k.intValue()).toString(o).substr(1)+l;b.divRemTo(d,b,k)}return k.intValue().toString(o)+l}function bnpFromRadix(b,j){this.fromInt(0);if(j==null){j=10}var o=this.chunkSize(j);var n=Math.pow(j,o),p=false,r=0,d=0;for(var q=0;q<b.length;++q){var i=intAt(b,q);if(i<0){if(b.charAt(q)=="-"&&this.signum()==0){p=true}continue}d=j*d+i;if(++r>=o){this.dMultiply(n);this.dAddOffset(d,0);r=0;d=0}}if(r>0){this.dMultiply(Math.pow(j,r));this.dAddOffset(d,0)}if(p){BigInteger.ZERO.subTo(this,this)}}function bnpFromNumber(i,j,b){if("number"==typeof j){if(i<2){this.fromInt(1)}else{this.fromNumber(i,b);if(!this.testBit(i-1)){this.bitwiseTo(BigInteger.ONE.shiftLeft(i-1),op_or,this)}if(this.isEven()){this.dAddOffset(1,0)}while(!this.isProbablePrime(j)){this.dAddOffset(2,0);if(this.bitLength()>i){this.subTo(BigInteger.ONE.shiftLeft(i-1),this)}}}}else{var k=new Array(),c=i&7;k.length=(i>>3)+1;j.nextBytes(k);if(c>0){k[0]&=((1<<c)-1)}else{k[0]=0}this.fromString(k,256)}}function bnToByteArray(){var d=this.t,j=new Array();j[0]=this.s;var i=this.DB-(d*this.DB)%8,h,g=0;if(d-->0){if(i<this.DB&&(h=this[d]>>i)!=(this.s&this.DM)>>i){j[g++]=h|(this.s<<(this.DB-i))}while(d>=0){if(i<8){h=(this[d]&((1<<i)-1))<<(8-i);h|=this[--d]>>(i+=this.DB-8)}else{h=(this[d]>>(i-=8))&255;if(i<=0){i+=this.DB;--d}}if((h&128)!=0){h|=-256}if(g==0&&(this.s&128)!=(h&128)){++g}if(g>0||h!=this.s){j[g++]=h}}}return j}function bnEquals(c){return(this.compareTo(c)==0)}function bnMin(c){return(this.compareTo(c)<0)?this:c}function bnMax(c){return(this.compareTo(c)>0)?this:c}function bnpBitwiseTo(m,i,k){var l,j,f=Math.min(m.t,this.t);for(l=0;l<f;++l){k[l]=i(this[l],m[l])}if(m.t<this.t){j=m.s&this.DM;for(l=f;l<this.t;++l){k[l]=i(this[l],j)}k.t=this.t}else{j=this.s&this.DM;for(l=f;l<m.t;++l){k[l]=i(j,m[l])}k.t=m.t}k.s=i(this.s,m.s);k.clamp()}function op_and(d,c){return d&c}function bnAnd(d){var e=nbi();this.bitwiseTo(d,op_and,e);return e}function op_or(d,c){return d|c}function bnOr(d){var e=nbi();this.bitwiseTo(d,op_or,e);return e}function op_xor(d,c){return d^c}function bnXor(d){var e=nbi();this.bitwiseTo(d,op_xor,e);return e}function op_andnot(d,c){return d&~c}function bnAndNot(d){var e=nbi();this.bitwiseTo(d,op_andnot,e);return e}function bnNot(){var c=nbi();for(var d=0;d<this.t;++d){c[d]=this.DM&~this[d]}c.t=this.t;c.s=~this.s;return c}function bnShiftLeft(c){var d=nbi();if(c<0){this.rShiftTo(-c,d)}else{this.lShiftTo(c,d)}return d}function bnShiftRight(c){var d=nbi();if(c<0){this.lShiftTo(-c,d)}else{this.rShiftTo(c,d)}return d}function lbit(d){if(d==0){return -1}var c=0;if((d&65535)==0){d>>=16;c+=16}if((d&255)==0){d>>=8;c+=8}if((d&15)==0){d>>=4;c+=4}if((d&3)==0){d>>=2;c+=2}if((d&1)==0){++c}return c}function bnGetLowestSetBit(){for(var b=0;b<this.t;++b){if(this[b]!=0){return b*this.DB+lbit(this[b])}}if(this.s<0){return this.t*this.DB}return -1}function cbit(d){var c=0;while(d!=0){d&=d-1;++c}return c}function bnBitCount(){var f=0,e=this.s&this.DM;for(var d=0;d<this.t;++d){f+=cbit(this[d]^e)}return f}function bnTestBit(c){var d=Math.floor(c/this.DB);if(d>=this.t){return(this.s!=0)}return((this[d]&(1<<(c%this.DB)))!=0)}function bnpChangeBit(f,d){var e=BigInteger.ONE.shiftLeft(f);this.bitwiseTo(e,d,e);return e}function bnSetBit(b){return this.changeBit(b,op_or)}function bnClearBit(b){return this.changeBit(b,op_andnot)}function bnFlipBit(b){return this.changeBit(b,op_xor)}function bnpAddTo(k,i){var j=0,h=0,c=Math.min(k.t,this.t);while(j<c){h+=this[j]+k[j];i[j++]=h&this.DM;h>>=this.DB}if(k.t<this.t){h+=k.s;while(j<this.t){h+=this[j];i[j++]=h&this.DM;h>>=this.DB}h+=this.s}else{h+=this.s;while(j<k.t){h+=k[j];i[j++]=h&this.DM;h>>=this.DB}h+=k.s}i.s=(h<0)?-1:0;if(h>0){i[j++]=h}else{if(h<-1){i[j++]=this.DV+h}}i.t=j;i.clamp()}function bnAdd(d){var e=nbi();this.addTo(d,e);return e}function bnSubtract(d){var e=nbi();this.subTo(d,e);return e}function bnMultiply(d){var e=nbi();this.multiplyTo(d,e);return e}function bnSquare(){var b=nbi();this.squareTo(b);return b}function bnDivide(d){var e=nbi();this.divRemTo(d,e,null);return e}function bnRemainder(d){var e=nbi();this.divRemTo(d,null,e);return e}function bnDivideAndRemainder(e){var f=nbi(),g=nbi();this.divRemTo(e,f,g);return new Array(f,g)}function bnpDMultiply(b){this[this.t]=this.am(0,b-1,this,0,0,this.t);++this.t;this.clamp()}function bnpDAddOffset(c,d){if(c==0){return}while(this.t<=d){this[this.t++]=0}this[d]+=c;while(this[d]>=this.DV){this[d]-=this.DV;if(++d>=this.t){this[this.t++]=0}++this[d]}}function NullExp(){}function nNop(b){return b}function nMulTo(e,f,d){e.multiplyTo(f,d)}function nSqrTo(d,c){d.squareTo(c)}NullExp.prototype.convert=nNop;NullExp.prototype.revert=nNop;NullExp.prototype.mulTo=nMulTo;NullExp.prototype.sqrTo=nSqrTo;function bnPow(b){return this.exp(b,new NullExp())}function bnpMultiplyLowerTo(g,h,i){var j=Math.min(this.t+g.t,h);i.s=0;i.t=j;while(j>0){i[--j]=0}var k;for(k=i.t-this.t;j<k;++j){i[j+this.t]=this.am(0,g[j],i,j,0,this.t)}for(k=Math.min(g.t,h);j<k;++j){this.am(0,g[j],i,j,0,h-j)}i.clamp()}function bnpMultiplyUpperTo(f,g,h){--g;var i=h.t=this.t+f.t-g;h.s=0;while(--i>=0){h[i]=0}for(i=Math.max(g-this.t,0);i<f.t;++i){h[this.t+i-g]=this.am(g-i,f[i],h,0,0,this.t+i-g)}h.clamp();h.drShiftTo(1,h)}function Barrett(b){this.r2=nbi();this.q3=nbi();BigInteger.ONE.dlShiftTo(2*b.t,this.r2);this.mu=this.r2.divide(b);this.m=b}function barrettConvert(d){if(d.s<0||d.t>2*this.m.t){return d.mod(this.m)}else{if(d.compareTo(this.m)<0){return d}else{var c=nbi();d.copyTo(c);this.reduce(c);return c}}}function barrettRevert(b){return b}function barrettReduce(b){b.drShiftTo(this.m.t-1,this.r2);if(b.t>this.m.t+1){b.t=this.m.t+1;b.clamp()}this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(b.compareTo(this.r2)<0){b.dAddOffset(1,this.m.t+1)}b.subTo(this.r2,b);while(b.compareTo(this.m)>=0){b.subTo(this.m,b)}}function barrettSqrTo(d,c){d.squareTo(c);this.reduce(c)}function barrettMulTo(e,f,d){e.multiplyTo(f,d);this.reduce(d)}Barrett.prototype.convert=barrettConvert;Barrett.prototype.revert=barrettRevert;Barrett.prototype.reduce=barrettReduce;Barrett.prototype.mulTo=barrettMulTo;Barrett.prototype.sqrTo=barrettSqrTo;function bnModPow(e,n){var j=e.bitLength(),m,C=nbv(1),F;if(j<=0){return C}else{if(j<18){m=1}else{if(j<48){m=3}else{if(j<144){m=4}else{if(j<768){m=5}else{m=6}}}}}if(j<8){F=new Classic(n)}else{if(n.isEven()){F=new Barrett(n)}else{F=new Montgomery(n)}}var g=new Array(),r=3,H=m-1,E=(1<<m)-1;g[1]=F.convert(this);if(m>1){var i=nbi();F.sqrTo(g[1],i);while(r<=E){g[r]=nbi();F.mulTo(i,g[r-2],g[r]);r+=2}}var k=e.t-1,D,G=true,w=nbi(),B;j=nbits(e[k])-1;while(k>=0){if(j>=H){D=(e[k]>>(j-H))&E}else{D=(e[k]&((1<<(j+1))-1))<<(H-j);if(k>0){D|=e[k-1]>>(this.DB+j-H)}}r=m;while((D&1)==0){D>>=1;--r}if((j-=r)<0){j+=this.DB;--k}if(G){g[D].copyTo(C);G=false}else{while(r>1){F.sqrTo(C,w);F.sqrTo(w,C);r-=2}if(r>0){F.sqrTo(C,w)}else{B=C;C=w;w=B}F.mulTo(w,g[D],C)}while(k>=0&&(e[k]&(1<<j))==0){F.sqrTo(C,w);B=C;C=w;w=B;if(--j<0){j=this.DB-1;--k}}}return F.revert(C)}function bnGCD(m){var g=(this.s<0)?this.negate():this.clone();var i=(m.s<0)?m.negate():m.clone();if(g.compareTo(i)<0){var k=g;g=i;i=k}var l=g.getLowestSetBit(),j=i.getLowestSetBit();if(j<0){return g}if(l<j){j=l}if(j>0){g.rShiftTo(j,g);i.rShiftTo(j,i)}while(g.signum()>0){if((l=g.getLowestSetBit())>0){g.rShiftTo(l,g)}if((l=i.getLowestSetBit())>0){i.rShiftTo(l,i)}if(g.compareTo(i)>=0){g.subTo(i,g);g.rShiftTo(1,g)}else{i.subTo(g,i);i.rShiftTo(1,i)}}if(j>0){i.lShiftTo(j,i)}return i}function bnpModInt(g){if(g<=0){return 0}var h=this.DV%g,d=(this.s<0)?g-1:0;if(this.t>0){if(h==0){d=this[0]%g}else{for(var f=this.t-1;f>=0;--f){d=(h*d+this[f])%g}}}return d}function bnModInverse(p){var d=p.isEven();if((this.isEven()&&d)||p.signum()==0){return BigInteger.ZERO}var m=p.clone(),n=this.clone();var o=nbv(1),q=nbv(0),b=nbv(0),c=nbv(1);while(m.signum()!=0){while(m.isEven()){m.rShiftTo(1,m);if(d){if(!o.isEven()||!q.isEven()){o.addTo(this,o);q.subTo(p,q)}o.rShiftTo(1,o)}else{if(!q.isEven()){q.subTo(p,q)}}q.rShiftTo(1,q)}while(n.isEven()){n.rShiftTo(1,n);if(d){if(!b.isEven()||!c.isEven()){b.addTo(this,b);c.subTo(p,c)}b.rShiftTo(1,b)}else{if(!c.isEven()){c.subTo(p,c)}}c.rShiftTo(1,c)}if(m.compareTo(n)>=0){m.subTo(n,m);if(d){o.subTo(b,o)}q.subTo(c,q)}else{n.subTo(m,n);if(d){b.subTo(o,b)}c.subTo(q,c)}}if(n.compareTo(BigInteger.ONE)!=0){return BigInteger.ZERO}if(c.compareTo(p)>=0){return c.subtract(p)}if(c.signum()<0){c.addTo(p,c)}else{return c}if(c.signum()<0){return c.add(p)}else{return c}}var lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997];var lplim=(1<<26)/lowprimes[lowprimes.length-1];function bnIsProbablePrime(h){var i,f=this.abs();if(f.t==1&&f[0]<=lowprimes[lowprimes.length-1]){for(i=0;i<lowprimes.length;++i){if(f[0]==lowprimes[i]){return true}}return false}if(f.isEven()){return false}i=1;while(i<lowprimes.length){var g=lowprimes[i],j=i+1;while(j<lowprimes.length&&g<lplim){g*=lowprimes[j++]}g=f.modInt(g);while(i<j){if(g%lowprimes[i++]==0){return false}}}return f.millerRabin(h)}function bnpMillerRabin(n){var m=this.subtract(BigInteger.ONE);var q=m.getLowestSetBit();if(q<=0){return false}var k=m.shiftRight(q);n=(n+1)>>1;if(n>lowprimes.length){n=lowprimes.length}var i=nbi();for(var o=0;o<n;++o){i.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);var j=i.modPow(k,this);if(j.compareTo(BigInteger.ONE)!=0&&j.compareTo(m)!=0){var p=1;while(p++<q&&j.compareTo(m)!=0){j=j.modPowInt(2,this);if(j.compareTo(BigInteger.ONE)==0){return false}}if(j.compareTo(m)!=0){return false}}}return true}BigInteger.prototype.chunkSize=bnpChunkSize;BigInteger.prototype.toRadix=bnpToRadix;BigInteger.prototype.fromRadix=bnpFromRadix;BigInteger.prototype.fromNumber=bnpFromNumber;BigInteger.prototype.bitwiseTo=bnpBitwiseTo;BigInteger.prototype.changeBit=bnpChangeBit;BigInteger.prototype.addTo=bnpAddTo;BigInteger.prototype.dMultiply=bnpDMultiply;BigInteger.prototype.dAddOffset=bnpDAddOffset;BigInteger.prototype.multiplyLowerTo=bnpMultiplyLowerTo;BigInteger.prototype.multiplyUpperTo=bnpMultiplyUpperTo;BigInteger.prototype.modInt=bnpModInt;BigInteger.prototype.millerRabin=bnpMillerRabin;BigInteger.prototype.clone=bnClone;BigInteger.prototype.intValue=bnIntValue;BigInteger.prototype.byteValue=bnByteValue;BigInteger.prototype.shortValue=bnShortValue;BigInteger.prototype.signum=bnSigNum;BigInteger.prototype.toByteArray=bnToByteArray;BigInteger.prototype.equals=bnEquals;BigInteger.prototype.min=bnMin;BigInteger.prototype.max=bnMax;BigInteger.prototype.and=bnAnd;BigInteger.prototype.or=bnOr;BigInteger.prototype.xor=bnXor;BigInteger.prototype.andNot=bnAndNot;BigInteger.prototype.not=bnNot;BigInteger.prototype.shiftLeft=bnShiftLeft;BigInteger.prototype.shiftRight=bnShiftRight;BigInteger.prototype.getLowestSetBit=bnGetLowestSetBit;BigInteger.prototype.bitCount=bnBitCount;BigInteger.prototype.testBit=bnTestBit;BigInteger.prototype.setBit=bnSetBit;BigInteger.prototype.clearBit=bnClearBit;BigInteger.prototype.flipBit=bnFlipBit;BigInteger.prototype.add=bnAdd;BigInteger.prototype.subtract=bnSubtract;BigInteger.prototype.multiply=bnMultiply;BigInteger.prototype.divide=bnDivide;BigInteger.prototype.remainder=bnRemainder;BigInteger.prototype.divideAndRemainder=bnDivideAndRemainder;BigInteger.prototype.modPow=bnModPow;BigInteger.prototype.modInverse=bnModInverse;BigInteger.prototype.pow=bnPow;BigInteger.prototype.gcd=bnGCD;BigInteger.prototype.isProbablePrime=bnIsProbablePrime;BigInteger.prototype.square=bnSquare;
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
;function Arcfour(){this.i=0;this.j=0;this.S=new Array()}function ARC4init(g){var h,f,e;for(h=0;h<256;++h){this.S[h]=h}f=0;for(h=0;h<256;++h){f=(f+this.S[h]+g[h%g.length])&255;e=this.S[h];this.S[h]=this.S[f];this.S[f]=e}this.i=0;this.j=0}function ARC4next(){var b;this.i=(this.i+1)&255;this.j=(this.j+this.S[this.i])&255;b=this.S[this.i];this.S[this.i]=this.S[this.j];this.S[this.j]=b;return this.S[(b+this.S[this.i])&255]}Arcfour.prototype.init=ARC4init;Arcfour.prototype.next=ARC4next;function prng_newstate(){return new Arcfour()}var rng_psize=256;
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
;var rng_state;var rng_pool;var rng_pptr;function rng_seed_int(b){rng_pool[rng_pptr++]^=b&255;rng_pool[rng_pptr++]^=(b>>8)&255;rng_pool[rng_pptr++]^=(b>>16)&255;rng_pool[rng_pptr++]^=(b>>24)&255;if(rng_pptr>=rng_psize){rng_pptr-=rng_psize}}function rng_seed_time(){rng_seed_int(new Date().getTime())}if(rng_pool==null){rng_pool=new Array();rng_pptr=0;var t;if(window!==undefined&&(window.crypto!==undefined||window.msCrypto!==undefined)){var crypto=window.crypto||window.msCrypto;if(crypto.getRandomValues){var ua=new Uint8Array(32);crypto.getRandomValues(ua);for(t=0;t<32;++t){rng_pool[rng_pptr++]=ua[t]}}else{if(navigator.appName=="Netscape"&&navigator.appVersion<"5"){var z=window.crypto.random(32);for(t=0;t<z.length;++t){rng_pool[rng_pptr++]=z.charCodeAt(t)&255}}}}while(rng_pptr<rng_psize){t=Math.floor(65536*Math.random());rng_pool[rng_pptr++]=t>>>8;rng_pool[rng_pptr++]=t&255}rng_pptr=0;rng_seed_time()}function rng_get_byte(){if(rng_state==null){rng_seed_time();rng_state=prng_newstate();rng_state.init(rng_pool);for(rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr){rng_pool[rng_pptr]=0}rng_pptr=0}return rng_state.next()}function rng_get_bytes(c){var d;for(d=0;d<c.length;++d){c[d]=rng_get_byte()}}function SecureRandom(){}SecureRandom.prototype.nextBytes=rng_get_bytes;
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
;function parseBigInt(c,d){return new BigInteger(c,d)}function linebrk(h,g){var f="";var e=0;while(e+g<h.length){f+=h.substring(e,e+g)+"\n";e+=g}return f+h.substring(e,h.length)}function byte2Hex(b){if(b<16){return"0"+b.toString(16)}else{return b.toString(16)}}function pkcs1pad2(m,j){if(j<m.length+11){alert("Message too long for RSA");return null}var k=new Array();var n=m.length-1;while(n>=0&&j>0){var l=m.charCodeAt(n--);if(l<128){k[--j]=l}else{if((l>127)&&(l<2048)){k[--j]=(l&63)|128;k[--j]=(l>>6)|192}else{k[--j]=(l&63)|128;k[--j]=((l>>6)&63)|128;k[--j]=(l>>12)|224}}}k[--j]=0;var c=new SecureRandom();var i=new Array();while(j>2){i[0]=0;while(i[0]==0){c.nextBytes(i)}k[--j]=i[0]}k[--j]=2;k[--j]=0;return new BigInteger(k)}function oaep_mgf1_arr(j,g,h){var f="",i=0;while(f.length<g){f+=h(String.fromCharCode.apply(String,j.concat([(i&4278190080)>>24,(i&16711680)>>16,(i&65280)>>8,i&255])));i+=1}return f}function oaep_pad(i,F,A,u){var D=KJUR.crypto.MessageDigest;var r=KJUR.crypto.Util;var E=null;if(!A){A="sha1"}if(typeof A==="string"){E=D.getCanonicalAlgName(A);u=D.getHashLength(E);A=function(b){return hextorstr(r.hashString(b,E))}}if(i.length+2*u+2>F){throw"Message too long for RSA"}var v="",B;for(B=0;B<F-i.length-2*u-2;B+=1){v+="\x00"}var x=A("")+v+"\x01"+i;var y=new Array(u);new SecureRandom().nextBytes(y);var w=oaep_mgf1_arr(y,x.length,A);var n=[];for(B=0;B<x.length;B+=1){n[B]=x.charCodeAt(B)^w.charCodeAt(B)}var s=oaep_mgf1_arr(n,y.length,A);var C=[0];for(B=0;B<y.length;B+=1){C[B+1]=y[B]^s.charCodeAt(B)}return new BigInteger(C.concat(n))}function RSAKey(){this.n=null;this.e=0;this.d=null;this.p=null;this.q=null;this.dmp1=null;this.dmq1=null;this.coeff=null}function RSASetPublic(c,d){this.isPublic=true;this.isPrivate=false;if(typeof c!=="string"){this.n=c;this.e=d}else{if(c!=null&&d!=null&&c.length>0&&d.length>0){this.n=parseBigInt(c,16);this.e=parseInt(d,16)}else{throw"Invalid RSA public key"}}}function RSADoPublic(b){return b.modPowInt(this.e,this.n)}function RSAEncrypt(h){var f=pkcs1pad2(h,(this.n.bitLength()+7)>>3);if(f==null){return null}var g=this.doPublic(f);if(g==null){return null}var c=g.toString(16);if((c.length&1)==0){return c}else{return"0"+c}}function RSAEncryptOAEP(j,k,c){var h=oaep_pad(j,(this.n.bitLength()+7)>>3,k,c);if(h==null){return null}var i=this.doPublic(h);if(i==null){return null}var l=i.toString(16);if((l.length&1)==0){return l}else{return"0"+l}}RSAKey.prototype.doPublic=RSADoPublic;RSAKey.prototype.setPublic=RSASetPublic;RSAKey.prototype.encrypt=RSAEncrypt;RSAKey.prototype.encryptOAEP=RSAEncryptOAEP;RSAKey.prototype.type="RSA";
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
;function pkcs1unpad2(i,c){var b=i.toByteArray();var k=0;while(k<b.length&&b[k]==0){++k}if(b.length-k!=c-1||b[k]!=2){return null}++k;while(b[k]!=0){if(++k>=b.length){return null}}var l="";while(++k<b.length){var d=b[k]&255;if(d<128){l+=String.fromCharCode(d)}else{if((d>191)&&(d<224)){l+=String.fromCharCode(((d&31)<<6)|(b[k+1]&63));++k}else{l+=String.fromCharCode(((d&15)<<12)|((b[k+1]&63)<<6)|(b[k+2]&63));k+=2}}}return l}function oaep_mgf1_str(j,g,h){var f="",i=0;while(f.length<g){f+=h(j+String.fromCharCode.apply(String,[(i&4278190080)>>24,(i&16711680)>>16,(i&65280)>>8,i&255]));i+=1}return f}function oaep_unpad(u,F,B,n){var D=KJUR.crypto.MessageDigest;var d=KJUR.crypto.Util;var E=null;if(!B){B="sha1"}if(typeof B==="string"){E=D.getCanonicalAlgName(B);n=D.getHashLength(E);B=function(b){return hextorstr(d.hashString(b,E))}}u=u.toByteArray();var A;for(A=0;A<u.length;A+=1){u[A]&=255}while(u.length<F){u.unshift(0)}u=String.fromCharCode.apply(String,u);if(u.length<2*n+2){throw"Cipher too short"}var C=u.substr(1,n);var H=u.substr(n+1);var i=oaep_mgf1_str(H,n,B);var x=[],A;for(A=0;A<C.length;A+=1){x[A]=C.charCodeAt(A)^i.charCodeAt(A)}var w=oaep_mgf1_str(String.fromCharCode.apply(String,x),u.length-n,B);var y=[];for(A=0;A<H.length;A+=1){y[A]=H.charCodeAt(A)^w.charCodeAt(A)}y=String.fromCharCode.apply(String,y);if(y.substr(0,n)!==B("")){throw"Hash mismatch"}y=y.substr(n);var G=y.indexOf("\x01");var v=(G!=-1)?y.substr(0,G).lastIndexOf("\x00"):-1;if(v+1!=G){throw"Malformed data"}return y.substr(G+1)}function RSASetPrivate(f,e,d){this.isPrivate=true;if(typeof f!=="string"){this.n=f;this.e=e;this.d=d}else{if(f!=null&&e!=null&&f.length>0&&e.length>0){this.n=parseBigInt(f,16);this.e=parseInt(e,16);this.d=parseBigInt(d,16)}else{alert("Invalid RSA private key")}}}function RSASetPrivateEx(l,o,n,p,i,j,k,m){this.isPrivate=true;this.isPublic=false;if(l==null){throw"RSASetPrivateEx N == null"}if(o==null){throw"RSASetPrivateEx E == null"}if(l.length==0){throw"RSASetPrivateEx N.length == 0"}if(o.length==0){throw"RSASetPrivateEx E.length == 0"}if(l!=null&&o!=null&&l.length>0&&o.length>0){this.n=parseBigInt(l,16);this.e=parseInt(o,16);this.d=parseBigInt(n,16);this.p=parseBigInt(p,16);this.q=parseBigInt(i,16);this.dmp1=parseBigInt(j,16);this.dmq1=parseBigInt(k,16);this.coeff=parseBigInt(m,16)}else{alert("Invalid RSA private key in RSASetPrivateEx")}}function RSAGenerate(q,j){var r=new SecureRandom();var m=q>>1;this.e=parseInt(j,16);var p=new BigInteger(j,16);for(;;){for(;;){this.p=new BigInteger(q-m,1,r);if(this.p.subtract(BigInteger.ONE).gcd(p).compareTo(BigInteger.ONE)==0&&this.p.isProbablePrime(10)){break}}for(;;){this.q=new BigInteger(m,1,r);if(this.q.subtract(BigInteger.ONE).gcd(p).compareTo(BigInteger.ONE)==0&&this.q.isProbablePrime(10)){break}}if(this.p.compareTo(this.q)<=0){var k=this.p;this.p=this.q;this.q=k}var l=this.p.subtract(BigInteger.ONE);var o=this.q.subtract(BigInteger.ONE);var n=l.multiply(o);if(n.gcd(p).compareTo(BigInteger.ONE)==0){this.n=this.p.multiply(this.q);this.d=p.modInverse(n);this.dmp1=this.d.mod(l);this.dmq1=this.d.mod(o);this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=true}function RSADoPrivate(e){if(this.p==null||this.q==null){return e.modPow(this.d,this.n)}var f=e.mod(this.p).modPow(this.dmp1,this.p);var d=e.mod(this.q).modPow(this.dmq1,this.q);while(f.compareTo(d)<0){f=f.add(this.p)}return f.subtract(d).multiply(this.coeff).mod(this.p).multiply(this.q).add(d)}function RSADecrypt(c){var f=parseBigInt(c,16);var e=this.doPrivate(f);if(e==null){return null}return pkcs1unpad2(e,(this.n.bitLength()+7)>>3)}function RSADecryptOAEP(i,j,c){var h=parseBigInt(i,16);var g=this.doPrivate(h);if(g==null){return null}return oaep_unpad(g,(this.n.bitLength()+7)>>3,j,c)}RSAKey.prototype.doPrivate=RSADoPrivate;RSAKey.prototype.setPrivate=RSASetPrivate;RSAKey.prototype.setPrivateEx=RSASetPrivateEx;RSAKey.prototype.generate=RSAGenerate;RSAKey.prototype.decrypt=RSADecrypt;RSAKey.prototype.decryptOAEP=RSADecryptOAEP;
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
;function ECFieldElementFp(c,d){this.x=d;this.q=c}function feFpEquals(b){if(b==this){return true}return(this.q.equals(b.q)&&this.x.equals(b.x))}function feFpToBigInteger(){return this.x}function feFpNegate(){return new ECFieldElementFp(this.q,this.x.negate().mod(this.q))}function feFpAdd(b){return new ECFieldElementFp(this.q,this.x.add(b.toBigInteger()).mod(this.q))}function feFpSubtract(b){return new ECFieldElementFp(this.q,this.x.subtract(b.toBigInteger()).mod(this.q))}function feFpMultiply(b){return new ECFieldElementFp(this.q,this.x.multiply(b.toBigInteger()).mod(this.q))}function feFpSquare(){return new ECFieldElementFp(this.q,this.x.square().mod(this.q))}function feFpDivide(b){return new ECFieldElementFp(this.q,this.x.multiply(b.toBigInteger().modInverse(this.q)).mod(this.q))}ECFieldElementFp.prototype.equals=feFpEquals;ECFieldElementFp.prototype.toBigInteger=feFpToBigInteger;ECFieldElementFp.prototype.negate=feFpNegate;ECFieldElementFp.prototype.add=feFpAdd;ECFieldElementFp.prototype.subtract=feFpSubtract;ECFieldElementFp.prototype.multiply=feFpMultiply;ECFieldElementFp.prototype.square=feFpSquare;ECFieldElementFp.prototype.divide=feFpDivide;function ECPointFp(h,f,g,e){this.curve=h;this.x=f;this.y=g;if(e==null){this.z=BigInteger.ONE}else{this.z=e}this.zinv=null}function pointFpGetX(){if(this.zinv==null){this.zinv=this.z.modInverse(this.curve.q)}return this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function pointFpGetY(){if(this.zinv==null){this.zinv=this.z.modInverse(this.curve.q)}return this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function pointFpEquals(e){if(e==this){return true}if(this.isInfinity()){return e.isInfinity()}if(e.isInfinity()){return this.isInfinity()}var f,d;f=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q);if(!f.equals(BigInteger.ZERO)){return false}d=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);return d.equals(BigInteger.ZERO)}function pointFpIsInfinity(){if((this.x==null)&&(this.y==null)){return true}return this.z.equals(BigInteger.ZERO)&&!this.y.toBigInteger().equals(BigInteger.ZERO)}function pointFpNegate(){return new ECPointFp(this.curve,this.x,this.y.negate(),this.z)}function pointFpAdd(u){if(this.isInfinity()){return u}if(u.isInfinity()){return this}var b=u.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(u.z)).mod(this.curve.q);var q=u.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(u.z)).mod(this.curve.q);if(BigInteger.ZERO.equals(q)){if(BigInteger.ZERO.equals(b)){return this.twice()}return this.curve.getInfinity()}var w=new BigInteger("3");var C=this.x.toBigInteger();var r=this.y.toBigInteger();var E=u.x.toBigInteger();var v=u.y.toBigInteger();var s=q.square();var x=s.multiply(q);var D=C.multiply(s);var A=b.square().multiply(this.z);var F=A.subtract(D.shiftLeft(1)).multiply(u.z).subtract(x).multiply(q).mod(this.curve.q);var y=D.multiply(w).multiply(b).subtract(r.multiply(x)).subtract(A.multiply(b)).multiply(u.z).add(b.multiply(x)).mod(this.curve.q);var B=x.multiply(this.z).multiply(u.z).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(F),this.curve.fromBigInteger(y),B)}function pointFpTwice(){if(this.isInfinity()){return this}if(this.y.toBigInteger().signum()==0){return this.curve.getInfinity()}var p=new BigInteger("3");var u=this.x.toBigInteger();var o=this.y.toBigInteger();var r=o.multiply(this.z);var m=r.multiply(o).mod(this.curve.q);var n=this.curve.a.toBigInteger();var l=u.square().multiply(p);if(!BigInteger.ZERO.equals(n)){l=l.add(this.z.square().multiply(n))}l=l.mod(this.curve.q);var v=l.square().subtract(u.shiftLeft(3).multiply(m)).shiftLeft(1).multiply(r).mod(this.curve.q);var q=l.multiply(p).multiply(u).subtract(m.shiftLeft(1)).shiftLeft(2).multiply(m).subtract(l.square().multiply(l)).mod(this.curve.q);var s=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(v),this.curve.fromBigInteger(q),s)}function pointFpMultiply(e){if(this.isInfinity()){return this}if(e.signum()==0){return this.curve.getInfinity()}var m=e;var n=m.multiply(new BigInteger("3"));var i=this.negate();var o=this;var p;for(p=n.bitLength()-2;p>0;--p){o=o.twice();var h=n.testBit(p);var k=m.testBit(p);if(h!=k){o=o.add(h?this:i)}}return o}function pointFpMultiplyTwo(l,h,g){var k;if(l.bitLength()>g.bitLength()){k=l.bitLength()-1}else{k=g.bitLength()-1}var i=this.curve.getInfinity();var j=this.add(h);while(k>=0){i=i.twice();if(l.testBit(k)){if(g.testBit(k)){i=i.add(j)}else{i=i.add(this)}}else{if(g.testBit(k)){i=i.add(h)}}--k}return i}ECPointFp.prototype.getX=pointFpGetX;ECPointFp.prototype.getY=pointFpGetY;ECPointFp.prototype.equals=pointFpEquals;ECPointFp.prototype.isInfinity=pointFpIsInfinity;ECPointFp.prototype.negate=pointFpNegate;ECPointFp.prototype.add=pointFpAdd;ECPointFp.prototype.twice=pointFpTwice;ECPointFp.prototype.multiply=pointFpMultiply;ECPointFp.prototype.multiplyTwo=pointFpMultiplyTwo;function ECCurveFp(b,f,g){this.q=b;this.a=this.fromBigInteger(f);this.b=this.fromBigInteger(g);this.infinity=new ECPointFp(this,null,null)}function curveFpGetQ(){return this.q}function curveFpGetA(){return this.a}function curveFpGetB(){return this.b}function curveFpEquals(b){if(b==this){return true}return(this.q.equals(b.q)&&this.a.equals(b.a)&&this.b.equals(b.b))}function curveFpGetInfinity(){return this.infinity}function curveFpFromBigInteger(b){return new ECFieldElementFp(this.q,b)}function curveFpDecodePointHex(g){switch(parseInt(g.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var f=(g.length-2)/2;var h=g.substr(2,f);var e=g.substr(f+2,f);return new ECPointFp(this,this.fromBigInteger(new BigInteger(h,16)),this.fromBigInteger(new BigInteger(e,16)));default:return null}}ECCurveFp.prototype.getQ=curveFpGetQ;ECCurveFp.prototype.getA=curveFpGetA;ECCurveFp.prototype.getB=curveFpGetB;ECCurveFp.prototype.equals=curveFpEquals;ECCurveFp.prototype.getInfinity=curveFpGetInfinity;ECCurveFp.prototype.fromBigInteger=curveFpFromBigInteger;ECCurveFp.prototype.decodePointHex=curveFpDecodePointHex;
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
 */
;ECFieldElementFp.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)};ECPointFp.prototype.getEncoded=function(j){var i=function(b,d){var c=b.toByteArrayUnsigned();if(d<c.length){c=c.slice(c.length-d)}else{while(d>c.length){c.unshift(0)}}return c};var g=this.getX().toBigInteger();var h=this.getY().toBigInteger();var f=i(g,32);if(j){if(h.isEven()){f.unshift(2)}else{f.unshift(3)}}else{f.unshift(4);f=f.concat(i(h,32))}return f};ECPointFp.decodeFrom=function(l,p){var m=p[0];var n=p.length-1;var o=p.slice(1,1+n/2);var i=p.slice(1+n/2,1+n);o.unshift(0);i.unshift(0);var j=new BigInteger(o);var k=new BigInteger(i);return new ECPointFp(l,l.fromBigInteger(j),l.fromBigInteger(k))};ECPointFp.decodeFromHex=function(l,p){var m=p.substr(0,2);var n=p.length-2;var o=p.substr(2,n/2);var i=p.substr(2+n/2,n/2);var j=new BigInteger(o,16);var k=new BigInteger(i,16);return new ECPointFp(l,l.fromBigInteger(j),l.fromBigInteger(k))};ECPointFp.prototype.add2D=function(l){if(this.isInfinity()){return l}if(l.isInfinity()){return this}if(this.x.equals(l.x)){if(this.y.equals(l.y)){return this.twice()}return this.curve.getInfinity()}var h=l.x.subtract(this.x);var j=l.y.subtract(this.y);var b=j.divide(h);var k=b.square().subtract(this.x).subtract(l.x);var i=b.multiply(this.x.subtract(k)).subtract(this.y);return new ECPointFp(this.curve,k,i)};ECPointFp.prototype.twice2D=function(){if(this.isInfinity()){return this}if(this.y.toBigInteger().signum()==0){return this.curve.getInfinity()}var f=this.curve.fromBigInteger(BigInteger.valueOf(2));var h=this.curve.fromBigInteger(BigInteger.valueOf(3));var g=this.x.square().multiply(h).add(this.curve.a).divide(this.y.multiply(f));var j=g.square().subtract(this.x.multiply(f));var i=g.multiply(this.x.subtract(j)).subtract(this.y);return new ECPointFp(this.curve,j,i)};ECPointFp.prototype.multiply2D=function(e){if(this.isInfinity()){return this}if(e.signum()==0){return this.curve.getInfinity()}var m=e;var n=m.multiply(new BigInteger("3"));var i=this.negate();var o=this;var p;for(p=n.bitLength()-2;p>0;--p){o=o.twice();var h=n.testBit(p);var k=m.testBit(p);if(h!=k){o=o.add2D(h?this:i)}}return o};ECPointFp.prototype.isOnCurve=function(){var n=this.getX().toBigInteger();var b=this.getY().toBigInteger();var l=this.curve.getA().toBigInteger();var o=this.curve.getB().toBigInteger();var j=this.curve.getQ();var m=b.multiply(b).mod(j);var k=n.multiply(n).multiply(n).add(l.multiply(n)).add(o).mod(j);return m.equals(k)};ECPointFp.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"};ECPointFp.prototype.validate=function(){var f=this.curve.getQ();if(this.isInfinity()){throw new Error("Point is at infinity.")}var e=this.getX().toBigInteger();var d=this.getY().toBigInteger();if(e.compareTo(BigInteger.ONE)<0||e.compareTo(f.subtract(BigInteger.ONE))>0){throw new Error("x coordinate out of bounds")}if(d.compareTo(BigInteger.ONE)<0||d.compareTo(f.subtract(BigInteger.ONE))>0){throw new Error("y coordinate out of bounds")}if(!this.isOnCurve()){throw new Error("Point is not on the curve.")}if(this.multiply(f).isInfinity()){throw new Error("Point is not a scalar multiple of G.")}return true};
/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */
;var jsonParse=(function(){var r="(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)";var m='(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))';var n='(?:"'+m+'*")';var s=new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|"+r+"|"+n+")","g");var l=new RegExp("\\\\(?:([^u])|u(.{4}))","g");var p={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function o(c,b,d){return b?p[b]:String.fromCharCode(parseInt(d,16))}var u=new String("");var w="\\";var q={"{":Object,"[":Array};var v=Object.hasOwnProperty;return function(k,c){var d=k.match(s);var h;var j=d[0];var g=false;if("{"===j){h={}}else{if("["===j){h=[]}else{h=[];g=true}}var y;var b=[h];for(var e=1-g,f=d.length;e<f;++e){j=d[e];var i;switch(j.charCodeAt(0)){default:i=b[0];i[y||i.length]=+(j);y=void 0;break;case 34:j=j.substring(1,j.length-1);if(j.indexOf(w)!==-1){j=j.replace(l,o)}i=b[0];if(!y){if(i instanceof Array){y=i.length}else{y=j||u;break}}i[y]=j;y=void 0;break;case 91:i=b[0];b.unshift(i[y||i.length]=[]);y=void 0;break;case 93:b.shift();break;case 102:i=b[0];i[y||i.length]=false;y=void 0;break;case 110:i=b[0];i[y||i.length]=null;y=void 0;break;case 116:i=b[0];i[y||i.length]=true;y=void 0;break;case 123:i=b[0];b.unshift(i[y||i.length]={});y=void 0;break;case 125:b.shift();break}}if(g){if(b.length!==1){throw new Error()}h=h[0]}else{if(b.length){throw new Error()}}if(c){var A=function(G,J){var E=G[J];if(E&&typeof E==="object"){var I=null;for(var F in E){if(v.call(E,F)&&E!==G){var H=A(E,F);if(H!==void 0){E[F]=H}else{if(!I){I=[]}I.push(F)}}}if(I){for(var x=I.length;--x>=0;){delete E[I[x]]}}}return c.call(G,J,E)};h=A({"":h},"")}return h}})();
/*! asn1-1.0.12.js (c) 2013-2016 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.asn1=="undefined"||!KJUR.asn1){KJUR.asn1={}}KJUR.asn1.ASN1Util=new function(){this.integerToByteHex=function(d){var c=d.toString(16);if((c.length%2)==1){c="0"+c}return c};this.bigIntToMinTwosComplementsHex=function(k){var m=k.toString(16);if(m.substr(0,1)!="-"){if(m.length%2==1){m="0"+m}else{if(!m.match(/^[0-7]/)){m="00"+m}}}else{var i=m.substr(1);var n=i.length;if(n%2==1){n+=1}else{if(!m.match(/^[0-7]/)){n+=2}}var l="";for(var o=0;o<n;o++){l+="f"}var p=new BigInteger(l,16);var h=p.xor(k).add(BigInteger.ONE);m=h.toString(16).replace(/^-/,"")}return m};this.getPEMStringFromHex=function(f,e){var h=hextob64(f);var g=h.replace(/(.{64})/g,"$1\r\n");g=g.replace(/\r\n$/,"");return"-----BEGIN "+e+"-----\r\n"+g+"\r\n-----END "+e+"-----\r\n"};this.newObject=function(x){var r=KJUR.asn1;var o=Object.keys(x);if(o.length!=1){throw"key of param shall be only one."}var p=o[0];if(":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+p+":")==-1){throw"undefined key: "+p}if(p=="bool"){return new r.DERBoolean(x[p])}if(p=="int"){return new r.DERInteger(x[p])}if(p=="bitstr"){return new r.DERBitString(x[p])}if(p=="octstr"){return new r.DEROctetString(x[p])}if(p=="null"){return new r.DERNull(x[p])}if(p=="oid"){return new r.DERObjectIdentifier(x[p])}if(p=="enum"){return new r.DEREnumerated(x[p])}if(p=="utf8str"){return new r.DERUTF8String(x[p])}if(p=="numstr"){return new r.DERNumericString(x[p])}if(p=="prnstr"){return new r.DERPrintableString(x[p])}if(p=="telstr"){return new r.DERTeletexString(x[p])}if(p=="ia5str"){return new r.DERIA5String(x[p])}if(p=="utctime"){return new r.DERUTCTime(x[p])}if(p=="gentime"){return new r.DERGeneralizedTime(x[p])}if(p=="seq"){var i=x[p];var q=[];for(var u=0;u<i.length;u++){var n=r.ASN1Util.newObject(i[u]);q.push(n)}return new r.DERSequence({array:q})}if(p=="set"){var i=x[p];var q=[];for(var u=0;u<i.length;u++){var n=r.ASN1Util.newObject(i[u]);q.push(n)}return new r.DERSet({array:q})}if(p=="tag"){var w=x[p];if(Object.prototype.toString.call(w)==="[object Array]"&&w.length==3){var v=r.ASN1Util.newObject(w[2]);return new r.DERTaggedObject({tag:w[0],explicit:w[1],obj:v})}else{var s={};if(w.explicit!==undefined){s.explicit=w.explicit}if(w.tag!==undefined){s.tag=w.tag}if(w.obj===undefined){throw"obj shall be specified for 'tag'."}s.obj=r.ASN1Util.newObject(w.obj);return new r.DERTaggedObject(s)}}};this.jsonToASN1HEX=function(c){var d=this.newObject(c);return d.getEncodedHex()}};KJUR.asn1.ASN1Util.oidHexToInt=function(u){var l="";var i=parseInt(u.substr(0,2),16);var q=Math.floor(i/40);var r=i%40;var l=q+"."+r;var p="";for(var o=2;o<u.length;o+=2){var n=parseInt(u.substr(o,2),16);var m=("00000000"+n.toString(2)).slice(-8);p=p+m.substr(1,7);if(m.substr(0,1)=="0"){var s=new BigInteger(p,2);l=l+"."+s.toString(10);p=""}}return l};KJUR.asn1.ASN1Util.oidIntToHex=function(l){var m=function(b){var c=b.toString(16);if(c.length==1){c="0"+c}return c};var n=function(j){var r="";var e=new BigInteger(j,10);var d=e.toString(2);var c=7-d.length%7;if(c==7){c=0}var f="";for(var b=0;b<c;b++){f+="0"}d=f+d;for(var b=0;b<d.length-1;b+=7){var g=d.substr(b,7);if(b!=d.length-7){g="1"+g}r+=m(parseInt(g,2))}return r};if(!l.match(/^[0-9.]+$/)){throw"malformed oid string: "+l}var k="";var h=l.split(".");var i=parseInt(h[0])*40+parseInt(h[1]);k+=m(i);h.splice(0,2);for(var o=0;o<h.length;o++){k+=n(h[o])}return k};KJUR.asn1.ASN1Object=function(){var j=true;var f=null;var i="00";var h="00";var g="";this.getLengthHexFromValue=function(){if(typeof this.hV=="undefined"||this.hV==null){throw"this.hV is null or undefined."}if(this.hV.length%2==1){throw"value hex must be even length: n="+g.length+",v="+this.hV}var b=this.hV.length/2;var c=b.toString(16);if(c.length%2==1){c="0"+c}if(b<128){return c}else{var d=c.length/2;if(d>15){throw"ASN.1 length too long to represent by 8x: n = "+b.toString(16)}var e=128+d;return e.toString(16)+c}};this.getEncodedHex=function(){if(this.hTLV==null||this.isModified){this.hV=this.getFreshValueHex();this.hL=this.getLengthHexFromValue();this.hTLV=this.hT+this.hL+this.hV;this.isModified=false}return this.hTLV};this.getValueHex=function(){this.getEncodedHex();return this.hV};this.getFreshValueHex=function(){return""}};KJUR.asn1.DERAbstractString=function(f){KJUR.asn1.DERAbstractString.superclass.constructor.call(this);var d=null;var e=null;this.getString=function(){return this.s};this.setString=function(b){this.hTLV=null;this.isModified=true;this.s=b;this.hV=stohex(this.s)};this.setStringHex=function(b){this.hTLV=null;this.isModified=true;this.s=null;this.hV=b};this.getFreshValueHex=function(){return this.hV};if(typeof f!="undefined"){if(typeof f=="string"){this.setString(f)}else{if(typeof f.str!="undefined"){this.setString(f.str)}else{if(typeof f.hex!="undefined"){this.setStringHex(f.hex)}}}}};YAHOO.lang.extend(KJUR.asn1.DERAbstractString,KJUR.asn1.ASN1Object);KJUR.asn1.DERAbstractTime=function(f){KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);var d=null;var e=null;this.localDateToUTC=function(b){utc=b.getTime()+(b.getTimezoneOffset()*60000);var c=new Date(utc);return c};this.formatDate=function(w,u,F){var D=this.zeroPadding;var v=this.localDateToUTC(w);var s=String(v.getFullYear());if(u=="utc"){s=s.substr(2,2)}var x=D(String(v.getMonth()+1),2);var c=D(String(v.getDate()),2);var C=D(String(v.getHours()),2);var B=D(String(v.getMinutes()),2);var A=D(String(v.getSeconds()),2);var b=s+x+c+C+B+A;if(F===true){var E=v.getMilliseconds();if(E!=0){var y=D(String(E),3);y=y.replace(/[0]+$/,"");b=b+"."+y}}return b+"Z"};this.zeroPadding=function(b,c){if(b.length>=c){return b}return new Array(c-b.length+1).join("0")+b};this.getString=function(){return this.s};this.setString=function(b){this.hTLV=null;this.isModified=true;this.s=b;this.hV=stohex(b)};this.setByDateValue=function(k,b,n,o,m,l){var c=new Date(Date.UTC(k,b-1,n,o,m,l,0));this.setByDate(c)};this.getFreshValueHex=function(){return this.hV}};YAHOO.lang.extend(KJUR.asn1.DERAbstractTime,KJUR.asn1.ASN1Object);KJUR.asn1.DERAbstractStructured=function(c){KJUR.asn1.DERAbstractString.superclass.constructor.call(this);var d=null;this.setByASN1ObjectArray=function(b){this.hTLV=null;this.isModified=true;this.asn1Array=b};this.appendASN1Object=function(b){this.hTLV=null;this.isModified=true;this.asn1Array.push(b)};this.asn1Array=new Array();if(typeof c!="undefined"){if(typeof c.array!="undefined"){this.asn1Array=c.array}}};YAHOO.lang.extend(KJUR.asn1.DERAbstractStructured,KJUR.asn1.ASN1Object);KJUR.asn1.DERBoolean=function(){KJUR.asn1.DERBoolean.superclass.constructor.call(this);this.hT="01";this.hTLV="0101ff"};YAHOO.lang.extend(KJUR.asn1.DERBoolean,KJUR.asn1.ASN1Object);KJUR.asn1.DERInteger=function(b){KJUR.asn1.DERInteger.superclass.constructor.call(this);this.hT="02";this.setByBigInteger=function(c){this.hTLV=null;this.isModified=true;this.hV=KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(c)};this.setByInteger=function(e){var d=new BigInteger(String(e),10);this.setByBigInteger(d)};this.setValueHex=function(c){this.hV=c};this.getFreshValueHex=function(){return this.hV};if(typeof b!="undefined"){if(typeof b.bigint!="undefined"){this.setByBigInteger(b.bigint)}else{if(typeof b["int"]!="undefined"){this.setByInteger(b["int"])}else{if(typeof b=="number"){this.setByInteger(b)}else{if(typeof b.hex!="undefined"){this.setValueHex(b.hex)}}}}}};YAHOO.lang.extend(KJUR.asn1.DERInteger,KJUR.asn1.ASN1Object);KJUR.asn1.DERBitString=function(c){if(c!==undefined&&typeof c.obj!=="undefined"){var d=KJUR.asn1.ASN1Util.newObject(c.obj);c.hex="00"+d.getEncodedHex()}KJUR.asn1.DERBitString.superclass.constructor.call(this);this.hT="03";this.setHexValueIncludingUnusedBits=function(b){this.hTLV=null;this.isModified=true;this.hV=b};this.setUnusedBitsAndHexValue=function(g,b){if(g<0||7<g){throw"unused bits shall be from 0 to 7: u = "+g}var f="0"+g;this.hTLV=null;this.isModified=true;this.hV=f+b};this.setByBinaryString=function(k){k=k.replace(/0+$/,"");var i=8-k.length%8;if(i==8){i=0}for(var h=0;h<=i;h++){k+="0"}var b="";for(var h=0;h<k.length-1;h+=8){var l=k.substr(h,8);var m=parseInt(l,2).toString(16);if(m.length==1){m="0"+m}b+=m}this.hTLV=null;this.isModified=true;this.hV="0"+i+b};this.setByBooleanArray=function(b){var f="";for(var g=0;g<b.length;g++){if(b[g]==true){f+="1"}else{f+="0"}}this.setByBinaryString(f)};this.newFalseArray=function(b){var g=new Array(b);for(var f=0;f<b;f++){g[f]=false}return g};this.getFreshValueHex=function(){return this.hV};if(typeof c!="undefined"){if(typeof c=="string"&&c.toLowerCase().match(/^[0-9a-f]+$/)){this.setHexValueIncludingUnusedBits(c)}else{if(typeof c.hex!="undefined"){this.setHexValueIncludingUnusedBits(c.hex)}else{if(typeof c.bin!="undefined"){this.setByBinaryString(c.bin)}else{if(typeof c.array!="undefined"){this.setByBooleanArray(c.array)}}}}}};YAHOO.lang.extend(KJUR.asn1.DERBitString,KJUR.asn1.ASN1Object);KJUR.asn1.DEROctetString=function(c){if(c!==undefined&&typeof c.obj!=="undefined"){var d=KJUR.asn1.ASN1Util.newObject(c.obj);c.hex=d.getEncodedHex()}KJUR.asn1.DEROctetString.superclass.constructor.call(this,c);this.hT="04"};YAHOO.lang.extend(KJUR.asn1.DEROctetString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERNull=function(){KJUR.asn1.DERNull.superclass.constructor.call(this);this.hT="05";this.hTLV="0500"};YAHOO.lang.extend(KJUR.asn1.DERNull,KJUR.asn1.ASN1Object);KJUR.asn1.DERObjectIdentifier=function(f){var d=function(c){var b=c.toString(16);if(b.length==1){b="0"+b}return b};var e=function(h){var i="";var p=new BigInteger(h,10);var q=p.toString(2);var o=7-q.length%7;if(o==7){o=0}var b="";for(var n=0;n<o;n++){b+="0"}q=b+q;for(var n=0;n<q.length-1;n+=7){var c=q.substr(n,7);if(n!=q.length-7){c="1"+c}i+=d(parseInt(c,2))}return i};KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this);this.hT="06";this.setValueHex=function(b){this.hTLV=null;this.isModified=true;this.s=null;this.hV=b};this.setValueOidString=function(h){if(!h.match(/^[0-9.]+$/)){throw"malformed oid string: "+h}var c="";var k=h.split(".");var b=parseInt(k[0])*40+parseInt(k[1]);c+=d(b);k.splice(0,2);for(var i=0;i<k.length;i++){c+=e(k[i])}this.hTLV=null;this.isModified=true;this.s=null;this.hV=c};this.setValueName=function(b){var c=KJUR.asn1.x509.OID.name2oid(b);if(c!==""){this.setValueOidString(c)}else{throw"DERObjectIdentifier oidName undefined: "+b}};this.getFreshValueHex=function(){return this.hV};if(f!==undefined){if(typeof f==="string"){if(f.match(/^[0-2].[0-9.]+$/)){this.setValueOidString(f)}else{this.setValueName(f)}}else{if(f.oid!==undefined){this.setValueOidString(f.oid)}else{if(f.hex!==undefined){this.setValueHex(f.hex)}else{if(f.name!==undefined){this.setValueName(f.name)}}}}}};YAHOO.lang.extend(KJUR.asn1.DERObjectIdentifier,KJUR.asn1.ASN1Object);KJUR.asn1.DEREnumerated=function(b){KJUR.asn1.DEREnumerated.superclass.constructor.call(this);this.hT="0a";this.setByBigInteger=function(c){this.hTLV=null;this.isModified=true;this.hV=KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(c)};this.setByInteger=function(e){var d=new BigInteger(String(e),10);this.setByBigInteger(d)};this.setValueHex=function(c){this.hV=c};this.getFreshValueHex=function(){return this.hV};if(typeof b!="undefined"){if(typeof b["int"]!="undefined"){this.setByInteger(b["int"])}else{if(typeof b=="number"){this.setByInteger(b)}else{if(typeof b.hex!="undefined"){this.setValueHex(b.hex)}}}}};YAHOO.lang.extend(KJUR.asn1.DEREnumerated,KJUR.asn1.ASN1Object);KJUR.asn1.DERUTF8String=function(b){KJUR.asn1.DERUTF8String.superclass.constructor.call(this,b);this.hT="0c"};YAHOO.lang.extend(KJUR.asn1.DERUTF8String,KJUR.asn1.DERAbstractString);KJUR.asn1.DERNumericString=function(b){KJUR.asn1.DERNumericString.superclass.constructor.call(this,b);this.hT="12"};YAHOO.lang.extend(KJUR.asn1.DERNumericString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERPrintableString=function(b){KJUR.asn1.DERPrintableString.superclass.constructor.call(this,b);this.hT="13"};YAHOO.lang.extend(KJUR.asn1.DERPrintableString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERTeletexString=function(b){KJUR.asn1.DERTeletexString.superclass.constructor.call(this,b);this.hT="14"};YAHOO.lang.extend(KJUR.asn1.DERTeletexString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERIA5String=function(b){KJUR.asn1.DERIA5String.superclass.constructor.call(this,b);this.hT="16"};YAHOO.lang.extend(KJUR.asn1.DERIA5String,KJUR.asn1.DERAbstractString);KJUR.asn1.DERUTCTime=function(b){KJUR.asn1.DERUTCTime.superclass.constructor.call(this,b);this.hT="17";this.setByDate=function(c){this.hTLV=null;this.isModified=true;this.date=c;this.s=this.formatDate(this.date,"utc");this.hV=stohex(this.s)};this.getFreshValueHex=function(){if(typeof this.date=="undefined"&&typeof this.s=="undefined"){this.date=new Date();this.s=this.formatDate(this.date,"utc");this.hV=stohex(this.s)}return this.hV};if(b!==undefined){if(b.str!==undefined){this.setString(b.str)}else{if(typeof b=="string"&&b.match(/^[0-9]{12}Z$/)){this.setString(b)}else{if(b.hex!==undefined){this.setStringHex(b.hex)}else{if(b.date!==undefined){this.setByDate(b.date)}}}}}};YAHOO.lang.extend(KJUR.asn1.DERUTCTime,KJUR.asn1.DERAbstractTime);KJUR.asn1.DERGeneralizedTime=function(b){KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this,b);this.hT="18";this.withMillis=false;this.setByDate=function(c){this.hTLV=null;this.isModified=true;this.date=c;this.s=this.formatDate(this.date,"gen",this.withMillis);this.hV=stohex(this.s)};this.getFreshValueHex=function(){if(this.date===undefined&&this.s===undefined){this.date=new Date();this.s=this.formatDate(this.date,"gen",this.withMillis);this.hV=stohex(this.s)}return this.hV};if(b!==undefined){if(b.str!==undefined){this.setString(b.str)}else{if(typeof b=="string"&&b.match(/^[0-9]{14}Z$/)){this.setString(b)}else{if(b.hex!==undefined){this.setStringHex(b.hex)}else{if(b.date!==undefined){this.setByDate(b.date)}}}}if(b.millis===true){this.withMillis=true}}};YAHOO.lang.extend(KJUR.asn1.DERGeneralizedTime,KJUR.asn1.DERAbstractTime);KJUR.asn1.DERSequence=function(b){KJUR.asn1.DERSequence.superclass.constructor.call(this,b);this.hT="30";this.getFreshValueHex=function(){var g="";for(var e=0;e<this.asn1Array.length;e++){var f=this.asn1Array[e];g+=f.getEncodedHex()}this.hV=g;return this.hV}};YAHOO.lang.extend(KJUR.asn1.DERSequence,KJUR.asn1.DERAbstractStructured);KJUR.asn1.DERSet=function(b){KJUR.asn1.DERSet.superclass.constructor.call(this,b);this.hT="31";this.sortFlag=true;this.getFreshValueHex=function(){var e=new Array();for(var g=0;g<this.asn1Array.length;g++){var f=this.asn1Array[g];e.push(f.getEncodedHex())}if(this.sortFlag==true){e.sort()}this.hV=e.join("");return this.hV};if(typeof b!="undefined"){if(typeof b.sortflag!="undefined"&&b.sortflag==false){this.sortFlag=false}}};YAHOO.lang.extend(KJUR.asn1.DERSet,KJUR.asn1.DERAbstractStructured);KJUR.asn1.DERTaggedObject=function(b){KJUR.asn1.DERTaggedObject.superclass.constructor.call(this);this.hT="a0";this.hV="";this.isExplicit=true;this.asn1Object=null;this.setASN1Object=function(e,g,f){this.hT=g;this.isExplicit=e;this.asn1Object=f;if(this.isExplicit){this.hV=this.asn1Object.getEncodedHex();this.hTLV=null;this.isModified=true}else{this.hV=null;this.hTLV=f.getEncodedHex();this.hTLV=this.hTLV.replace(/^../,g);this.isModified=false}};this.getFreshValueHex=function(){return this.hV};if(typeof b!="undefined"){if(typeof b.tag!="undefined"){this.hT=b.tag}if(typeof b.explicit!="undefined"){this.isExplicit=b.explicit}if(typeof b.obj!="undefined"){this.asn1Object=b.obj;this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)}}};YAHOO.lang.extend(KJUR.asn1.DERTaggedObject,KJUR.asn1.ASN1Object);
/*! asn1hex-1.1.11.js (c) 2012-2017 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;var ASN1HEX=new function(){};ASN1HEX.getLblen=function(f,e){if(f.substr(e+2,1)!="8"){return 1}var d=parseInt(f.substr(e+3,1));if(d==0){return -1}if(0<d&&d<10){return d+1}return -2};ASN1HEX.getByteLengthOfL_AtObj=ASN1HEX.getLblen;ASN1HEX.getL=function(f,d){var e=ASN1HEX.getLblen(f,d);if(e<1){return""}return f.substr(d+2,e*2)};ASN1HEX.getHexOfL_AtObj=ASN1HEX.getL;ASN1HEX.getVblen=function(g,f){var h,e;h=ASN1HEX.getL(g,f);if(h==""){return -1}if(h.substr(0,1)==="8"){e=new BigInteger(h.substr(2),16)}else{e=new BigInteger(h,16)}return e.intValue()};ASN1HEX.getIntOfL_AtObj=ASN1HEX.getVblen;ASN1HEX.getVidx=function(f,d){var e=ASN1HEX.getLblen(f,d);if(e<0){return e}return d+(e+1)*2};ASN1HEX.getStartPosOfV_AtObj=ASN1HEX.getVidx;ASN1HEX.getV=function(g,f){var h=ASN1HEX.getVidx(g,f);var e=ASN1HEX.getVblen(g,f);return g.substr(h,e*2)};ASN1HEX.getHexOfV_AtObj=ASN1HEX.getV;ASN1HEX.getTLV=function(c,d){return c.substr(d,2)+ASN1HEX.getL(c,d)+ASN1HEX.getV(c,d)};ASN1HEX.getHexOfTLV_AtObj=ASN1HEX.getTLV;ASN1HEX.getNextSiblingIdx=function(g,f){var h=ASN1HEX.getVidx(g,f);var e=ASN1HEX.getVblen(g,f);return h+e*2};ASN1HEX.getPosOfNextSibling_AtObj=ASN1HEX.getNextSiblingIdx;ASN1HEX.getChildIdx=function(p,o){var k=ASN1HEX;var n=new Array();var m=k.getVidx(p,o);if(p.substr(o,2)=="03"){n.push(m+2)}else{n.push(m)}var h=k.getVblen(p,o);var r=m;var q=0;while(1){var s=k.getNextSiblingIdx(p,r);if(s==null||(s-m>=(h*2))){break}if(q>=200){break}n.push(s);r=s;q++}return n};ASN1HEX.getPosArrayOfChildren_AtObj=ASN1HEX.getChildIdx;ASN1HEX.getNthChildIdx=function(h,f,g){var i=ASN1HEX.getChildIdx(h,f);return i[g]};ASN1HEX.getNthChildIndex_AtObj=ASN1HEX.getNthChildIdx;ASN1HEX.getIdxbyList=function(m,n,o,j){var k=ASN1HEX;var l,h;if(o.length==0){if(j!==undefined){if(m.substr(n,2)!==j){throw"checking tag doesn't match: "+m.substr(n,2)+"!="+j}}return n}l=o.shift();h=k.getChildIdx(m,n);return k.getIdxbyList(m,h[l],o,j)};ASN1HEX.getDecendantIndexByNthList=ASN1HEX.getIdxbyList;ASN1HEX.getTLVbyList=function(k,l,g,i){var j=ASN1HEX;var h=j.getIdxbyList(k,l,g);if(h===undefined){throw"can't find nthList object"}if(i!==undefined){if(k.substr(h,2)!=i){throw"checking tag doesn't match: "+k.substr(h,2)+"!="+i}}return j.getTLV(k,h)};ASN1HEX.getDecendantHexTLVByNthList=ASN1HEX.getTLVbyList;ASN1HEX.getVbyList=function(n,p,h,l,k){var m=ASN1HEX;var j,o;j=m.getIdxbyList(n,p,h,l);if(j===undefined){throw"can't find nthList object"}o=m.getV(n,j);if(k===true){o=o.substr(2)}return o};ASN1HEX.getDecendantHexVByNthList=ASN1HEX.getVbyList;ASN1HEX.hextooidstr=function(w){var s=function(d,e){if(d.length>=e){return d}return new Array(e-d.length+1).join("0")+d};var p=[];var b=w.substr(0,2);var v=parseInt(b,16);p[0]=new String(Math.floor(v/40));p[1]=new String(v%40);var i=w.substr(2);var q=[];for(var u=0;u<i.length/2;u++){q.push(parseInt(i.substr(u*2,2),16))}var r=[];var x="";for(var u=0;u<q.length;u++){if(q[u]&128){x=x+s((q[u]&127).toString(2),7)}else{x=x+s((q[u]&127).toString(2),7);r.push(new String(parseInt(x,2)));x=""}}var c=p.join(".");if(r.length>0){c=c+"."+r.join(".")}return c};ASN1HEX.dump=function(C,R,J,N){var F=ASN1HEX;var L=F.getV;var s=F.dump;var A=F.getChildIdx;var P=C;if(C instanceof KJUR.asn1.ASN1Object){P=C.getEncodedHex()}var E=function(b,d){if(b.length<=d*2){return b}else{var c=b.substr(0,d)+"..(total "+b.length/2+"bytes).."+b.substr(b.length-d,d);return c}};if(R===undefined){R={ommit_long_octet:32}}if(J===undefined){J=0}if(N===undefined){N=""}var v=R.ommit_long_octet;if(P.substr(J,2)=="01"){var M=L(P,J);if(M=="00"){return N+"BOOLEAN FALSE\n"}else{return N+"BOOLEAN TRUE\n"}}if(P.substr(J,2)=="02"){var M=L(P,J);return N+"INTEGER "+E(M,v)+"\n"}if(P.substr(J,2)=="03"){var M=L(P,J);return N+"BITSTRING "+E(M,v)+"\n"}if(P.substr(J,2)=="04"){var M=L(P,J);if(F.isASN1HEX(M)){var K=N+"OCTETSTRING, encapsulates\n";K=K+s(M,R,0,N+"  ");return K}else{return N+"OCTETSTRING "+E(M,v)+"\n"}}if(P.substr(J,2)=="05"){return N+"NULL\n"}if(P.substr(J,2)=="06"){var I=L(P,J);var T=KJUR.asn1.ASN1Util.oidHexToInt(I);var G=KJUR.asn1.x509.OID.oid2name(T);var S=T.replace(/\./g," ");if(G!=""){return N+"ObjectIdentifier "+G+" ("+S+")\n"}else{return N+"ObjectIdentifier ("+S+")\n"}}if(P.substr(J,2)=="0c"){return N+"UTF8String '"+hextoutf8(L(P,J))+"'\n"}if(P.substr(J,2)=="13"){return N+"PrintableString '"+hextoutf8(L(P,J))+"'\n"}if(P.substr(J,2)=="14"){return N+"TeletexString '"+hextoutf8(L(P,J))+"'\n"}if(P.substr(J,2)=="16"){return N+"IA5String '"+hextoutf8(L(P,J))+"'\n"}if(P.substr(J,2)=="17"){return N+"UTCTime "+hextoutf8(L(P,J))+"\n"}if(P.substr(J,2)=="18"){return N+"GeneralizedTime "+hextoutf8(L(P,J))+"\n"}if(P.substr(J,2)=="30"){if(P.substr(J,4)=="3000"){return N+"SEQUENCE {}\n"}var K=N+"SEQUENCE\n";var Q=A(P,J);var O=R;if((Q.length==2||Q.length==3)&&P.substr(Q[0],2)=="06"&&P.substr(Q[Q.length-1],2)=="04"){var G=F.oidname(L(P,Q[0]));var D=JSON.parse(JSON.stringify(R));D.x509ExtName=G;O=D}for(var B=0;B<Q.length;B++){K=K+s(P,O,Q[B],N+"  ")}return K}if(P.substr(J,2)=="31"){var K=N+"SET\n";var Q=A(P,J);for(var B=0;B<Q.length;B++){K=K+s(P,R,Q[B],N+"  ")}return K}var i=parseInt(P.substr(J,2),16);if((i&128)!=0){var H=i&31;if((i&32)!=0){var K=N+"["+H+"]\n";var Q=A(P,J);for(var B=0;B<Q.length;B++){K=K+s(P,R,Q[B],N+"  ")}return K}else{var M=L(P,J);if(M.substr(0,8)=="68747470"){M=hextoutf8(M)}if(R.x509ExtName==="subjectAltName"&&H==2){M=hextoutf8(M)}var K=N+"["+H+"] "+M+"\n";return K}}return N+"UNKNOWN("+P.substr(J,2)+") "+L(P,J)+"\n"};ASN1HEX.isASN1HEX=function(j){var k=ASN1HEX;if(j.length%2==1){return false}var l=k.getVblen(j,0);var g=j.substr(0,2);var i=k.getL(j,0);var h=j.length-g.length-i.length;if(h==l*2){return true}return false};ASN1HEX.oidname=function(e){var f=KJUR.asn1;if(KJUR.lang.String.isHex(e)){e=f.ASN1Util.oidHexToInt(e)}var d=f.x509.OID.oid2name(e);if(d===""){d=e}return d};ASN1HEX.pemToHex=function(e,g){if(e.indexOf("-----BEGIN ")==-1){throw"can't find PEM header: "+g}if(g!==undefined){e=e.replace("-----BEGIN "+g+"-----","");e=e.replace("-----END "+g+"-----","")}else{e=e.replace(/-----BEGIN [^-]+-----/,"");e=e.replace(/-----END [^-]+-----/,"")}var h=e.replace(/\s+/g,"");var f=b64tohex(h);return f};
/*! asn1x509-1.0.23.js (c) 2013-2017 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.asn1=="undefined"||!KJUR.asn1){KJUR.asn1={}}if(typeof KJUR.asn1.x509=="undefined"||!KJUR.asn1.x509){KJUR.asn1.x509={}}KJUR.asn1.x509.Certificate=function(j){KJUR.asn1.x509.Certificate.superclass.constructor.call(this);var h=null;var m=null;var k=null;var n=null;var i=null;var l=null;this.setRsaPrvKeyByPEMandPass=function(d,b){var e=PKCS5PKEY.getDecryptedKeyHex(d,b);var c=new RSAKey();c.readPrivateKeyFromASN1HexString(e);this.prvKey=c};this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;var b=new KJUR.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg});b.init(this.prvKey);b.updateHex(this.asn1TBSCert.getEncodedHex());this.hexSig=b.sign();this.asn1Sig=new KJUR.asn1.DERBitString({hex:"00"+this.hexSig});var c=new KJUR.asn1.DERSequence({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=c.getEncodedHex();this.isModified=false};this.setSignatureHex=function(c){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;this.hexSig=c;this.asn1Sig=new KJUR.asn1.DERBitString({hex:"00"+this.hexSig});var b=new KJUR.asn1.DERSequence({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=b.getEncodedHex();this.isModified=false};this.getEncodedHex=function(){if(this.isModified==false&&this.hTLV!=null){return this.hTLV}throw"not signed yet"};this.getPEMString=function(){var c=this.getEncodedHex();var e=CryptoJS.enc.Hex.parse(c);var d=CryptoJS.enc.Base64.stringify(e);var b=d.replace(/(.{64})/g,"$1\r\n");return"-----BEGIN CERTIFICATE-----\r\n"+b+"\r\n-----END CERTIFICATE-----\r\n"};if(j!==undefined){if(j.tbscertobj!==undefined){this.asn1TBSCert=j.tbscertobj}if(j.prvkeyobj!==undefined){this.prvKey=j.prvkeyobj}else{if(j.rsaprvkey!==undefined){this.prvKey=j.rsaprvkey}else{if((j.rsaprvpem!==undefined)&&(j.rsaprvpas!==undefined)){this.setRsaPrvKeyByPEMandPass(j.rsaprvpem,j.rsaprvpas)}}}}};YAHOO.lang.extend(KJUR.asn1.x509.Certificate,KJUR.asn1.ASN1Object);KJUR.asn1.x509.TBSCertificate=function(b){KJUR.asn1.x509.TBSCertificate.superclass.constructor.call(this);this._initialize=function(){this.asn1Array=new Array();this.asn1Version=new KJUR.asn1.DERTaggedObject({obj:new KJUR.asn1.DERInteger({"int":2})});this.asn1SerialNumber=null;this.asn1SignatureAlg=null;this.asn1Issuer=null;this.asn1NotBefore=null;this.asn1NotAfter=null;this.asn1Subject=null;this.asn1SubjPKey=null;this.extensionsArray=new Array()};this.setSerialNumberByParam=function(c){this.asn1SerialNumber=new KJUR.asn1.DERInteger(c)};this.setSignatureAlgByParam=function(c){this.asn1SignatureAlg=new KJUR.asn1.x509.AlgorithmIdentifier(c)};this.setIssuerByParam=function(c){this.asn1Issuer=new KJUR.asn1.x509.X500Name(c)};this.setNotBeforeByParam=function(c){this.asn1NotBefore=new KJUR.asn1.x509.Time(c)};this.setNotAfterByParam=function(c){this.asn1NotAfter=new KJUR.asn1.x509.Time(c)};this.setSubjectByParam=function(c){this.asn1Subject=new KJUR.asn1.x509.X500Name(c)};this.setSubjectPublicKeyByParam=function(c){this.asn1SubjPKey=new KJUR.asn1.x509.SubjectPublicKeyInfo(c)};this.setSubjectPublicKeyByGetKey=function(e){var d=KEYUTIL.getKey(e);this.asn1SubjPKey=new KJUR.asn1.x509.SubjectPublicKeyInfo(d)};this.appendExtension=function(c){this.extensionsArray.push(c)};this.appendExtensionByName=function(e,d){KJUR.asn1.x509.Extension.appendByNameToArray(e,d,this.extensionsArray)};this.getEncodedHex=function(){if(this.asn1NotBefore==null||this.asn1NotAfter==null){throw"notBefore and/or notAfter not set"}var i=new KJUR.asn1.DERSequence({array:[this.asn1NotBefore,this.asn1NotAfter]});this.asn1Array=new Array();this.asn1Array.push(this.asn1Version);this.asn1Array.push(this.asn1SerialNumber);this.asn1Array.push(this.asn1SignatureAlg);this.asn1Array.push(this.asn1Issuer);this.asn1Array.push(i);this.asn1Array.push(this.asn1Subject);this.asn1Array.push(this.asn1SubjPKey);if(this.extensionsArray.length>0){var h=new KJUR.asn1.DERSequence({array:this.extensionsArray});var f=new KJUR.asn1.DERTaggedObject({explicit:true,tag:"a3",obj:h});this.asn1Array.push(f)}var g=new KJUR.asn1.DERSequence({array:this.asn1Array});this.hTLV=g.getEncodedHex();this.isModified=false;return this.hTLV};this._initialize()};YAHOO.lang.extend(KJUR.asn1.x509.TBSCertificate,KJUR.asn1.ASN1Object);KJUR.asn1.x509.Extension=function(c){KJUR.asn1.x509.Extension.superclass.constructor.call(this);var d=null;this.getEncodedHex=function(){var b=new KJUR.asn1.DERObjectIdentifier({oid:this.oid});var g=new KJUR.asn1.DEROctetString({hex:this.getExtnValueHex()});var h=new Array();h.push(b);if(this.critical){h.push(new KJUR.asn1.DERBoolean())}h.push(g);var i=new KJUR.asn1.DERSequence({array:h});return i.getEncodedHex()};this.critical=false;if(typeof c!="undefined"){if(typeof c.critical!="undefined"){this.critical=c.critical}}};YAHOO.lang.extend(KJUR.asn1.x509.Extension,KJUR.asn1.ASN1Object);KJUR.asn1.x509.Extension.appendByNameToArray=function(g,i,f){if(g.toLowerCase()=="basicconstraints"){var h=new KJUR.asn1.x509.BasicConstraints(i);f.push(h)}else{if(g.toLowerCase()=="keyusage"){var h=new KJUR.asn1.x509.KeyUsage(i);f.push(h)}else{if(g.toLowerCase()=="crldistributionpoints"){var h=new KJUR.asn1.x509.CRLDistributionPoints(i);f.push(h)}else{if(g.toLowerCase()=="extkeyusage"){var h=new KJUR.asn1.x509.ExtKeyUsage(i);f.push(h)}else{if(g.toLowerCase()=="authoritykeyidentifier"){var h=new KJUR.asn1.x509.AuthorityKeyIdentifier(i);f.push(h)}else{if(g.toLowerCase()=="authorityinfoaccess"){var h=new KJUR.asn1.x509.AuthorityInfoAccess(i);f.push(h)}else{if(g.toLowerCase()=="subjectaltname"){var h=new KJUR.asn1.x509.SubjectAltName(i);f.push(h)}else{if(g.toLowerCase()=="issueraltname"){var h=new KJUR.asn1.x509.IssuerAltName(i);f.push(h)}else{throw"unsupported extension name: "+g}}}}}}}}};KJUR.asn1.x509.KeyUsage=function(b){KJUR.asn1.x509.KeyUsage.superclass.constructor.call(this,b);this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.15";if(typeof b!="undefined"){if(typeof b.bin!="undefined"){this.asn1ExtnValue=new KJUR.asn1.DERBitString(b)}}};YAHOO.lang.extend(KJUR.asn1.x509.KeyUsage,KJUR.asn1.x509.Extension);KJUR.asn1.x509.BasicConstraints=function(f){KJUR.asn1.x509.BasicConstraints.superclass.constructor.call(this,f);var e=false;var d=-1;this.getExtnValueHex=function(){var b=new Array();if(this.cA){b.push(new KJUR.asn1.DERBoolean())}if(this.pathLen>-1){b.push(new KJUR.asn1.DERInteger({"int":this.pathLen}))}var c=new KJUR.asn1.DERSequence({array:b});this.asn1ExtnValue=c;return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.19";this.cA=false;this.pathLen=-1;if(typeof f!="undefined"){if(typeof f.cA!="undefined"){this.cA=f.cA}if(typeof f.pathLen!="undefined"){this.pathLen=f.pathLen}}};YAHOO.lang.extend(KJUR.asn1.x509.BasicConstraints,KJUR.asn1.x509.Extension);KJUR.asn1.x509.CRLDistributionPoints=function(b){KJUR.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,b);this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.setByDPArray=function(c){this.asn1ExtnValue=new KJUR.asn1.DERSequence({array:c})};this.setByOneURI=function(g){var f=new KJUR.asn1.x509.GeneralNames([{uri:g}]);var h=new KJUR.asn1.x509.DistributionPointName(f);var i=new KJUR.asn1.x509.DistributionPoint({dpobj:h});this.setByDPArray([i])};this.oid="2.5.29.31";if(typeof b!="undefined"){if(typeof b.array!="undefined"){this.setByDPArray(b.array)}else{if(typeof b.uri!="undefined"){this.setByOneURI(b.uri)}}}};YAHOO.lang.extend(KJUR.asn1.x509.CRLDistributionPoints,KJUR.asn1.x509.Extension);KJUR.asn1.x509.ExtKeyUsage=function(b){KJUR.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,b);this.setPurposeArray=function(e){this.asn1ExtnValue=new KJUR.asn1.DERSequence();for(var g=0;g<e.length;g++){var f=new KJUR.asn1.DERObjectIdentifier(e[g]);this.asn1ExtnValue.appendASN1Object(f)}};this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.37";if(typeof b!="undefined"){if(typeof b.array!="undefined"){this.setPurposeArray(b.array)}}};YAHOO.lang.extend(KJUR.asn1.x509.ExtKeyUsage,KJUR.asn1.x509.Extension);KJUR.asn1.x509.AuthorityKeyIdentifier=function(b){KJUR.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,b);this.asn1KID=null;this.asn1CertIssuer=null;this.asn1CertSN=null;this.getExtnValueHex=function(){var e=new Array();if(this.asn1KID){e.push(new KJUR.asn1.DERTaggedObject({explicit:false,tag:"80",obj:this.asn1KID}))}if(this.asn1CertIssuer){e.push(new KJUR.asn1.DERTaggedObject({explicit:false,tag:"a1",obj:this.asn1CertIssuer}))}if(this.asn1CertSN){e.push(new KJUR.asn1.DERTaggedObject({explicit:false,tag:"82",obj:this.asn1CertSN}))}var d=new KJUR.asn1.DERSequence({array:e});this.asn1ExtnValue=d;return this.asn1ExtnValue.getEncodedHex()};this.setKIDByParam=function(c){this.asn1KID=new KJUR.asn1.DEROctetString(c)};this.setCertIssuerByParam=function(c){this.asn1CertIssuer=new KJUR.asn1.x509.X500Name(c)};this.setCertSNByParam=function(c){this.asn1CertSN=new KJUR.asn1.DERInteger(c)};this.oid="2.5.29.35";if(typeof b!="undefined"){if(typeof b.kid!="undefined"){this.setKIDByParam(b.kid)}if(typeof b.issuer!="undefined"){this.setCertIssuerByParam(b.issuer)}if(typeof b.sn!="undefined"){this.setCertSNByParam(b.sn)}}};YAHOO.lang.extend(KJUR.asn1.x509.AuthorityKeyIdentifier,KJUR.asn1.x509.Extension);KJUR.asn1.x509.AuthorityInfoAccess=function(b){KJUR.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,b);this.setAccessDescriptionArray=function(m){var i=new Array();for(var h=0;h<m.length;h++){var k=new KJUR.asn1.DERObjectIdentifier(m[h].accessMethod);var l=new KJUR.asn1.x509.GeneralName(m[h].accessLocation);var j=new KJUR.asn1.DERSequence({array:[k,l]});i.push(j)}this.asn1ExtnValue=new KJUR.asn1.DERSequence({array:i})};this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="1.3.6.1.5.5.7.1.1";if(typeof b!="undefined"){if(typeof b.array!="undefined"){this.setAccessDescriptionArray(b.array)}}};YAHOO.lang.extend(KJUR.asn1.x509.AuthorityInfoAccess,KJUR.asn1.x509.Extension);KJUR.asn1.x509.SubjectAltName=function(b){KJUR.asn1.x509.SubjectAltName.superclass.constructor.call(this,b);this.setNameArray=function(c){this.asn1ExtnValue=new KJUR.asn1.x509.GeneralNames(c)};this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.17";if(b!==undefined){if(b.array!==undefined){this.setNameArray(b.array)}}};YAHOO.lang.extend(KJUR.asn1.x509.SubjectAltName,KJUR.asn1.x509.Extension);KJUR.asn1.x509.IssuerAltName=function(b){KJUR.asn1.x509.IssuerAltName.superclass.constructor.call(this,b);this.setNameArray=function(c){this.asn1ExtnValue=new KJUR.asn1.x509.GeneralNames(c)};this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()};this.oid="2.5.29.18";if(b!==undefined){if(b.array!==undefined){this.setNameArray(b.array)}}};YAHOO.lang.extend(KJUR.asn1.x509.IssuerAltName,KJUR.asn1.x509.Extension);KJUR.asn1.x509.CRL=function(i){KJUR.asn1.x509.CRL.superclass.constructor.call(this);var h=null;var l=null;var j=null;var g=null;var k=null;this.setRsaPrvKeyByPEMandPass=function(d,b){var e=PKCS5PKEY.getDecryptedKeyHex(d,b);var c=new RSAKey();c.readPrivateKeyFromASN1HexString(e);this.rsaPrvKey=c};this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCertList.asn1SignatureAlg;sig=new KJUR.crypto.Signature({alg:"SHA1withRSA",prov:"cryptojs/jsrsa"});sig.initSign(this.rsaPrvKey);sig.updateHex(this.asn1TBSCertList.getEncodedHex());this.hexSig=sig.sign();this.asn1Sig=new KJUR.asn1.DERBitString({hex:"00"+this.hexSig});var b=new KJUR.asn1.DERSequence({array:[this.asn1TBSCertList,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=b.getEncodedHex();this.isModified=false};this.getEncodedHex=function(){if(this.isModified==false&&this.hTLV!=null){return this.hTLV}throw"not signed yet"};this.getPEMString=function(){var c=this.getEncodedHex();var e=CryptoJS.enc.Hex.parse(c);var d=CryptoJS.enc.Base64.stringify(e);var b=d.replace(/(.{64})/g,"$1\r\n");return"-----BEGIN X509 CRL-----\r\n"+b+"\r\n-----END X509 CRL-----\r\n"};if(typeof i!="undefined"){if(typeof i.tbsobj!="undefined"){this.asn1TBSCertList=i.tbsobj}if(typeof i.rsaprvkey!="undefined"){this.rsaPrvKey=i.rsaprvkey}if((typeof i.rsaprvpem!="undefined")&&(typeof i.rsaprvpas!="undefined")){this.setRsaPrvKeyByPEMandPass(i.rsaprvpem,i.rsaprvpas)}}};YAHOO.lang.extend(KJUR.asn1.x509.CRL,KJUR.asn1.ASN1Object);KJUR.asn1.x509.TBSCertList=function(c){KJUR.asn1.x509.TBSCertList.superclass.constructor.call(this);var d=null;this.setSignatureAlgByParam=function(b){this.asn1SignatureAlg=new KJUR.asn1.x509.AlgorithmIdentifier(b)};this.setIssuerByParam=function(b){this.asn1Issuer=new KJUR.asn1.x509.X500Name(b)};this.setThisUpdateByParam=function(b){this.asn1ThisUpdate=new KJUR.asn1.x509.Time(b)};this.setNextUpdateByParam=function(b){this.asn1NextUpdate=new KJUR.asn1.x509.Time(b)};this.addRevokedCert=function(i,h){var b={};if(i!=undefined&&i!=null){b.sn=i}if(h!=undefined&&h!=null){b.time=h}var g=new KJUR.asn1.x509.CRLEntry(b);this.aRevokedCert.push(g)};this.getEncodedHex=function(){this.asn1Array=new Array();if(this.asn1Version!=null){this.asn1Array.push(this.asn1Version)}this.asn1Array.push(this.asn1SignatureAlg);this.asn1Array.push(this.asn1Issuer);this.asn1Array.push(this.asn1ThisUpdate);if(this.asn1NextUpdate!=null){this.asn1Array.push(this.asn1NextUpdate)}if(this.aRevokedCert.length>0){var e=new KJUR.asn1.DERSequence({array:this.aRevokedCert});this.asn1Array.push(e)}var b=new KJUR.asn1.DERSequence({array:this.asn1Array});this.hTLV=b.getEncodedHex();this.isModified=false;return this.hTLV};this._initialize=function(){this.asn1Version=null;this.asn1SignatureAlg=null;this.asn1Issuer=null;this.asn1ThisUpdate=null;this.asn1NextUpdate=null;this.aRevokedCert=new Array()};this._initialize()};YAHOO.lang.extend(KJUR.asn1.x509.TBSCertList,KJUR.asn1.ASN1Object);KJUR.asn1.x509.CRLEntry=function(f){KJUR.asn1.x509.CRLEntry.superclass.constructor.call(this);var d=null;var e=null;this.setCertSerial=function(b){this.sn=new KJUR.asn1.DERInteger(b)};this.setRevocationDate=function(b){this.time=new KJUR.asn1.x509.Time(b)};this.getEncodedHex=function(){var b=new KJUR.asn1.DERSequence({array:[this.sn,this.time]});this.TLV=b.getEncodedHex();return this.TLV};if(typeof f!="undefined"){if(typeof f.time!="undefined"){this.setRevocationDate(f.time)}if(typeof f.sn!="undefined"){this.setCertSerial(f.sn)}}};YAHOO.lang.extend(KJUR.asn1.x509.CRLEntry,KJUR.asn1.ASN1Object);KJUR.asn1.x509.X500Name=function(c){KJUR.asn1.x509.X500Name.superclass.constructor.call(this);this.asn1Array=new Array();this.setByString=function(g){var f=g.split("/");f.shift();for(var b=0;b<f.length;b++){this.asn1Array.push(new KJUR.asn1.x509.RDN({str:f[b]}))}};this.setByLdapString=function(e){var b=KJUR.asn1.x509.X500Name.ldapToOneline(e);this.setByString(b)};this.setByObject=function(b){for(var g in b){if(b.hasOwnProperty(g)){var f=new KJUR.asn1.x509.RDN({str:g+"="+b[g]});this.asn1Array?this.asn1Array.push(f):this.asn1Array=[f]}}};this.getEncodedHex=function(){if(typeof this.hTLV=="string"){return this.hTLV}var b=new KJUR.asn1.DERSequence({array:this.asn1Array});this.hTLV=b.getEncodedHex();return this.hTLV};if(c!==undefined){if(c.str!==undefined){this.setByString(c.str)}else{if(c.ldapstr!==undefined){this.setByLdapString(c.ldapstr)}else{if(typeof c==="object"){this.setByObject(c)}}}if(c.certissuer!==undefined){var d=new X509();d.hex=ASN1HEX.pemToHex(c.certissuer);this.hTLV=d.getIssuerHex()}if(c.certsubject!==undefined){var d=new X509();d.hex=ASN1HEX.pemToHex(c.certsubject);this.hTLV=d.getSubjectHex()}}};YAHOO.lang.extend(KJUR.asn1.x509.X500Name,KJUR.asn1.ASN1Object);KJUR.asn1.x509.X500Name.onelineToLDAP=function(f){if(f.substr(0,1)!=="/"){throw"malformed input"}var e="";f=f.substr(1);var g=f.split("/");g.reverse();g=g.map(function(b){return b.replace(/,/,"\\,")});return g.join(",")};KJUR.asn1.x509.X500Name.ldapToOneline=function(m){var q=m.split(",");var o=false;var i=[];for(var n=0;q.length>0;n++){var l=q.shift();if(o===true){var p=i.pop();var k=(p+","+l).replace(/\\,/g,",");i.push(k);o=false}else{i.push(l)}if(l.substr(-1,1)==="\\"){o=true}}i=i.map(function(b){return b.replace("/","\\/")});i.reverse();return"/"+i.join("/")};KJUR.asn1.x509.RDN=function(b){KJUR.asn1.x509.RDN.superclass.constructor.call(this);this.asn1Array=new Array();this.addByString=function(c){this.asn1Array.push(new KJUR.asn1.x509.AttributeTypeAndValue({str:c}))};this.addByMultiValuedString=function(f){var e=KJUR.asn1.x509.RDN.parseString(f);for(var g=0;g<e.length;g++){this.addByString(e[g])}};this.getEncodedHex=function(){var c=new KJUR.asn1.DERSet({array:this.asn1Array});this.TLV=c.getEncodedHex();return this.TLV};if(typeof b!="undefined"){if(typeof b.str!="undefined"){this.addByMultiValuedString(b.str)}}};YAHOO.lang.extend(KJUR.asn1.x509.RDN,KJUR.asn1.ASN1Object);KJUR.asn1.x509.RDN.parseString=function(i){var p=i.split(/\+/);var q=false;var w=[];for(var r=0;p.length>0;r++){var o=p.shift();if(q===true){var s=w.pop();var v=(s+"+"+o).replace(/\\\+/g,"+");w.push(v);q=false}else{w.push(o)}if(o.substr(-1,1)==="\\"){q=true}}var n=false;var x=[];for(var r=0;w.length>0;r++){var o=w.shift();if(n===true){var u=x.pop();if(o.match(/"$/)){var v=(u+"+"+o).replace(/^([^=]+)="(.*)"$/,"$1=$2");x.push(v);n=false}else{x.push(u+"+"+o)}}else{x.push(o)}if(o.match(/^[^=]+="/)){n=true}}return x};KJUR.asn1.x509.AttributeTypeAndValue=function(e){KJUR.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this);var g=null;var h=null;var f="utf8";this.setByString=function(b){var c=b.match(/^([^=]+)=(.+)$/);if(c){this.setByAttrTypeAndValueStr(c[1],c[2])}else{throw"malformed attrTypeAndValueStr: "+b}};this.setByAttrTypeAndValueStr=function(b,c){this.typeObj=KJUR.asn1.x509.OID.atype2obj(b);var d=f;if(b=="C"){d="prn"}this.valueObj=this.getValueObj(d,c)};this.getValueObj=function(b,c){if(b=="utf8"){return new KJUR.asn1.DERUTF8String({str:c})}if(b=="prn"){return new KJUR.asn1.DERPrintableString({str:c})}if(b=="tel"){return new KJUR.asn1.DERTeletexString({str:c})}if(b=="ia5"){return new KJUR.asn1.DERIA5String({str:c})}throw"unsupported directory string type: type="+b+" value="+c};this.getEncodedHex=function(){var b=new KJUR.asn1.DERSequence({array:[this.typeObj,this.valueObj]});this.TLV=b.getEncodedHex();return this.TLV};if(typeof e!="undefined"){if(typeof e.str!="undefined"){this.setByString(e.str)}}};YAHOO.lang.extend(KJUR.asn1.x509.AttributeTypeAndValue,KJUR.asn1.ASN1Object);KJUR.asn1.x509.SubjectPublicKeyInfo=function(g){KJUR.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var e=null;var h=null;var f=null;this.setRSAKey=function(k){if(!RSAKey.prototype.isPrototypeOf(k)){throw"argument is not RSAKey instance"}this.rsaKey=k;var d=new KJUR.asn1.DERInteger({bigint:k.n});var j=new KJUR.asn1.DERInteger({"int":k.e});var b=new KJUR.asn1.DERSequence({array:[d,j]});var c=b.getEncodedHex();this.asn1AlgId=new KJUR.asn1.x509.AlgorithmIdentifier({name:"rsaEncryption"});this.asn1SubjPKey=new KJUR.asn1.DERBitString({hex:"00"+c})};this.setRSAPEM=function(s){if(s.match(/-----BEGIN PUBLIC KEY-----/)){var b=s;b=b.replace(/^-----[^-]+-----/,"");b=b.replace(/-----[^-]+-----\s*$/,"");var c=b.replace(/\s+/g,"");var u=CryptoJS.enc.Base64.parse(c);var q=CryptoJS.enc.Hex.stringify(u);var o=RSAKey.getHexValueArrayOfChildrenFromHex(q);var r=o[1];var d=r.substr(2);var v=RSAKey.getHexValueArrayOfChildrenFromHex(d);var p=new RSAKey();p.setPublic(v[0],v[1]);this.setRSAKey(p)}else{throw"key not supported"}};this.getASN1Object=function(){if(this.asn1AlgId==null||this.asn1SubjPKey==null){throw"algId and/or subjPubKey not set"}var b=new KJUR.asn1.DERSequence({array:[this.asn1AlgId,this.asn1SubjPKey]});return b};this.getEncodedHex=function(){var b=this.getASN1Object();this.hTLV=b.getEncodedHex();return this.hTLV};this._setRSAKey=function(d){var b=KJUR.asn1.ASN1Util.newObject({seq:[{"int":{bigint:d.n}},{"int":{"int":d.e}}]});var c=b.getEncodedHex();this.asn1AlgId=new KJUR.asn1.x509.AlgorithmIdentifier({name:"rsaEncryption"});this.asn1SubjPKey=new KJUR.asn1.DERBitString({hex:"00"+c})};this._setEC=function(c){var b=new KJUR.asn1.DERObjectIdentifier({name:c.curveName});this.asn1AlgId=new KJUR.asn1.x509.AlgorithmIdentifier({name:"ecPublicKey",asn1params:b});this.asn1SubjPKey=new KJUR.asn1.DERBitString({hex:"00"+c.pubKeyHex})};this._setDSA=function(d){var c=new KJUR.asn1.ASN1Util.newObject({seq:[{"int":{bigint:d.p}},{"int":{bigint:d.q}},{"int":{bigint:d.g}}]});this.asn1AlgId=new KJUR.asn1.x509.AlgorithmIdentifier({name:"dsa",asn1params:c});var b=new KJUR.asn1.DERInteger({bigint:d.y});this.asn1SubjPKey=new KJUR.asn1.DERBitString({hex:"00"+b.getEncodedHex()})};if(typeof g!="undefined"){if(typeof RSAKey!="undefined"&&g instanceof RSAKey){this._setRSAKey(g)}else{if(typeof KJUR.crypto.ECDSA!="undefined"&&g instanceof KJUR.crypto.ECDSA){this._setEC(g)}else{if(typeof KJUR.crypto.DSA!="undefined"&&g instanceof KJUR.crypto.DSA){this._setDSA(g)}else{if(typeof g.rsakey!="undefined"){this.setRSAKey(g.rsakey)}else{if(typeof g.rsapem!="undefined"){this.setRSAPEM(g.rsapem)}}}}}}};YAHOO.lang.extend(KJUR.asn1.x509.SubjectPublicKeyInfo,KJUR.asn1.ASN1Object);KJUR.asn1.x509.Time=function(f){KJUR.asn1.x509.Time.superclass.constructor.call(this);var d=null;var e=null;this.setTimeParams=function(b){this.timeParams=b};this.getEncodedHex=function(){var b=null;if(this.timeParams!=null){if(this.type=="utc"){b=new KJUR.asn1.DERUTCTime(this.timeParams)}else{b=new KJUR.asn1.DERGeneralizedTime(this.timeParams)}}else{if(this.type=="utc"){b=new KJUR.asn1.DERUTCTime()}else{b=new KJUR.asn1.DERGeneralizedTime()}}this.TLV=b.getEncodedHex();return this.TLV};this.type="utc";if(typeof f!="undefined"){if(typeof f.type!="undefined"){this.type=f.type}else{if(typeof f.str!="undefined"){if(f.str.match(/^[0-9]{12}Z$/)){this.type="utc"}if(f.str.match(/^[0-9]{14}Z$/)){this.type="gen"}}}this.timeParams=f}};YAHOO.lang.extend(KJUR.asn1.x509.Time,KJUR.asn1.ASN1Object);KJUR.asn1.x509.AlgorithmIdentifier=function(c){KJUR.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this);this.nameAlg=null;this.asn1Alg=null;this.asn1Params=null;this.paramEmpty=false;this.getEncodedHex=function(){if(this.nameAlg===null&&this.asn1Alg===null){throw"algorithm not specified"}if(this.nameAlg!==null&&this.asn1Alg===null){this.asn1Alg=KJUR.asn1.x509.OID.name2obj(this.nameAlg)}var e=[this.asn1Alg];if(this.asn1Params!==null){e.push(this.asn1Params)}var b=new KJUR.asn1.DERSequence({array:e});this.hTLV=b.getEncodedHex();return this.hTLV};if(c!==undefined){if(c.name!==undefined){this.nameAlg=c.name}if(c.asn1params!==undefined){this.asn1Params=c.asn1params}if(c.paramempty!==undefined){this.paramEmpty=c.paramempty}}if(this.asn1Params===null&&this.paramEmpty===false&&this.nameAlg!==null){var d=this.nameAlg.toLowerCase();if(d.substr(-7,7)!=="withdsa"&&d.substr(-9,9)!=="withecdsa"){this.asn1Params=new KJUR.asn1.DERNull()}}};YAHOO.lang.extend(KJUR.asn1.x509.AlgorithmIdentifier,KJUR.asn1.ASN1Object);KJUR.asn1.x509.GeneralName=function(g){KJUR.asn1.x509.GeneralName.superclass.constructor.call(this);var h=null;var e=null;var f={rfc822:"81",dns:"82",dn:"a4",uri:"86"};this.explicit=false;this.setByParam=function(b){var c=null;var m=null;if(b===undefined){return}if(b.rfc822!==undefined){this.type="rfc822";m=new KJUR.asn1.DERIA5String({str:b[this.type]})}if(b.dns!==undefined){this.type="dns";m=new KJUR.asn1.DERIA5String({str:b[this.type]})}if(b.uri!==undefined){this.type="uri";m=new KJUR.asn1.DERIA5String({str:b[this.type]})}if(b.dn!==undefined){this.type="dn";m=new KJUR.asn1.x509.X500Name({str:b.dn})}if(b.ldapdn!==undefined){this.type="dn";m=new KJUR.asn1.x509.X500Name({ldapstr:b.ldapdn})}if(b.certissuer!==undefined){this.type="dn";this.explicit=true;var l=b.certissuer;var n=null;if(l.match(/^[0-9A-Fa-f]+$/)){n==l}if(l.indexOf("-----BEGIN ")!=-1){n=ASN1HEX.pemToHex(l)}if(n==null){throw"certissuer param not cert"}var o=new X509();o.hex=n;var d=o.getIssuerHex();m=new KJUR.asn1.ASN1Object();m.hTLV=d}if(b.certsubj!==undefined){this.type="dn";this.explicit=true;var l=b.certsubj;var n=null;if(l.match(/^[0-9A-Fa-f]+$/)){n==l}if(l.indexOf("-----BEGIN ")!=-1){n=ASN1HEX.pemToHex(l)}if(n==null){throw"certsubj param not cert"}var o=new X509();o.hex=n;var d=o.getSubjectHex();m=new KJUR.asn1.ASN1Object();m.hTLV=d}if(this.type==null){throw"unsupported type in params="+b}this.asn1Obj=new KJUR.asn1.DERTaggedObject({explicit:this.explicit,tag:f[this.type],obj:m})};this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()};if(g!==undefined){this.setByParam(g)}};YAHOO.lang.extend(KJUR.asn1.x509.GeneralName,KJUR.asn1.ASN1Object);KJUR.asn1.x509.GeneralNames=function(c){KJUR.asn1.x509.GeneralNames.superclass.constructor.call(this);var d=null;this.setByParamArray=function(b){for(var g=0;g<b.length;g++){var f=new KJUR.asn1.x509.GeneralName(b[g]);this.asn1Array.push(f)}};this.getEncodedHex=function(){var b=new KJUR.asn1.DERSequence({array:this.asn1Array});return b.getEncodedHex()};this.asn1Array=new Array();if(typeof c!="undefined"){this.setByParamArray(c)}};YAHOO.lang.extend(KJUR.asn1.x509.GeneralNames,KJUR.asn1.ASN1Object);KJUR.asn1.x509.DistributionPointName=function(f){KJUR.asn1.x509.DistributionPointName.superclass.constructor.call(this);var h=null;var j=null;var g=null;var i=null;this.getEncodedHex=function(){if(this.type!="full"){throw"currently type shall be 'full': "+this.type}this.asn1Obj=new KJUR.asn1.DERTaggedObject({explicit:false,tag:this.tag,obj:this.asn1V});this.hTLV=this.asn1Obj.getEncodedHex();return this.hTLV};if(typeof f!="undefined"){if(KJUR.asn1.x509.GeneralNames.prototype.isPrototypeOf(f)){this.type="full";this.tag="a0";this.asn1V=f}else{throw"This class supports GeneralNames only as argument"}}};YAHOO.lang.extend(KJUR.asn1.x509.DistributionPointName,KJUR.asn1.ASN1Object);KJUR.asn1.x509.DistributionPoint=function(c){KJUR.asn1.x509.DistributionPoint.superclass.constructor.call(this);var d=null;this.getEncodedHex=function(){var e=new KJUR.asn1.DERSequence();if(this.asn1DP!=null){var b=new KJUR.asn1.DERTaggedObject({explicit:true,tag:"a0",obj:this.asn1DP});e.appendASN1Object(b)}this.hTLV=e.getEncodedHex();return this.hTLV};if(typeof c!="undefined"){if(typeof c.dpobj!="undefined"){this.asn1DP=c.dpobj}}};YAHOO.lang.extend(KJUR.asn1.x509.DistributionPoint,KJUR.asn1.ASN1Object);KJUR.asn1.x509.OID=new function(b){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"};this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",countryName:"2.5.4.6",streetAddress:"2.5.4.9",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",ecPublicKey:"1.2.840.10045.2.1",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",extensionRequest:"1.2.840.113549.1.9.14"};this.objCache={};this.name2obj=function(e){if(typeof this.objCache[e]!="undefined"){return this.objCache[e]}if(typeof this.name2oidList[e]=="undefined"){throw"Name of ObjectIdentifier not defined: "+e}var g=this.name2oidList[e];var f=new KJUR.asn1.DERObjectIdentifier({oid:g});this.objCache[e]=f;return f};this.atype2obj=function(e){if(typeof this.objCache[e]!="undefined"){return this.objCache[e]}if(typeof this.atype2oidList[e]=="undefined"){throw"AttributeType name undefined: "+e}var g=this.atype2oidList[e];var f=new KJUR.asn1.DERObjectIdentifier({oid:g});this.objCache[e]=f;return f}};KJUR.asn1.x509.OID.oid2name=function(d){var f=KJUR.asn1.x509.OID.name2oidList;for(var e in f){if(f[e]==d){return e}}return""};KJUR.asn1.x509.OID.oid2atype=function(d){var f=KJUR.asn1.x509.OID.atype2oidList;for(var e in f){if(f[e]==d){return e}}return d};KJUR.asn1.x509.OID.name2oid=function(d){var c=KJUR.asn1.x509.OID.name2oidList;if(c[d]===undefined){return""}return c[d]};KJUR.asn1.x509.X509Util=new function(){this.getPKCS8PubKeyPEMfromRSAKey=function(p){var q=null;var s=KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(p.n);var o=KJUR.asn1.ASN1Util.integerToByteHex(p.e);var y=new KJUR.asn1.DERInteger({hex:s});var r=new KJUR.asn1.DERInteger({hex:o});var m=new KJUR.asn1.DERSequence({array:[y,r]});var w=m.getEncodedHex();var v=new KJUR.asn1.x509.AlgorithmIdentifier({name:"rsaEncryption"});var x=new KJUR.asn1.DERBitString({hex:"00"+w});var n=new KJUR.asn1.DERSequence({array:[v,x]});var u=n.getEncodedHex();var q=KJUR.asn1.ASN1Util.getPEMStringFromHex(u,"PUBLIC KEY");return q}};KJUR.asn1.x509.X509Util.newCertPEM=function(i){var l=KJUR.asn1.x509;var j=new l.TBSCertificate();if(i.serial!==undefined){j.setSerialNumberByParam(i.serial)}else{throw"serial number undefined."}if(typeof i.sigalg.name==="string"){j.setSignatureAlgByParam(i.sigalg)}else{throw"unproper signature algorithm name"}if(i.issuer!==undefined){j.setIssuerByParam(i.issuer)}else{throw"issuer name undefined."}if(i.notbefore!==undefined){j.setNotBeforeByParam(i.notbefore)}else{throw"notbefore undefined."}if(i.notafter!==undefined){j.setNotAfterByParam(i.notafter)}else{throw"notafter undefined."}if(i.subject!==undefined){j.setSubjectByParam(i.subject)}else{throw"subject name undefined."}if(i.sbjpubkey!==undefined){j.setSubjectPublicKeyByGetKey(i.sbjpubkey)}else{throw"subject public key undefined."}if(i.ext!==undefined&&i.ext.length!==undefined){for(var g=0;g<i.ext.length;g++){for(key in i.ext[g]){j.appendExtensionByName(key,i.ext[g][key])}}}if(i.cakey===undefined&&i.sighex===undefined){throw"param cakey and sighex undefined."}var k=null;var h=null;if(i.cakey){if(i.cakey.isPrivate===true){k=i.cakey}else{k=KEYUTIL.getKey.apply(null,i.cakey)}h=new l.Certificate({tbscertobj:j,prvkeyobj:k});h.sign()}if(i.sighex){h=new l.Certificate({tbscertobj:j});h.setSignatureHex(i.sighex)}return h.getPEMString()};
/*! asn1cms-1.0.3.js (c) 2013-2017 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.asn1=="undefined"||!KJUR.asn1){KJUR.asn1={}}if(typeof KJUR.asn1.cms=="undefined"||!KJUR.asn1.cms){KJUR.asn1.cms={}}KJUR.asn1.cms.Attribute=function(c){KJUR.asn1.cms.Attribute.superclass.constructor.call(this);var d=[];this.getEncodedHex=function(){var b,g,i;b=new KJUR.asn1.DERObjectIdentifier({oid:this.attrTypeOid});g=new KJUR.asn1.DERSet({array:this.valueList});try{g.getEncodedHex()}catch(h){throw"fail valueSet.getEncodedHex in Attribute(1)/"+h}i=new KJUR.asn1.DERSequence({array:[b,g]});try{this.hTLV=i.getEncodedHex()}catch(h){throw"failed seq.getEncodedHex in Attribute(2)/"+h}return this.hTLV}};YAHOO.lang.extend(KJUR.asn1.cms.Attribute,KJUR.asn1.ASN1Object);KJUR.asn1.cms.ContentType=function(c){KJUR.asn1.cms.ContentType.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.3";var d=null;if(typeof c!="undefined"){var d=new KJUR.asn1.DERObjectIdentifier(c);this.valueList=[d]}};YAHOO.lang.extend(KJUR.asn1.cms.ContentType,KJUR.asn1.cms.Attribute);KJUR.asn1.cms.MessageDigest=function(h){KJUR.asn1.cms.MessageDigest.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.4";if(typeof h!="undefined"){if(h.eciObj instanceof KJUR.asn1.cms.EncapsulatedContentInfo&&typeof h.hashAlg=="string"){var f=h.eciObj.eContentValueHex;var g=h.hashAlg;var j=KJUR.crypto.Util.hashHex(f,g);var i=new KJUR.asn1.DEROctetString({hex:j});i.getEncodedHex();this.valueList=[i]}else{var i=new KJUR.asn1.DEROctetString(h);i.getEncodedHex();this.valueList=[i]}}};YAHOO.lang.extend(KJUR.asn1.cms.MessageDigest,KJUR.asn1.cms.Attribute);KJUR.asn1.cms.SigningTime=function(f){KJUR.asn1.cms.SigningTime.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.5";if(typeof f!="undefined"){var e=new KJUR.asn1.x509.Time(f);try{e.getEncodedHex()}catch(d){throw"SigningTime.getEncodedHex() failed/"+d}this.valueList=[e]}};YAHOO.lang.extend(KJUR.asn1.cms.SigningTime,KJUR.asn1.cms.Attribute);KJUR.asn1.cms.SigningCertificate=function(g){KJUR.asn1.cms.SigningCertificate.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.12";var f=KJUR.asn1;var h=KJUR.asn1.cms;var e=KJUR.crypto;this.setCerts=function(d){var o=[];for(var p=0;p<d.length;p++){var r=ASN1HEX.pemToHex(d[p]);var s=e.Util.hashHex(r,"sha1");var c=new f.DEROctetString({hex:s});c.getEncodedHex();var i=new h.IssuerAndSerialNumber({cert:d[p]});i.getEncodedHex();var b=new f.DERSequence({array:[c,i]});b.getEncodedHex();o.push(b)}var q=new f.DERSequence({array:o});q.getEncodedHex();this.valueList=[q]};if(typeof g!="undefined"){if(typeof g.array=="object"){this.setCerts(g.array)}}};YAHOO.lang.extend(KJUR.asn1.cms.SigningCertificate,KJUR.asn1.cms.Attribute);KJUR.asn1.cms.SigningCertificateV2=function(j){KJUR.asn1.cms.SigningCertificateV2.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.47";var g=KJUR.asn1;var i=KJUR.asn1.x509;var k=KJUR.asn1.cms;var l=KJUR.crypto;this.setCerts=function(d,x){var f=[];for(var u=0;u<d.length;u++){var w=ASN1HEX.pemToHex(d[u]);var b=[];if(x!="sha256"){b.push(new i.AlgorithmIdentifier({name:x}))}var y=l.Util.hashHex(w,x);var c=new g.DEROctetString({hex:y});c.getEncodedHex();b.push(c);var s=new k.IssuerAndSerialNumber({cert:d[u]});s.getEncodedHex();b.push(s);var e=new g.DERSequence({array:b});e.getEncodedHex();f.push(e)}var v=new g.DERSequence({array:f});v.getEncodedHex();this.valueList=[v]};if(typeof j!="undefined"){if(typeof j.array=="object"){var h="sha256";if(typeof j.hashAlg=="string"){h=j.hashAlg}this.setCerts(j.array,h)}}};YAHOO.lang.extend(KJUR.asn1.cms.SigningCertificateV2,KJUR.asn1.cms.Attribute);KJUR.asn1.cms.IssuerAndSerialNumber=function(j){KJUR.asn1.cms.IssuerAndSerialNumber.superclass.constructor.call(this);var h=null;var f=null;var g=KJUR.asn1;var i=g.x509;this.setByCertPEM=function(c){var e=ASN1HEX.pemToHex(c);var k=new X509();k.hex=e;var b=k.getIssuerHex();this.dIssuer=new i.X500Name();this.dIssuer.hTLV=b;var d=k.getSerialNumberHex();this.dSerial=new g.DERInteger({hex:d})};this.getEncodedHex=function(){var b=new KJUR.asn1.DERSequence({array:[this.dIssuer,this.dSerial]});this.hTLV=b.getEncodedHex();return this.hTLV};if(typeof j!="undefined"){if(typeof j=="string"&&j.indexOf("-----BEGIN ")!=-1){this.setByCertPEM(j)}if(j.issuer&&j.serial){if(j.issuer instanceof KJUR.asn1.x509.X500Name){this.dIssuer=j.issuer}else{this.dIssuer=new KJUR.asn1.x509.X500Name(j.issuer)}if(j.serial instanceof KJUR.asn1.DERInteger){this.dSerial=j.serial}else{this.dSerial=new KJUR.asn1.DERInteger(j.serial)}}if(typeof j.cert=="string"){this.setByCertPEM(j.cert)}}};YAHOO.lang.extend(KJUR.asn1.cms.IssuerAndSerialNumber,KJUR.asn1.ASN1Object);KJUR.asn1.cms.AttributeList=function(b){KJUR.asn1.cms.AttributeList.superclass.constructor.call(this);this.list=new Array();this.sortFlag=true;this.add=function(c){if(c instanceof KJUR.asn1.cms.Attribute){this.list.push(c)}};this.length=function(){return this.list.length};this.clear=function(){this.list=new Array();this.hTLV=null;this.hV=null};this.getEncodedHex=function(){if(typeof this.hTLV=="string"){return this.hTLV}var c=new KJUR.asn1.DERSet({array:this.list,sortflag:this.sortFlag});this.hTLV=c.getEncodedHex();return this.hTLV};if(typeof b!="undefined"){if(typeof b.sortflag!="undefined"&&b.sortflag==false){this.sortFlag=false}}};YAHOO.lang.extend(KJUR.asn1.cms.AttributeList,KJUR.asn1.ASN1Object);KJUR.asn1.cms.SignerInfo=function(h){KJUR.asn1.cms.SignerInfo.superclass.constructor.call(this);var f=KJUR.asn1;var e=KJUR.asn1.cms;var g=KJUR.asn1.x509;this.dCMSVersion=new f.DERInteger({"int":1});this.dSignerIdentifier=null;this.dDigestAlgorithm=null;this.dSignedAttrs=new e.AttributeList();this.dSigAlg=null;this.dSig=null;this.dUnsignedAttrs=new e.AttributeList();this.setSignerIdentifier=function(b){if(typeof b=="string"&&b.indexOf("CERTIFICATE")!=-1&&b.indexOf("BEGIN")!=-1&&b.indexOf("END")!=-1){var c=b;this.dSignerIdentifier=new e.IssuerAndSerialNumber({cert:b})}};this.setForContentAndHash=function(b){if(typeof b!="undefined"){if(b.eciObj instanceof KJUR.asn1.cms.EncapsulatedContentInfo){this.dSignedAttrs.add(new e.ContentType({oid:"1.2.840.113549.1.7.1"}));this.dSignedAttrs.add(new e.MessageDigest({eciObj:b.eciObj,hashAlg:b.hashAlg}))}if(typeof b.sdObj!="undefined"&&b.sdObj instanceof KJUR.asn1.cms.SignedData){if(b.sdObj.digestAlgNameList.join(":").indexOf(b.hashAlg)==-1){b.sdObj.digestAlgNameList.push(b.hashAlg)}}if(typeof b.hashAlg=="string"){this.dDigestAlgorithm=new g.AlgorithmIdentifier({name:b.hashAlg})}}};this.sign=function(b,l){this.dSigAlg=new g.AlgorithmIdentifier({name:l});var k=this.dSignedAttrs.getEncodedHex();var m=KEYUTIL.getKey(b);var c=new KJUR.crypto.Signature({alg:l});c.init(m);c.updateHex(k);var d=c.sign();this.dSig=new f.DEROctetString({hex:d})};this.addUnsigned=function(b){this.hTLV=null;this.dUnsignedAttrs.hTLV=null;this.dUnsignedAttrs.add(b)};this.getEncodedHex=function(){if(this.dSignedAttrs instanceof KJUR.asn1.cms.AttributeList&&this.dSignedAttrs.length()==0){throw"SignedAttrs length = 0 (empty)"}var i=new f.DERTaggedObject({obj:this.dSignedAttrs,tag:"a0",explicit:false});var b=null;if(this.dUnsignedAttrs.length()>0){b=new f.DERTaggedObject({obj:this.dUnsignedAttrs,tag:"a1",explicit:false})}var c=[this.dCMSVersion,this.dSignerIdentifier,this.dDigestAlgorithm,i,this.dSigAlg,this.dSig];if(b!=null){c.push(b)}var d=new f.DERSequence({array:c});this.hTLV=d.getEncodedHex();return this.hTLV}};YAHOO.lang.extend(KJUR.asn1.cms.SignerInfo,KJUR.asn1.ASN1Object);KJUR.asn1.cms.EncapsulatedContentInfo=function(h){KJUR.asn1.cms.EncapsulatedContentInfo.superclass.constructor.call(this);var f=KJUR.asn1;var e=KJUR.asn1.cms;var g=KJUR.asn1.x509;this.dEContentType=new f.DERObjectIdentifier({name:"data"});this.dEContent=null;this.isDetached=false;this.eContentValueHex=null;this.setContentType=function(b){if(b.match(/^[0-2][.][0-9.]+$/)){this.dEContentType=new f.DERObjectIdentifier({oid:b})}else{this.dEContentType=new f.DERObjectIdentifier({name:b})}};this.setContentValue=function(b){if(typeof b!="undefined"){if(typeof b.hex=="string"){this.eContentValueHex=b.hex}else{if(typeof b.str=="string"){this.eContentValueHex=utf8tohex(b.str)}}}};this.setContentValueHex=function(b){this.eContentValueHex=b};this.setContentValueStr=function(b){this.eContentValueHex=utf8tohex(b)};this.getEncodedHex=function(){if(typeof this.eContentValueHex!="string"){throw"eContentValue not yet set"}var b=new f.DEROctetString({hex:this.eContentValueHex});this.dEContent=new f.DERTaggedObject({obj:b,tag:"a0",explicit:true});var d=[this.dEContentType];if(!this.isDetached){d.push(this.dEContent)}var c=new f.DERSequence({array:d});this.hTLV=c.getEncodedHex();return this.hTLV}};YAHOO.lang.extend(KJUR.asn1.cms.EncapsulatedContentInfo,KJUR.asn1.ASN1Object);KJUR.asn1.cms.ContentInfo=function(h){KJUR.asn1.cms.ContentInfo.superclass.constructor.call(this);var f=KJUR.asn1;var e=KJUR.asn1.cms;var g=KJUR.asn1.x509;this.dContentType=null;this.dContent=null;this.setContentType=function(b){if(typeof b=="string"){this.dContentType=g.OID.name2obj(b)}};this.getEncodedHex=function(){var b=new f.DERTaggedObject({obj:this.dContent,tag:"a0",explicit:true});var c=new f.DERSequence({array:[this.dContentType,b]});this.hTLV=c.getEncodedHex();return this.hTLV};if(typeof h!="undefined"){if(h.type){this.setContentType(h.type)}if(h.obj&&h.obj instanceof f.ASN1Object){this.dContent=h.obj}}};YAHOO.lang.extend(KJUR.asn1.cms.ContentInfo,KJUR.asn1.ASN1Object);KJUR.asn1.cms.SignedData=function(h){KJUR.asn1.cms.SignedData.superclass.constructor.call(this);var f=KJUR.asn1;var e=KJUR.asn1.cms;var g=KJUR.asn1.x509;this.dCMSVersion=new f.DERInteger({"int":1});this.dDigestAlgs=null;this.digestAlgNameList=[];this.dEncapContentInfo=new e.EncapsulatedContentInfo();this.dCerts=null;this.certificateList=[];this.crlList=[];this.signerInfoList=[new e.SignerInfo()];this.addCertificatesByPEM=function(d){var c=ASN1HEX.pemToHex(d);var b=new f.ASN1Object();b.hTLV=c;this.certificateList.push(b)};this.getEncodedHex=function(){if(typeof this.hTLV=="string"){return this.hTLV}if(this.dDigestAlgs==null){var d=[];for(var i=0;i<this.digestAlgNameList.length;i++){var n=this.digestAlgNameList[i];var b=new g.AlgorithmIdentifier({name:n});d.push(b)}this.dDigestAlgs=new f.DERSet({array:d})}var q=[this.dCMSVersion,this.dDigestAlgs,this.dEncapContentInfo];if(this.dCerts==null){if(this.certificateList.length>0){var c=new f.DERSet({array:this.certificateList});this.dCerts=new f.DERTaggedObject({obj:c,tag:"a0",explicit:false})}}if(this.dCerts!=null){q.push(this.dCerts)}var o=new f.DERSet({array:this.signerInfoList});q.push(o);var p=new f.DERSequence({array:q});this.hTLV=p.getEncodedHex();return this.hTLV};this.getContentInfo=function(){this.getEncodedHex();var b=new e.ContentInfo({type:"signed-data",obj:this});return b};this.getContentInfoEncodedHex=function(){var c=this.getContentInfo();var b=c.getEncodedHex();return b};this.getPEM=function(){var c=this.getContentInfoEncodedHex();var b=f.ASN1Util.getPEMStringFromHex(c,"CMS");return b}};YAHOO.lang.extend(KJUR.asn1.cms.SignedData,KJUR.asn1.ASN1Object);KJUR.asn1.cms.CMSUtil=new function(){};KJUR.asn1.cms.CMSUtil.newSignedData=function(r){var k=KJUR.asn1.cms;var l=KJUR.asn1.cades;var m=new k.SignedData();m.dEncapContentInfo.setContentValue(r.content);if(typeof r.certs=="object"){for(var q=0;q<r.certs.length;q++){m.addCertificatesByPEM(r.certs[q])}}m.signerInfoList=[];for(var q=0;q<r.signerInfos.length;q++){var o=r.signerInfos[q];var p=new k.SignerInfo();p.setSignerIdentifier(o.signerCert);p.setForContentAndHash({sdObj:m,eciObj:m.dEncapContentInfo,hashAlg:o.hashAlg});for(attrName in o.sAttr){var i=o.sAttr[attrName];if(attrName=="SigningTime"){var n=new k.SigningTime(i);p.dSignedAttrs.add(n)}if(attrName=="SigningCertificate"){var n=new k.SigningCertificate(i);p.dSignedAttrs.add(n)}if(attrName=="SigningCertificateV2"){var n=new k.SigningCertificateV2(i);p.dSignedAttrs.add(n)}if(attrName=="SignaturePolicyIdentifier"){var n=new l.SignaturePolicyIdentifier(i);p.dSignedAttrs.add(n)}}p.sign(o.signerPrvKey,o.sigAlg);m.signerInfoList.push(p)}return m};
/*! asn1tsp-1.0.2.js (c) 2014-2017 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.asn1=="undefined"||!KJUR.asn1){KJUR.asn1={}}if(typeof KJUR.asn1.tsp=="undefined"||!KJUR.asn1.tsp){KJUR.asn1.tsp={}}KJUR.asn1.tsp.Accuracy=function(c){KJUR.asn1.tsp.Accuracy.superclass.constructor.call(this);var d=KJUR.asn1;this.seconds=null;this.millis=null;this.micros=null;this.getEncodedHex=function(){var m=null;var k=null;var b=null;var o=[];if(this.seconds!=null){m=new d.DERInteger({"int":this.seconds});o.push(m)}if(this.millis!=null){var j=new d.DERInteger({"int":this.millis});k=new d.DERTaggedObject({obj:j,tag:"80",explicit:false});o.push(k)}if(this.micros!=null){var l=new d.DERInteger({"int":this.micros});b=new d.DERTaggedObject({obj:l,tag:"81",explicit:false});o.push(b)}var n=new d.DERSequence({array:o});this.hTLV=n.getEncodedHex();return this.hTLV};if(typeof c!="undefined"){if(typeof c.seconds=="number"){this.seconds=c.seconds}if(typeof c.millis=="number"){this.millis=c.millis}if(typeof c.micros=="number"){this.micros=c.micros}}};YAHOO.lang.extend(KJUR.asn1.tsp.Accuracy,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.MessageImprint=function(d){KJUR.asn1.tsp.MessageImprint.superclass.constructor.call(this);var e=KJUR.asn1;var f=KJUR.asn1.x509;this.dHashAlg=null;this.dHashValue=null;this.getEncodedHex=function(){if(typeof this.hTLV=="string"){return this.hTLV}var b=new e.DERSequence({array:[this.dHashAlg,this.dHashValue]});return b.getEncodedHex()};if(typeof d!="undefined"){if(typeof d.hashAlg=="string"){this.dHashAlg=new f.AlgorithmIdentifier({name:d.hashAlg})}if(typeof d.hashValue=="string"){this.dHashValue=new e.DEROctetString({hex:d.hashValue})}}};YAHOO.lang.extend(KJUR.asn1.tsp.MessageImprint,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.TimeStampReq=function(f){KJUR.asn1.tsp.TimeStampReq.superclass.constructor.call(this);var e=KJUR.asn1;var d=KJUR.asn1.tsp;this.dVersion=new e.DERInteger({"int":1});this.dMessageImprint=null;this.dPolicy=null;this.dNonce=null;this.certReq=true;this.setMessageImprint=function(b){if(b instanceof KJUR.asn1.tsp.MessageImprint){this.dMessageImprint=b;return}if(typeof b=="object"){this.dMessageImprint=new d.MessageImprint(b)}};this.getEncodedHex=function(){if(this.dMessageImprint==null){throw"messageImprint shall be specified"}var c=[this.dVersion,this.dMessageImprint];if(this.dPolicy!=null){c.push(this.dPolicy)}if(this.dNonce!=null){c.push(this.dNonce)}if(this.certReq){c.push(new e.DERBoolean())}var b=new e.DERSequence({array:c});this.hTLV=b.getEncodedHex();return this.hTLV};if(typeof f!="undefined"){if(typeof f.mi=="object"){this.setMessageImprint(f.mi)}if(typeof f.policy=="object"){this.dPolicy=new e.DERObjectIdentifier(f.policy)}if(typeof f.nonce=="object"){this.dNonce=new e.DERInteger(f.nonce)}if(typeof f.certreq=="boolean"){this.certReq=f.certreq}}};YAHOO.lang.extend(KJUR.asn1.tsp.TimeStampReq,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.TSTInfo=function(h){KJUR.asn1.tsp.TSTInfo.superclass.constructor.call(this);var f=KJUR.asn1;var g=KJUR.asn1.x509;var e=KJUR.asn1.tsp;this.dVersion=new f.DERInteger({"int":1});this.dPolicy=null;this.dMessageImprint=null;this.dSerialNumber=null;this.dGenTime=null;this.dAccuracy=null;this.dOrdering=null;this.dNonce=null;this.dTsa=null;this.getEncodedHex=function(){var c=[this.dVersion];if(this.dPolicy==null){throw"policy shall be specified."}c.push(this.dPolicy);if(this.dMessageImprint==null){throw"messageImprint shall be specified."}c.push(this.dMessageImprint);if(this.dSerialNumber==null){throw"serialNumber shall be specified."}c.push(this.dSerialNumber);if(this.dGenTime==null){throw"genTime shall be specified."}c.push(this.dGenTime);if(this.dAccuracy!=null){c.push(this.dAccuracy)}if(this.dOrdering!=null){c.push(this.dOrdering)}if(this.dNonce!=null){c.push(this.dNonce)}if(this.dTsa!=null){c.push(this.dTsa)}var b=new f.DERSequence({array:c});this.hTLV=b.getEncodedHex();return this.hTLV};if(typeof h!="undefined"){if(typeof h.policy=="string"){if(!h.policy.match(/^[0-9.]+$/)){throw"policy shall be oid like 0.1.4.134"}this.dPolicy=new f.DERObjectIdentifier({oid:h.policy})}if(typeof h.messageImprint!="undefined"){this.dMessageImprint=new e.MessageImprint(h.messageImprint)}if(typeof h.serialNumber!="undefined"){this.dSerialNumber=new f.DERInteger(h.serialNumber)}if(typeof h.genTime!="undefined"){this.dGenTime=new f.DERGeneralizedTime(h.genTime)}if(typeof h.accuracy!="undefind"){this.dAccuracy=new e.Accuracy(h.accuracy)}if(typeof h.ordering!="undefined"&&h.ordering==true){this.dOrdering=new f.DERBoolean()}if(typeof h.nonce!="undefined"){this.dNonce=new f.DERInteger(h.nonce)}if(typeof h.tsa!="undefined"){this.dTsa=new g.X500Name(h.tsa)}}};YAHOO.lang.extend(KJUR.asn1.tsp.TSTInfo,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.TimeStampResp=function(f){KJUR.asn1.tsp.TimeStampResp.superclass.constructor.call(this);var e=KJUR.asn1;var d=KJUR.asn1.tsp;this.dStatus=null;this.dTST=null;this.getEncodedHex=function(){if(this.dStatus==null){throw"status shall be specified"}var c=[this.dStatus];if(this.dTST!=null){c.push(this.dTST)}var b=new e.DERSequence({array:c});this.hTLV=b.getEncodedHex();return this.hTLV};if(typeof f!="undefined"){if(typeof f.status=="object"){this.dStatus=new d.PKIStatusInfo(f.status)}if(typeof f.tst!="undefined"&&f.tst instanceof KJUR.asn1.ASN1Object){this.dTST=f.tst.getContentInfo()}}};YAHOO.lang.extend(KJUR.asn1.tsp.TimeStampResp,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.PKIStatusInfo=function(f){KJUR.asn1.tsp.PKIStatusInfo.superclass.constructor.call(this);var e=KJUR.asn1;var d=KJUR.asn1.tsp;this.dStatus=null;this.dStatusString=null;this.dFailureInfo=null;this.getEncodedHex=function(){if(this.dStatus==null){throw"status shall be specified"}var c=[this.dStatus];if(this.dStatusString!=null){c.push(this.dStatusString)}if(this.dFailureInfo!=null){c.push(this.dFailureInfo)}var b=new e.DERSequence({array:c});this.hTLV=b.getEncodedHex();return this.hTLV};if(typeof f!="undefined"){if(typeof f.status=="object"){this.dStatus=new d.PKIStatus(f.status)}if(typeof f.statstr=="object"){this.dStatusString=new d.PKIFreeText({array:f.statstr})}if(typeof f.failinfo=="object"){this.dFailureInfo=new d.PKIFailureInfo(f.failinfo)}}};YAHOO.lang.extend(KJUR.asn1.tsp.PKIStatusInfo,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.PKIStatus=function(h){KJUR.asn1.tsp.PKIStatus.superclass.constructor.call(this);var g=KJUR.asn1;var f=KJUR.asn1.tsp;var i=null;this.getEncodedHex=function(){this.hTLV=this.dStatus.getEncodedHex();return this.hTLV};if(typeof h!="undefined"){if(typeof h.name!="undefined"){var j=f.PKIStatus.valueList;if(typeof j[h.name]=="undefined"){throw"name undefined: "+h.name}this.dStatus=new g.DERInteger({"int":j[h.name]})}else{this.dStatus=new g.DERInteger(h)}}};YAHOO.lang.extend(KJUR.asn1.tsp.PKIStatus,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.PKIStatus.valueList={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};KJUR.asn1.tsp.PKIFreeText=function(c){KJUR.asn1.tsp.PKIFreeText.superclass.constructor.call(this);var d=KJUR.asn1;this.textList=[];this.getEncodedHex=function(){var g=[];for(var b=0;b<this.textList.length;b++){g.push(new d.DERUTF8String({str:this.textList[b]}))}var f=new d.DERSequence({array:g});this.hTLV=f.getEncodedHex();return this.hTLV};if(typeof c!="undefined"){if(typeof c.array=="object"){this.textList=c.array}}};YAHOO.lang.extend(KJUR.asn1.tsp.PKIFreeText,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.PKIFailureInfo=function(g){KJUR.asn1.tsp.PKIFailureInfo.superclass.constructor.call(this);var f=KJUR.asn1;var e=KJUR.asn1.tsp;this.value=null;this.getEncodedHex=function(){if(this.value==null){throw"value shall be specified"}var c=new Number(this.value).toString(2);var b=new f.DERBitString();b.setByBinaryString(c);this.hTLV=b.getEncodedHex();return this.hTLV};if(typeof g!="undefined"){if(typeof g.name=="string"){var h=e.PKIFailureInfo.valueList;if(typeof h[g.name]=="undefined"){throw"name undefined: "+g.name}this.value=h[g.name]}else{if(typeof g["int"]=="number"){this.value=g["int"]}}}};YAHOO.lang.extend(KJUR.asn1.tsp.PKIFailureInfo,KJUR.asn1.ASN1Object);KJUR.asn1.tsp.PKIFailureInfo.valueList={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};KJUR.asn1.tsp.AbstractTSAAdapter=function(b){this.getTSTHex=function(e,d){throw"not implemented yet"}};KJUR.asn1.tsp.SimpleTSAAdapter=function(b){KJUR.asn1.tsp.SimpleTSAAdapter.superclass.constructor.call(this);this.params=null;this.serial=0;this.getTSTHex=function(k,g){var i=KJUR.crypto.Util.hashHex(k,g);this.params.tstInfo.messageImprint={hashAlg:g,hashValue:i};this.params.tstInfo.serialNumber={"int":this.serial++};var j=Math.floor(Math.random()*1000000000);this.params.tstInfo.nonce={"int":j};var h=KJUR.asn1.tsp.TSPUtil.newTimeStampToken(this.params);return h.getContentInfoEncodedHex()};if(typeof b!="undefined"){this.params=b}};YAHOO.lang.extend(KJUR.asn1.tsp.SimpleTSAAdapter,KJUR.asn1.tsp.AbstractTSAAdapter);KJUR.asn1.tsp.FixedTSAAdapter=function(b){KJUR.asn1.tsp.FixedTSAAdapter.superclass.constructor.call(this);this.params=null;this.getTSTHex=function(i,f){var h=KJUR.crypto.Util.hashHex(i,f);this.params.tstInfo.messageImprint={hashAlg:f,hashValue:h};var g=KJUR.asn1.tsp.TSPUtil.newTimeStampToken(this.params);return g.getContentInfoEncodedHex()};if(typeof b!="undefined"){this.params=b}};YAHOO.lang.extend(KJUR.asn1.tsp.FixedTSAAdapter,KJUR.asn1.tsp.AbstractTSAAdapter);KJUR.asn1.tsp.TSPUtil=new function(){};KJUR.asn1.tsp.TSPUtil.newTimeStampToken=function(q){var i=KJUR.asn1.cms;var r=KJUR.asn1.tsp;var l=new i.SignedData();var n=new r.TSTInfo(q.tstInfo);var m=n.getEncodedHex();l.dEncapContentInfo.setContentValue({hex:m});l.dEncapContentInfo.setContentType("tstinfo");if(typeof q.certs=="object"){for(var p=0;p<q.certs.length;p++){l.addCertificatesByPEM(q.certs[p])}}var o=l.signerInfoList[0];o.setSignerIdentifier(q.signerCert);o.setForContentAndHash({sdObj:l,eciObj:l.dEncapContentInfo,hashAlg:q.hashAlg});var k=new i.SigningCertificate({array:[q.signerCert]});o.dSignedAttrs.add(k);o.sign(q.signerPrvKey,q.sigAlg);return l};KJUR.asn1.tsp.TSPUtil.parseTimeStampReq=function(i){var n=ASN1HEX;var q=n.getChildIdx;var s=n.getV;var x=n.getTLV;var p={};p.certreq=false;var y=q(i,0);if(y.length<2){throw"TimeStampReq must have at least 2 items"}var u=x(i,y[1]);p.mi=KJUR.asn1.tsp.TSPUtil.parseMessageImprint(u);for(var v=2;v<y.length;v++){var r=y[v];var o=i.substr(r,2);if(o=="06"){var w=s(i,r);p.policy=n.hextooidstr(w)}if(o=="02"){p.nonce=s(i,r)}if(o=="01"){p.certreq=true}}return p};KJUR.asn1.tsp.TSPUtil.parseMessageImprint=function(y){var n=ASN1HEX;var q=n.getChildIdx;var r=n.getV;var u=n.getIdxbyList;var p={};if(y.substr(0,2)!="30"){throw"head of messageImprint hex shall be '30'"}var B=q(y,0);var o=u(y,0,[0,0]);var w=r(y,o);var x=n.hextooidstr(w);var s=KJUR.asn1.x509.OID.oid2name(x);if(s==""){throw"hashAlg name undefined: "+x}var A=s;var v=u(y,0,[1]);p.hashAlg=A;p.hashValue=r(y,v);return p};
/*! asn1cades-1.0.2.js (c) 2014-2017 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.asn1=="undefined"||!KJUR.asn1){KJUR.asn1={}}if(typeof KJUR.asn1.cades=="undefined"||!KJUR.asn1.cades){KJUR.asn1.cades={}}KJUR.asn1.cades.SignaturePolicyIdentifier=function(j){KJUR.asn1.cades.SignaturePolicyIdentifier.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.15";var g=KJUR.asn1;var k=KJUR.asn1.cades;if(typeof j!="undefined"){if(typeof j.oid=="string"&&typeof j.hash=="object"){var i=new g.DERObjectIdentifier({oid:j.oid});var h=new k.OtherHashAlgAndValue(j.hash);var l=new g.DERSequence({array:[i,h]});this.valueList=[l]}}};YAHOO.lang.extend(KJUR.asn1.cades.SignaturePolicyIdentifier,KJUR.asn1.cms.Attribute);KJUR.asn1.cades.OtherHashAlgAndValue=function(d){KJUR.asn1.cades.OtherHashAlgAndValue.superclass.constructor.call(this);var e=KJUR.asn1;var f=KJUR.asn1.x509;this.dAlg=null;this.dHash=null;this.getEncodedHex=function(){var b=new e.DERSequence({array:[this.dAlg,this.dHash]});this.hTLV=b.getEncodedHex();return this.hTLV};if(typeof d!="undefined"){if(typeof d.alg=="string"&&typeof d.hash=="string"){this.dAlg=new f.AlgorithmIdentifier({name:d.alg});this.dHash=new e.DEROctetString({hex:d.hash})}}};YAHOO.lang.extend(KJUR.asn1.cades.OtherHashAlgAndValue,KJUR.asn1.ASN1Object);KJUR.asn1.cades.SignatureTimeStamp=function(f){KJUR.asn1.cades.SignatureTimeStamp.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.14";this.tstHex=null;var e=KJUR.asn1;if(typeof f!="undefined"){if(typeof f.res!="undefined"){if(typeof f.res=="string"&&f.res.match(/^[0-9A-Fa-f]+$/)){}else{if(f.res instanceof KJUR.asn1.ASN1Object){}else{throw"res param shall be ASN1Object or hex string"}}}if(typeof f.tst!="undefined"){if(typeof f.tst=="string"&&f.tst.match(/^[0-9A-Fa-f]+$/)){var d=new e.ASN1Object();this.tstHex=f.tst;d.hTLV=this.tstHex;d.getEncodedHex();this.valueList=[d]}else{if(f.tst instanceof KJUR.asn1.ASN1Object){}else{throw"tst param shall be ASN1Object or hex string"}}}}};YAHOO.lang.extend(KJUR.asn1.cades.SignatureTimeStamp,KJUR.asn1.cms.Attribute);KJUR.asn1.cades.CompleteCertificateRefs=function(f){KJUR.asn1.cades.CompleteCertificateRefs.superclass.constructor.call(this);this.attrTypeOid="1.2.840.113549.1.9.16.2.21";var e=KJUR.asn1;var d=KJUR.asn1.cades;this.setByArray=function(g){this.valueList=[];for(var c=0;c<g.length;c++){var b=new d.OtherCertID(g[c]);this.valueList.push(b)}};if(typeof f!="undefined"){if(typeof f=="object"&&typeof f.length=="number"){this.setByArray(f)}}};YAHOO.lang.extend(KJUR.asn1.cades.CompleteCertificateRefs,KJUR.asn1.cms.Attribute);KJUR.asn1.cades.OtherCertID=function(g){KJUR.asn1.cades.OtherCertID.superclass.constructor.call(this);var f=KJUR.asn1;var h=KJUR.asn1.cms;var e=KJUR.asn1.cades;this.hasIssuerSerial=true;this.dOtherCertHash=null;this.dIssuerSerial=null;this.setByCertPEM=function(b){this.dOtherCertHash=new e.OtherHash(b);if(this.hasIssuerSerial){this.dIssuerSerial=new h.IssuerAndSerialNumber(b)}};this.getEncodedHex=function(){if(this.hTLV!=null){return this.hTLV}if(this.dOtherCertHash==null){throw"otherCertHash not set"}var c=[this.dOtherCertHash];if(this.dIssuerSerial!=null){c.push(this.dIssuerSerial)}var b=new f.DERSequence({array:c});this.hTLV=b.getEncodedHex();return this.hTLV};if(typeof g!="undefined"){if(typeof g=="string"&&g.indexOf("-----BEGIN ")!=-1){this.setByCertPEM(g)}if(typeof g=="object"){if(g.hasis===false){this.hasIssuerSerial=false}if(typeof g.cert=="string"){this.setByCertPEM(g.cert)}}}};YAHOO.lang.extend(KJUR.asn1.cades.OtherCertID,KJUR.asn1.ASN1Object);KJUR.asn1.cades.OtherHash=function(f){KJUR.asn1.cades.OtherHash.superclass.constructor.call(this);var e=KJUR.asn1;var d=KJUR.asn1.cades;this.alg="sha256";this.dOtherHash=null;this.setByCertPEM=function(g){if(g.indexOf("-----BEGIN ")==-1){throw"certPEM not to seem PEM format"}var c=ASN1HEX.pemToHex(g);var b=KJUR.crypto.Util.hashHex(c,this.alg);this.dOtherHash=new d.OtherHashAlgAndValue({alg:this.alg,hash:b})};this.getEncodedHex=function(){if(this.dOtherHash==null){throw"OtherHash not set"}return this.dOtherHash.getEncodedHex()};if(typeof f!="undefined"){if(typeof f=="string"){if(f.indexOf("-----BEGIN ")!=-1){this.setByCertPEM(f)}else{if(f.match(/^[0-9A-Fa-f]+$/)){this.dOtherHash=new e.DEROctetString({hex:f})}else{throw"unsupported string value for params"}}}else{if(typeof f=="object"){if(typeof f.cert=="string"){if(typeof f.alg=="string"){this.alg=f.alg}this.setByCertPEM(f.cert)}else{this.dOtherHash=new d.OtherHashAlgAndValue(f)}}}}};YAHOO.lang.extend(KJUR.asn1.cades.OtherHash,KJUR.asn1.ASN1Object);KJUR.asn1.cades.CAdESUtil=new function(){};KJUR.asn1.cades.CAdESUtil.addSigTS=function(f,d,e){};KJUR.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(M){var G=ASN1HEX;var B=G.getChildIdx;var P=G.getTLV;var R=G.getTLVbyList;var K=G.getIdxbyList;var Q=KJUR.asn1;var S=KJUR.asn1.cms;var I=KJUR.asn1.cades.CAdESUtil;var J={};if(R(M,0,[0])!="06092a864886f70d010702"){throw"hex is not CMS SignedData"}var r=K(M,0,[1,0]);var i=B(M,r);if(i.length<4){throw"num of SignedData elem shall be 4 at least"}var N=i.shift();J.version=P(M,N);var A=i.shift();J.algs=P(M,A);var O=i.shift();J.encapcontent=P(M,O);J.certs=null;J.revs=null;J.si=[];var F=i.shift();if(M.substr(F,2)=="a0"){J.certs=P(M,F);F=i.shift()}if(M.substr(F,2)=="a1"){J.revs=P(M,F);F=i.shift()}var C=F;if(M.substr(C,2)!="31"){throw"Can't find signerInfos"}var L=B(M,C);for(var E=0;E<L.length;E++){var D=L[E];var H=I.parseSignerInfoForAddingUnsigned(M,D,E);J.si[E]=H}var y=null;J.obj=new S.SignedData();y=new Q.ASN1Object();y.hTLV=J.version;J.obj.dCMSVersion=y;y=new Q.ASN1Object();y.hTLV=J.algs;J.obj.dDigestAlgs=y;y=new Q.ASN1Object();y.hTLV=J.encapcontent;J.obj.dEncapContentInfo=y;y=new Q.ASN1Object();y.hTLV=J.certs;J.obj.dCerts=y;J.obj.signerInfoList=[];for(var E=0;E<J.si.length;E++){J.obj.signerInfoList.push(J.si[E].obj)}return J};KJUR.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(D,w,H){var x=ASN1HEX;var v=x.getChildIdx;var J=x.getTLV;var B=x.getV;var K=KJUR.asn1;var L=KJUR.asn1.cms;var y={};var u=v(D,w);if(u.length!=6){throw"not supported items for SignerInfo (!=6)"}var G=u.shift();y.version=J(D,G);var F=u.shift();y.si=J(D,F);var A=u.shift();y.digalg=J(D,A);var E=u.shift();y.sattrs=J(D,E);var C=u.shift();y.sigalg=J(D,C);var I=u.shift();y.sig=J(D,I);y.sigval=B(D,I);var r=null;y.obj=new L.SignerInfo();r=new K.ASN1Object();r.hTLV=y.version;y.obj.dCMSVersion=r;r=new K.ASN1Object();r.hTLV=y.si;y.obj.dSignerIdentifier=r;r=new K.ASN1Object();r.hTLV=y.digalg;y.obj.dDigestAlgorithm=r;r=new K.ASN1Object();r.hTLV=y.sattrs;y.obj.dSignedAttrs=r;r=new K.ASN1Object();r.hTLV=y.sigalg;y.obj.dSigAlg=r;r=new K.ASN1Object();r.hTLV=y.sig;y.obj.dSig=r;y.obj.dUnsignedAttrs=new L.AttributeList();return y};
/*! asn1csr-1.0.4.js (c) 2015-2017 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;if(typeof KJUR.asn1.csr=="undefined"||!KJUR.asn1.csr){KJUR.asn1.csr={}}KJUR.asn1.csr.CertificationRequest=function(i){KJUR.asn1.csr.CertificationRequest.superclass.constructor.call(this);var g=null;var k=null;var j=null;var l=null;var h=null;this.sign=function(b,c){if(this.prvKey==null){this.prvKey=c}this.asn1SignatureAlg=new KJUR.asn1.x509.AlgorithmIdentifier({name:b});sig=new KJUR.crypto.Signature({alg:b});sig.initSign(this.prvKey);sig.updateHex(this.asn1CSRInfo.getEncodedHex());this.hexSig=sig.sign();this.asn1Sig=new KJUR.asn1.DERBitString({hex:"00"+this.hexSig});var d=new KJUR.asn1.DERSequence({array:[this.asn1CSRInfo,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=d.getEncodedHex();this.isModified=false};this.getPEMString=function(){var b=KJUR.asn1.ASN1Util.getPEMStringFromHex(this.getEncodedHex(),"CERTIFICATE REQUEST");return b};this.getEncodedHex=function(){if(this.isModified==false&&this.hTLV!=null){return this.hTLV}throw"not signed yet"};if(typeof i!="undefined"){if(typeof i.csrinfo!="undefined"){this.asn1CSRInfo=i.csrinfo}}};YAHOO.lang.extend(KJUR.asn1.csr.CertificationRequest,KJUR.asn1.ASN1Object);KJUR.asn1.csr.CertificationRequestInfo=function(b){KJUR.asn1.csr.CertificationRequestInfo.superclass.constructor.call(this);this._initialize=function(){this.asn1Array=new Array();this.asn1Version=new KJUR.asn1.DERInteger({"int":0});this.asn1Subject=null;this.asn1SubjPKey=null;this.extensionsArray=new Array()};this.setSubjectByParam=function(c){this.asn1Subject=new KJUR.asn1.x509.X500Name(c)};this.setSubjectPublicKeyByGetKey=function(e){var d=KEYUTIL.getKey(e);this.asn1SubjPKey=new KJUR.asn1.x509.SubjectPublicKeyInfo(d)};this.appendExtensionByName=function(e,d){KJUR.asn1.x509.Extension.appendByNameToArray(e,d,this.extensionsArray)};this.getEncodedHex=function(){this.asn1Array=new Array();this.asn1Array.push(this.asn1Version);this.asn1Array.push(this.asn1Subject);this.asn1Array.push(this.asn1SubjPKey);if(this.extensionsArray.length>0){var i=new KJUR.asn1.DERSequence({array:this.extensionsArray});var j=new KJUR.asn1.DERSet({array:[i]});var k=new KJUR.asn1.DERSequence({array:[new KJUR.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.9.14"}),j]});var g=new KJUR.asn1.DERTaggedObject({explicit:true,tag:"a0",obj:k});this.asn1Array.push(g)}else{var g=new KJUR.asn1.DERTaggedObject({explicit:false,tag:"a0",obj:new KJUR.asn1.DERNull()});this.asn1Array.push(g)}var h=new KJUR.asn1.DERSequence({array:this.asn1Array});this.hTLV=h.getEncodedHex();this.isModified=false;return this.hTLV};this._initialize()};YAHOO.lang.extend(KJUR.asn1.csr.CertificationRequestInfo,KJUR.asn1.ASN1Object);KJUR.asn1.csr.CSRUtil=new function(){};KJUR.asn1.csr.CSRUtil.newCSRPEM=function(j){var m=KJUR.asn1.csr;if(j.subject===undefined){throw"parameter subject undefined"}if(j.sbjpubkey===undefined){throw"parameter sbjpubkey undefined"}if(j.sigalg===undefined){throw"parameter sigalg undefined"}if(j.sbjprvkey===undefined){throw"parameter sbjpubkey undefined"}var h=new m.CertificationRequestInfo();h.setSubjectByParam(j.subject);h.setSubjectPublicKeyByGetKey(j.sbjpubkey);if(j.ext!==undefined&&j.ext.length!==undefined){for(var n=0;n<j.ext.length;n++){for(key in j.ext[n]){h.appendExtensionByName(key,j.ext[n][key])}}}var l=new m.CertificationRequest({csrinfo:h});var i=KEYUTIL.getKey(j.sbjprvkey);l.sign(j.sigalg,i);var k=l.getPEMString();return k};KJUR.asn1.csr.CSRUtil.getInfo=function(f){var i=ASN1HEX;var h=i.getTLVbyList;var g={};g.subject={};g.pubkey={};if(f.indexOf("-----BEGIN CERTIFICATE REQUEST")==-1){throw"argument is not PEM file"}var j=ASN1HEX.pemToHex(f,"CERTIFICATE REQUEST");g.subject.hex=h(j,0,[0,1]);g.subject.name=X509.hex2dn(g.subject.hex);g.pubkey.hex=h(j,0,[0,2]);g.pubkey.obj=KEYUTIL.getKey(g.pubkey.hex,null,"pkcs8pub");return g};
/*! asn1ocsp-1.0.2.js (c) 2016 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.asn1=="undefined"||!KJUR.asn1){KJUR.asn1={}}if(typeof KJUR.asn1.ocsp=="undefined"||!KJUR.asn1.ocsp){KJUR.asn1.ocsp={}}KJUR.asn1.ocsp.DEFAULT_HASH="sha1";KJUR.asn1.ocsp.CertID=function(j){KJUR.asn1.ocsp.CertID.superclass.constructor.call(this);var g=KJUR.asn1;var h=KJUR.asn1.x509;this.dHashAlg=null;this.dIssuerNameHash=null;this.dIssuerKeyHash=null;this.dSerialNumber=null;this.setByValue=function(b,c,e,d){if(d===undefined){d=KJUR.asn1.ocsp.DEFAULT_HASH}this.dHashAlg=new h.AlgorithmIdentifier({name:d});this.dIssuerNameHash=new g.DEROctetString({hex:b});this.dIssuerKeyHash=new g.DEROctetString({hex:c});this.dSerialNumber=new g.DERInteger({hex:e})};this.setByCert=function(d,r,p){if(p===undefined){p=KJUR.asn1.ocsp.DEFAULT_HASH}var v=new X509();v.readCertPEM(r);var c=new X509();c.readCertPEM(d);var b=X509.getPublicKeyInfoPropOfCertPEM(d);var e=b.keyhex;var u=v.getSerialNumberHex();var s=KJUR.crypto.Util.hashHex(c.getSubjectHex(),p);var q=KJUR.crypto.Util.hashHex(e,p);this.setByValue(s,q,u,p);this.hoge=v.getSerialNumberHex()};this.getEncodedHex=function(){if(this.dHashAlg===null&&this.dIssuerNameHash===null&&this.dIssuerKeyHash===null&&this.dSerialNumber===null){throw"not yet set values"}var c=[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber];var b=new g.DERSequence({array:c});this.hTLV=b.getEncodedHex();return this.hTLV};if(typeof j!=="undefined"){var f=j;if(typeof f.issuerCert!=="undefined"&&typeof f.subjectCert!=="undefined"){var i=KJUR.asn1.ocsp.DEFAULT_HASH;if(typeof f.alg==="undefined"){i=undefined}this.setByCert(f.issuerCert,f.subjectCert,i)}else{if(typeof f.namehash!=="undefined"&&typeof f.keyhash!=="undefined"&&typeof f.serial!=="undefined"){var i=KJUR.asn1.ocsp.DEFAULT_HASH;if(typeof f.alg==="undefined"){i=undefined}this.setByValue(f.namehash,f.keyhash,f.serial,i)}else{throw"invalid constructor arguments"}}}};YAHOO.lang.extend(KJUR.asn1.ocsp.CertID,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.Request=function(c){KJUR.asn1.ocsp.Request.superclass.constructor.call(this);this.dReqCert=null;this.dExt=null;this.getEncodedHex=function(){var e=[];if(this.dReqCert===null){throw"reqCert not set"}e.push(this.dReqCert);var b=new KJUR.asn1.DERSequence({array:e});this.hTLV=b.getEncodedHex();return this.hTLV};if(typeof c!=="undefined"){var d=new KJUR.asn1.ocsp.CertID(c);this.dReqCert=d}};YAHOO.lang.extend(KJUR.asn1.ocsp.Request,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.TBSRequest=function(b){KJUR.asn1.ocsp.TBSRequest.superclass.constructor.call(this);this.version=0;this.dRequestorName=null;this.dRequestList=[];this.dRequestExt=null;this.setRequestListByParam=function(h){var f=[];for(var i=0;i<h.length;i++){var g=new KJUR.asn1.ocsp.Request(h[0]);f.push(g)}this.dRequestList=f};this.getEncodedHex=function(){var e=[];if(this.version!==0){throw"not supported version: "+this.version}if(this.dRequestorName!==null){throw"requestorName not supported"}var f=new KJUR.asn1.DERSequence({array:this.dRequestList});e.push(f);if(this.dRequestExt!==null){throw"requestExtensions not supported"}var g=new KJUR.asn1.DERSequence({array:e});this.hTLV=g.getEncodedHex();return this.hTLV};if(typeof b!=="undefined"){if(typeof b.reqList!=="undefined"){this.setRequestListByParam(b.reqList)}}};YAHOO.lang.extend(KJUR.asn1.ocsp.TBSRequest,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.OCSPRequest=function(c){KJUR.asn1.ocsp.OCSPRequest.superclass.constructor.call(this);this.dTbsRequest=null;this.dOptionalSignature=null;this.getEncodedHex=function(){var e=[];if(this.dTbsRequest!==null){e.push(this.dTbsRequest)}else{throw"tbsRequest not set"}if(this.dOptionalSignature!==null){throw"optionalSignature not supported"}var b=new KJUR.asn1.DERSequence({array:e});this.hTLV=b.getEncodedHex();return this.hTLV};if(typeof c!=="undefined"){if(typeof c.reqList!=="undefined"){var d=new KJUR.asn1.ocsp.TBSRequest(c);this.dTbsRequest=d}}};YAHOO.lang.extend(KJUR.asn1.ocsp.OCSPRequest,KJUR.asn1.ASN1Object);KJUR.asn1.ocsp.OCSPUtil={};KJUR.asn1.ocsp.OCSPUtil.getRequestHex=function(g,f,h){if(h===undefined){h=KJUR.asn1.ocsp.DEFAULT_HASH}var i={alg:h,issuerCert:g,subjectCert:f};var j=new KJUR.asn1.ocsp.OCSPRequest({reqList:[i]});return j.getEncodedHex()};KJUR.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(v){var m=ASN1HEX;var u=m.getVbyList;var s=m.getIdxbyList;var u=m.getVbyList;var q=m.getV;var h={};try{var o=u(v,0,[0],"0a");h.responseStatus=parseInt(o,16)}catch(r){}if(h.responseStatus!==0){return h}try{var p=s(v,0,[1,0,1,0,0,2,0,1]);if(v.substr(p,2)==="80"){h.certStatus="good"}else{if(v.substr(p,2)==="a1"){h.certStatus="revoked";h.revocationTime=hextoutf8(u(v,p,[0]))}else{if(v.substr(p,2)==="82"){h.certStatus="unknown"}}}}catch(r){}try{var w=s(v,0,[1,0,1,0,0,2,0,2]);h.thisUpdate=hextoutf8(q(v,w))}catch(r){}try{var n=s(v,0,[1,0,1,0,0,2,0,3]);if(v.substr(n,2)==="a0"){h.nextUpdate=hextoutf8(u(v,n,[0]))}}catch(r){}return h};
/*! base64x-1.1.11 (c) 2012-2017 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;var KJUR;if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.lang=="undefined"||!KJUR.lang){KJUR.lang={}}KJUR.lang.String=function(){};function Base64x(){}function stoBA(f){var e=new Array();for(var g=0;g<f.length;g++){e[g]=f.charCodeAt(g)}return e}function BAtos(e){var f="";for(var g=0;g<e.length;g++){f=f+String.fromCharCode(e[g])}return f}function BAtohex(f){var g="";for(var h=0;h<f.length;h++){var i=f[h].toString(16);if(i.length==1){i="0"+i}g=g+i}return g}function stohex(b){return BAtohex(stoBA(b))}function stob64(b){return hex2b64(stohex(b))}function stob64u(b){return b64tob64u(hex2b64(stohex(b)))}function b64utos(b){return BAtos(b64toBA(b64utob64(b)))}function b64tob64u(b){b=b.replace(/\=/g,"");b=b.replace(/\+/g,"-");b=b.replace(/\//g,"_");return b}function b64utob64(b){if(b.length%4==2){b=b+"=="}else{if(b.length%4==3){b=b+"="}}b=b.replace(/-/g,"+");b=b.replace(/_/g,"/");return b}function hextob64u(b){if(b.length%2==1){b="0"+b}return b64tob64u(hex2b64(b))}function b64utohex(b){return b64tohex(b64utob64(b))}var utf8tob64u,b64utoutf8;if(typeof Buffer==="function"){utf8tob64u=function(b){return b64tob64u(new Buffer(b,"utf8").toString("base64"))};b64utoutf8=function(b){return new Buffer(b64utob64(b),"base64").toString("utf8")}}else{utf8tob64u=function(b){return hextob64u(uricmptohex(encodeURIComponentAll(b)))};b64utoutf8=function(b){return decodeURIComponent(hextouricmp(b64utohex(b)))}}function utf8tob64(b){return hex2b64(uricmptohex(encodeURIComponentAll(b)))}function b64toutf8(b){return decodeURIComponent(hextouricmp(b64tohex(b)))}function utf8tohex(b){return uricmptohex(encodeURIComponentAll(b))}function hextoutf8(b){return decodeURIComponent(hextouricmp(b))}function hextorstr(f){var d="";for(var e=0;e<f.length-1;e+=2){d+=String.fromCharCode(parseInt(f.substr(e,2),16))}return d}function rstrtohex(f){var e="";for(var d=0;d<f.length;d++){e+=("0"+f.charCodeAt(d).toString(16)).slice(-2)}return e}function hextob64(b){return hex2b64(b)}function hextob64nl(d){var e=hextob64(d);var f=e.replace(/(.{64})/g,"$1\r\n");f=f.replace(/\r\n$/,"");return f}function b64nltohex(d){var e=d.replace(/[^0-9A-Za-z\/+=]*/g,"");var f=b64tohex(e);return f}function hextoArrayBuffer(g){if(g.length%2!=0){throw"input is not even length"}if(g.match(/^[0-9A-Fa-f]+$/)==null){throw"input is not hexadecimal"}var e=new ArrayBuffer(g.length/2);var f=new DataView(e);for(var h=0;h<g.length/2;h++){f.setUint8(h,parseInt(g.substr(h*2,2),16))}return e}function ArrayBuffertohex(e){var g="";var f=new DataView(e);for(var h=0;h<e.byteLength;h++){g+=("00"+f.getUint8(h).toString(16)).slice(-2)}return g}function zulutomsec(d){var p,r,o,x,w,s,A,q;var B,u,v,y;y=d.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/);if(y){B=y[1];p=parseInt(B);if(B.length===2){if(50<=p&&p<100){p=1900+p}else{if(0<=p&&p<50){p=2000+p}}}r=parseInt(y[2])-1;o=parseInt(y[3]);x=parseInt(y[4]);w=parseInt(y[5]);s=parseInt(y[6]);A=0;u=y[7];if(u!==""){v=(u.substr(1)+"00").substr(0,3);A=parseInt(v)}return Date.UTC(p,r,o,x,w,s,A)}throw"unsupported zulu format: "+d}function zulutosec(d){var c=zulutomsec(d);return ~~(c/1000)}function zulutodate(b){return new Date(zulutomsec(b))}function datetozulu(i,k,j){var d;var h=i.getUTCFullYear();if(k){if(h<1950||2049<h){throw"not proper year for UTCTime: "+h}d=(""+h).slice(-2)}else{d=("000"+h).slice(-4)}d+=("0"+(i.getUTCMonth()+1)).slice(-2);d+=("0"+i.getUTCDate()).slice(-2);d+=("0"+i.getUTCHours()).slice(-2);d+=("0"+i.getUTCMinutes()).slice(-2);d+=("0"+i.getUTCSeconds()).slice(-2);if(j){var l=i.getUTCMilliseconds();if(l!==0){l=("00"+l).slice(-3);l=l.replace(/0+$/g,"");d+="."+l}}d+="Z";return d}function uricmptohex(b){return b.replace(/%/g,"")}function hextouricmp(b){return b.replace(/(..)/g,"%$1")}function encodeURIComponentAll(f){var g=encodeURIComponent(f);var e="";for(var h=0;h<g.length;h++){if(g[h]=="%"){e=e+g.substr(h,3);h=h+2}else{e=e+"%"+stohex(g[h])}}return e}function newline_toUnix(b){b=b.replace(/\r\n/mg,"\n");return b}function newline_toDos(b){b=b.replace(/\r\n/mg,"\n");b=b.replace(/\n/mg,"\r\n");return b}KJUR.lang.String.isInteger=function(b){if(b.match(/^[0-9]+$/)){return true}else{if(b.match(/^-[0-9]+$/)){return true}else{return false}}};KJUR.lang.String.isHex=function(b){if(b.length%2==0&&(b.match(/^[0-9a-f]+$/)||b.match(/^[0-9A-F]+$/))){return true}else{return false}};KJUR.lang.String.isBase64=function(b){b=b.replace(/\s+/g,"");if(b.match(/^[0-9A-Za-z+\/]+={0,3}$/)&&b.length%4==0){return true}else{return false}};KJUR.lang.String.isBase64URL=function(b){if(b.match(/[+/=]/)){return false}b=b64utob64(b);return KJUR.lang.String.isBase64(b)};KJUR.lang.String.isIntegerArray=function(b){b=b.replace(/\s+/g,"");if(b.match(/^\[[0-9,]+\]$/)){return true}else{return false}};function hextoposhex(b){if(b.length%2==1){return"0"+b}if(b.substr(0,1)>"7"){return"00"+b}return b}function intarystrtohex(d){d=d.replace(/^\s*\[\s*/,"");d=d.replace(/\s*\]\s*$/,"");d=d.replace(/\s*/g,"");try{var f=d.split(/,/).map(function(c,j,b){var i=parseInt(c);if(i<0||255<i){throw"integer not in range 0-255"}var k=("00"+i.toString(16)).slice(-2);return k}).join("");return f}catch(e){throw"malformed integer array string: "+e}}var strdiffidx=function(h,f){var g=h.length;if(h.length>f.length){g=f.length}for(var e=0;e<g;e++){if(h.charCodeAt(e)!=f.charCodeAt(e)){return e}}if(h.length!=f.length){return g}return -1};
/*! crypto-1.1.12.js (c) 2013-2017 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.crypto=="undefined"||!KJUR.crypto){KJUR.crypto={}}KJUR.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"};this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"};this.CRYPTOJSMESSAGEDIGESTNAME={md5:CryptoJS.algo.MD5,sha1:CryptoJS.algo.SHA1,sha224:CryptoJS.algo.SHA224,sha256:CryptoJS.algo.SHA256,sha384:CryptoJS.algo.SHA384,sha512:CryptoJS.algo.SHA512,ripemd160:CryptoJS.algo.RIPEMD160};this.getDigestInfoHex=function(d,c){if(typeof this.DIGESTINFOHEAD[c]=="undefined"){throw"alg not supported in Util.DIGESTINFOHEAD: "+c}return this.DIGESTINFOHEAD[c]+d};this.getPaddedDigestInfoHex=function(o,w,n){var u=this.getDigestInfoHex(o,w);var s=n/4;if(u.length+22>s){throw"key is too short for SigAlg: keylen="+n+","+w}var v="0001";var m="00"+u;var p="";var i=s-v.length-m.length;for(var q=0;q<i;q+=2){p+="ff"}var r=v+p+m;return r};this.hashString=function(e,f){var d=new KJUR.crypto.MessageDigest({alg:f});return d.digestString(e)};this.hashHex=function(d,f){var e=new KJUR.crypto.MessageDigest({alg:f});return e.digestHex(d)};this.sha1=function(d){var c=new KJUR.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"});return c.digestString(d)};this.sha256=function(d){var c=new KJUR.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"});return c.digestString(d)};this.sha256Hex=function(d){var c=new KJUR.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"});return c.digestHex(d)};this.sha512=function(d){var c=new KJUR.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"});return c.digestString(d)};this.sha512Hex=function(d){var c=new KJUR.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"});return c.digestHex(d)}};KJUR.crypto.Util.md5=function(d){var c=new KJUR.crypto.MessageDigest({alg:"md5",prov:"cryptojs"});return c.digestString(d)};KJUR.crypto.Util.ripemd160=function(d){var c=new KJUR.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"});return c.digestString(d)};KJUR.crypto.Util.SECURERANDOMGEN=new SecureRandom();KJUR.crypto.Util.getRandomHexOfNbytes=function(c){var d=new Array(c);KJUR.crypto.Util.SECURERANDOMGEN.nextBytes(d);return BAtohex(d)};KJUR.crypto.Util.getRandomBigIntegerOfNbytes=function(b){return new BigInteger(KJUR.crypto.Util.getRandomHexOfNbytes(b),16)};KJUR.crypto.Util.getRandomHexOfNbits=function(g){var h=g%8;var f=(g-h)/8;var e=new Array(f+1);KJUR.crypto.Util.SECURERANDOMGEN.nextBytes(e);e[0]=(((255<<h)&255)^255)&e[0];return BAtohex(e)};KJUR.crypto.Util.getRandomBigIntegerOfNbits=function(b){return new BigInteger(KJUR.crypto.Util.getRandomHexOfNbits(b),16)};KJUR.crypto.Util.getRandomBigIntegerZeroToMax=function(d){var e=d.bitLength();while(1){var f=KJUR.crypto.Util.getRandomBigIntegerOfNbits(e);if(d.compareTo(f)!=-1){return f}}};KJUR.crypto.Util.getRandomBigIntegerMinToMax=function(h,f){var j=h.compareTo(f);if(j==1){throw"biMin is greater than biMax"}if(j==0){return h}var g=f.subtract(h);var i=KJUR.crypto.Util.getRandomBigIntegerZeroToMax(g);return i.add(h)};KJUR.crypto.MessageDigest=function(h){var e=null;var f=null;var g=null;this.setAlgAndProvider=function(b,c){b=KJUR.crypto.MessageDigest.getCanonicalAlgName(b);if(b!==null&&c===undefined){c=KJUR.crypto.Util.DEFAULTPROVIDER[b]}if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(b)!=-1&&c=="cryptojs"){try{this.md=KJUR.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[b].create()}catch(d){throw"setAlgAndProvider hash alg set fail alg="+b+"/"+d}this.updateString=function(i){this.md.update(i)};this.updateHex=function(k){var j=CryptoJS.enc.Hex.parse(k);this.md.update(j)};this.digest=function(){var i=this.md.finalize();return i.toString(CryptoJS.enc.Hex)};this.digestString=function(i){this.updateString(i);return this.digest()};this.digestHex=function(i){this.updateHex(i);return this.digest()}}if(":sha256:".indexOf(b)!=-1&&c=="sjcl"){try{this.md=new sjcl.hash.sha256()}catch(d){throw"setAlgAndProvider hash alg set fail alg="+b+"/"+d}this.updateString=function(i){this.md.update(i)};this.updateHex=function(j){var k=sjcl.codec.hex.toBits(j);this.md.update(k)};this.digest=function(){var i=this.md.finalize();return sjcl.codec.hex.fromBits(i)};this.digestString=function(i){this.updateString(i);return this.digest()};this.digestHex=function(i){this.updateHex(i);return this.digest()}}};this.updateString=function(b){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName};this.updateHex=function(b){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName};this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName};this.digestString=function(b){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName};this.digestHex=function(b){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName};if(h!==undefined){if(h.alg!==undefined){this.algName=h.alg;if(h.prov===undefined){this.provName=KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]}this.setAlgAndProvider(this.algName,this.provName)}}};KJUR.crypto.MessageDigest.getCanonicalAlgName=function(b){if(typeof b==="string"){b=b.toLowerCase();b=b.replace(/-/,"")}return b};KJUR.crypto.MessageDigest.getHashLength=function(f){var d=KJUR.crypto.MessageDigest;var e=d.getCanonicalAlgName(f);if(d.HASHLENGTH[e]===undefined){throw"not supported algorithm: "+f}return d.HASHLENGTH[e]};KJUR.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20};KJUR.crypto.Mac=function(k){var i=null;var l=null;var h=null;var j=null;var g=null;this.setAlgAndProvider=function(b,d){b=b.toLowerCase();if(b==null){b="hmacsha1"}b=b.toLowerCase();if(b.substr(0,4)!="hmac"){throw"setAlgAndProvider unsupported HMAC alg: "+b}if(d===undefined){d=KJUR.crypto.Util.DEFAULTPROVIDER[b]}this.algProv=b+"/"+d;var f=b.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(f)!=-1&&d=="cryptojs"){try{var c=KJUR.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[f];this.mac=CryptoJS.algo.HMAC.create(c,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+f+"/"+e}this.updateString=function(m){this.mac.update(m)};this.updateHex=function(o){var n=CryptoJS.enc.Hex.parse(o);this.mac.update(n)};this.doFinal=function(){var m=this.mac.finalize();return m.toString(CryptoJS.enc.Hex)};this.doFinalString=function(m){this.updateString(m);return this.doFinal()};this.doFinalHex=function(m){this.updateHex(m);return this.doFinal()}}};this.updateString=function(b){throw"updateString(str) not supported for this alg/prov: "+this.algProv};this.updateHex=function(b){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv};this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv};this.doFinalString=function(b){throw"digestString(str) not supported for this alg/prov: "+this.algProv};this.doFinalHex=function(b){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv};this.setPassword=function(b){if(typeof b=="string"){var c=b;if(b.length%2==1||!b.match(/^[0-9A-Fa-f]+$/)){c=rstrtohex(b)}this.pass=CryptoJS.enc.Hex.parse(c);return}if(typeof b!="object"){throw"KJUR.crypto.Mac unsupported password type: "+b}var c=null;if(b.hex!==undefined){if(b.hex.length%2!=0||!b.hex.match(/^[0-9A-Fa-f]+$/)){throw"Mac: wrong hex password: "+b.hex}c=b.hex}if(b.utf8!==undefined){c=utf8tohex(b.utf8)}if(b.rstr!==undefined){c=rstrtohex(b.rstr)}if(b.b64!==undefined){c=b64tohex(b.b64)}if(b.b64u!==undefined){c=b64utohex(b.b64u)}if(c==null){throw"KJUR.crypto.Mac unsupported password type: "+b}this.pass=CryptoJS.enc.Hex.parse(c)};if(k!==undefined){if(k.pass!==undefined){this.setPassword(k.pass)}if(k.alg!==undefined){this.algName=k.alg;if(k.prov===undefined){this.provName=KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]}this.setAlgAndProvider(this.algName,this.provName)}}};KJUR.crypto.Signature=function(w){var u=null;var x=null;var s=null;var J=null;var A=null;var I=null;var B=null;var E=null;var v=null;var H=null;var K=-1;var F=null;var C=null;var L=null;var D=null;var G=null;this._setAlgNames=function(){var b=this.algName.match(/^(.+)with(.+)$/);if(b){this.mdAlgName=b[1].toLowerCase();this.pubkeyAlgName=b[2].toLowerCase()}};this._zeroPaddingOfSignature=function(b,c){var d="";var f=c/4-b.length;for(var e=0;e<f;e++){d=d+"0"}return d+b};this.setAlgAndProvider=function(b,c){this._setAlgNames();if(c!="cryptojs/jsrsa"){throw"provider not supported: "+c}if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new KJUR.crypto.MessageDigest({alg:this.mdAlgName})}catch(d){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+d}this.init=function(f,e){var h=null;try{if(e===undefined){h=KEYUTIL.getKey(f)}else{h=KEYUTIL.getKey(f,e)}}catch(g){throw"init failed:"+g}if(h.isPrivate===true){this.prvKey=h;this.state="SIGN"}else{if(h.isPublic===true){this.pubKey=h;this.state="VERIFY"}else{throw"init failed.:"+h}}};this.initSign=function(e){if(typeof e.ecprvhex=="string"&&typeof e.eccurvename=="string"){this.ecprvhex=e.ecprvhex;this.eccurvename=e.eccurvename}else{this.prvKey=e}this.state="SIGN"};this.initVerifyByPublicKey=function(e){if(typeof e.ecpubhex=="string"&&typeof e.eccurvename=="string"){this.ecpubhex=e.ecpubhex;this.eccurvename=e.eccurvename}else{if(e instanceof KJUR.crypto.ECDSA){this.pubKey=e}else{if(e instanceof RSAKey){this.pubKey=e}}}this.state="VERIFY"};this.initVerifyByCertificatePEM=function(f){var e=new X509();e.readCertPEM(f);this.pubKey=e.subjectPublicKeyRSA;this.state="VERIFY"};this.updateString=function(e){this.md.updateString(e)};this.updateHex=function(e){this.md.updateHex(e)};this.sign=function(){this.sHashHex=this.md.digest();if(typeof this.ecprvhex!="undefined"&&typeof this.eccurvename!="undefined"){var e=new KJUR.crypto.ECDSA({curve:this.eccurvename});this.hSign=e.signHex(this.sHashHex,this.ecprvhex)}else{if(this.prvKey instanceof RSAKey&&this.pubkeyAlgName=="rsaandmgf1"){this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen)}else{if(this.prvKey instanceof RSAKey&&this.pubkeyAlgName=="rsa"){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName)}else{if(this.prvKey instanceof KJUR.crypto.ECDSA){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}else{if(this.prvKey instanceof KJUR.crypto.DSA){this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}else{throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}}}}return this.hSign};this.signString=function(e){this.updateString(e);return this.sign()};this.signHex=function(e){this.updateHex(e);return this.sign()};this.verify=function(f){this.sHashHex=this.md.digest();if(typeof this.ecpubhex!="undefined"&&typeof this.eccurvename!="undefined"){var e=new KJUR.crypto.ECDSA({curve:this.eccurvename});return e.verifyHex(this.sHashHex,f,this.ecpubhex)}else{if(this.pubKey instanceof RSAKey&&this.pubkeyAlgName=="rsaandmgf1"){return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,f,this.mdAlgName,this.pssSaltLen)}else{if(this.pubKey instanceof RSAKey&&this.pubkeyAlgName=="rsa"){return this.pubKey.verifyWithMessageHash(this.sHashHex,f)}else{if(this.pubKey instanceof KJUR.crypto.ECDSA){return this.pubKey.verifyWithMessageHash(this.sHashHex,f)}else{if(this.pubKey instanceof KJUR.crypto.DSA){return this.pubKey.verifyWithMessageHash(this.sHashHex,f)}else{throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}}}}}}};this.init=function(c,b){throw"init(key, pass) not supported for this alg:prov="+this.algProvName};this.initVerifyByPublicKey=function(b){throw"initVerifyByPublicKey(rsaPubKeyy) not supported for this alg:prov="+this.algProvName};this.initVerifyByCertificatePEM=function(b){throw"initVerifyByCertificatePEM(certPEM) not supported for this alg:prov="+this.algProvName};this.initSign=function(b){throw"initSign(prvKey) not supported for this alg:prov="+this.algProvName};this.updateString=function(b){throw"updateString(str) not supported for this alg:prov="+this.algProvName};this.updateHex=function(b){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName};this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName};this.signString=function(b){throw"digestString(str) not supported for this alg:prov="+this.algProvName};this.signHex=function(b){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName};this.verify=function(b){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName};this.initParams=w;if(w!==undefined){if(w.alg!==undefined){this.algName=w.alg;if(w.prov===undefined){this.provName=KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]}else{this.provName=w.prov}this.algProvName=this.algName+":"+this.provName;this.setAlgAndProvider(this.algName,this.provName);this._setAlgNames()}if(w.psssaltlen!==undefined){this.pssSaltLen=w.psssaltlen}if(w.prvkeypem!==undefined){if(w.prvkeypas!==undefined){throw"both prvkeypem and prvkeypas parameters not supported"}else{try{var u=new RSAKey();u.readPrivateKeyFromPEMString(w.prvkeypem);this.initSign(u)}catch(y){throw"fatal error to load pem private key: "+y}}}}};KJUR.crypto.Cipher=function(b){};KJUR.crypto.Cipher.encrypt=function(i,h,j){if(h instanceof RSAKey&&h.isPublic){var k=KJUR.crypto.Cipher.getAlgByKeyAndName(h,j);if(k==="RSA"){return h.encrypt(i)}if(k==="RSAOAEP"){return h.encryptOAEP(i,"sha1")}var g=k.match(/^RSAOAEP(\d+)$/);if(g!==null){return h.encryptOAEP(i,"sha"+g[1])}throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+j}else{throw"Cipher.encrypt: unsupported key or algorithm"}};KJUR.crypto.Cipher.decrypt=function(i,h,j){if(h instanceof RSAKey&&h.isPrivate){var k=KJUR.crypto.Cipher.getAlgByKeyAndName(h,j);if(k==="RSA"){return h.decrypt(i)}if(k==="RSAOAEP"){return h.decryptOAEP(i,"sha1")}var g=k.match(/^RSAOAEP(\d+)$/);if(g!==null){return h.decryptOAEP(i,"sha"+g[1])}throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+j}else{throw"Cipher.decrypt: unsupported key or algorithm"}};KJUR.crypto.Cipher.getAlgByKeyAndName=function(c,d){if(c instanceof RSAKey){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(d)!=-1){return d}if(d===null||d===undefined){return"RSA"}throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+d}throw"getAlgByKeyAndName: not supported algorithm name: "+d};KJUR.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}};
/*! ecdsa-modified-1.1.1.js (c) Stephan Thomas, Kenji Urushima | github.com/bitcoinjs/bitcoinjs-lib/blob/master/LICENSE
 */
;if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.crypto=="undefined"||!KJUR.crypto){KJUR.crypto={}}KJUR.crypto.ECDSA=function(k){var n="secp256r1";var l=null;var i=null;var m=null;var j=new SecureRandom();var o=null;this.type="EC";this.isPrivate=false;this.isPublic=false;function p(d,h,e,u){var b=Math.max(h.bitLength(),u.bitLength());var c=d.add2D(e);var f=d.curve.getInfinity();for(var g=b-1;g>=0;--g){f=f.twice2D();f.z=BigInteger.ONE;if(h.testBit(g)){if(u.testBit(g)){f=f.add2D(c)}else{f=f.add2D(d)}}else{if(u.testBit(g)){f=f.add2D(e)}}}return f}this.getBigRandom=function(b){return new BigInteger(b.bitLength(),j).mod(b.subtract(BigInteger.ONE)).add(BigInteger.ONE)};this.setNamedCurve=function(b){this.ecparams=KJUR.crypto.ECParameterDB.getByName(b);this.prvKeyHex=null;this.pubKeyHex=null;this.curveName=b};this.setPrivateKeyHex=function(b){this.isPrivate=true;this.prvKeyHex=b};this.setPublicKeyHex=function(b){this.isPublic=true;this.pubKeyHex=b};this.getPublicKeyXYHex=function(){var b=this.pubKeyHex;if(b.substr(0,2)!=="04"){throw"this method supports uncompressed format(04) only"}var c=this.ecparams.keylen/4;if(b.length!==2+c*2){throw"malformed public key hex length"}var d={};d.x=b.substr(2,c);d.y=b.substr(2+c);return d};this.getShortNISTPCurveName=function(){var b=this.curveName;if(b==="secp256r1"||b==="NIST P-256"||b==="P-256"||b==="prime256v1"){return"P-256"}if(b==="secp384r1"||b==="NIST P-384"||b==="P-384"){return"P-384"}return null};this.generateKeyPairHex=function(){var s=this.ecparams.n;var f=this.getBigRandom(s);var h=this.ecparams.G.multiply(f);var c=h.getX().toBigInteger();var e=h.getY().toBigInteger();var v=this.ecparams.keylen/4;var g=("0000000000"+f.toString(16)).slice(-v);var b=("0000000000"+c.toString(16)).slice(-v);var d=("0000000000"+e.toString(16)).slice(-v);var u="04"+b+d;this.setPrivateKeyHex(g);this.setPublicKeyHex(u);return{ecprvhex:g,ecpubhex:u}};this.signWithMessageHash=function(b){return this.signHex(b,this.prvKeyHex)};this.signHex=function(d,g){var w=new BigInteger(g,16);var f=this.ecparams.n;var b=new BigInteger(d,16);do{var e=this.getBigRandom(f);var s=this.ecparams.G;var c=s.multiply(e);var h=c.getX().toBigInteger().mod(f)}while(h.compareTo(BigInteger.ZERO)<=0);var r=e.modInverse(f).multiply(b.add(w.multiply(h))).mod(f);return KJUR.crypto.ECDSA.biRSSigToASN1Sig(h,r)};this.sign=function(e,s){var b=s;var g=this.ecparams.n;var c=BigInteger.fromByteArrayUnsigned(e);do{var f=this.getBigRandom(g);var w=this.ecparams.G;var d=w.multiply(f);var h=d.getX().toBigInteger().mod(g)}while(h.compareTo(BigInteger.ZERO)<=0);var r=f.modInverse(g).multiply(c.add(b.multiply(h))).mod(g);return this.serializeSig(h,r)};this.verifyWithMessageHash=function(b,c){return this.verifyHex(b,c,this.pubKeyHex)};this.verifyHex=function(b,f,g){var c,e;var h=KJUR.crypto.ECDSA.parseSigHex(f);c=h.r;e=h.s;var d;d=ECPointFp.decodeFromHex(this.ecparams.curve,g);var q=new BigInteger(b,16);return this.verifyRaw(q,c,e,d)};this.verify=function(h,g,e){var c,f;if(Bitcoin.Util.isArray(g)){var q=this.parseSig(g);c=q.r;f=q.s}else{if("object"===typeof g&&g.r&&g.s){c=g.r;f=g.s}else{throw"Invalid value for signature"}}var d;if(e instanceof ECPointFp){d=e}else{if(Bitcoin.Util.isArray(e)){d=ECPointFp.decodeFrom(this.ecparams.curve,e)}else{throw"Invalid format for pubkey value, must be byte array or ECPointFp"}}var b=BigInteger.fromByteArrayUnsigned(h);return this.verifyRaw(b,c,f,d)};this.verifyRaw=function(d,r,s,e){var f=this.ecparams.n;var v=this.ecparams.G;if(r.compareTo(BigInteger.ONE)<0||r.compareTo(f)>=0){return false}if(s.compareTo(BigInteger.ONE)<0||s.compareTo(f)>=0){return false}var c=s.modInverse(f);var g=d.multiply(c).mod(f);var h=r.multiply(c).mod(f);var b=v.multiply(g).add(e.multiply(h));var x=b.getX().toBigInteger().mod(f);return x.equals(r)};this.serializeSig=function(d,e){var c=d.toByteArraySigned();var f=e.toByteArraySigned();var b=[];b.push(2);b.push(c.length);b=b.concat(c);b.push(2);b.push(f.length);b=b.concat(f);b.unshift(b.length);b.unshift(48);return b};this.parseSig=function(g){var b;if(g[0]!=48){throw new Error("Signature not a valid DERSequence")}b=2;if(g[b]!=2){throw new Error("First element in signature must be a DERInteger")}var c=g.slice(b+2,b+2+g[b+1]);b+=2+g[b+1];if(g[b]!=2){throw new Error("Second element in signature must be a DERInteger")}var f=g.slice(b+2,b+2+g[b+1]);b+=2+g[b+1];var d=BigInteger.fromByteArrayUnsigned(c);var e=BigInteger.fromByteArrayUnsigned(f);return{r:d,s:e}};this.parseSigCompact=function(b){if(b.length!==65){throw"Signature has the wrong length"}var e=b[0]-27;if(e<0||e>7){throw"Invalid signature type"}var f=this.ecparams.n;var c=BigInteger.fromByteArrayUnsigned(b.slice(1,33)).mod(f);var d=BigInteger.fromByteArrayUnsigned(b.slice(33,65)).mod(f);return{r:c,s:d,i:e}};this.readPKCS5PrvKeyHex=function(c){var q=ASN1HEX;var b=KJUR.crypto.ECDSA.getName;var g=q.getVbyList;if(q.isASN1HEX(c)===false){throw"not ASN.1 hex string"}var f,d,h;try{f=g(c,0,[2,0],"06");d=g(c,0,[1],"04");try{h=g(c,0,[3,0],"03").substr(2)}catch(e){}}catch(e){throw"malformed PKCS#1/5 plain ECC private key"}this.curveName=b(f);if(this.curveName===undefined){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(h);this.setPrivateKeyHex(d);this.isPublic=false};this.readPKCS8PrvKeyHex=function(g){var b=ASN1HEX;var s=KJUR.crypto.ECDSA.getName;var e=b.getVbyList;if(b.isASN1HEX(g)===false){throw"not ASN.1 hex string"}var r,c,f,h;try{r=e(g,0,[1,0],"06");c=e(g,0,[1,1],"06");f=e(g,0,[2,0,1],"04");try{h=e(g,0,[2,0,2,0],"03").substr(2)}catch(d){}}catch(d){throw"malformed PKCS#8 plain ECC private key"}this.curveName=s(c);if(this.curveName===undefined){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(h);this.setPrivateKeyHex(f);this.isPublic=false};this.readPKCS8PubKeyHex=function(c){var q=ASN1HEX;var b=KJUR.crypto.ECDSA.getName;var g=q.getVbyList;if(q.isASN1HEX(c)===false){throw"not ASN.1 hex string"}var d,f,h;try{d=g(c,0,[0,0],"06");f=g(c,0,[0,1],"06");h=g(c,0,[1],"03").substr(2)}catch(e){throw"malformed PKCS#8 ECC public key"}this.curveName=b(f);if(this.curveName===null){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(h)};this.readCertPubKeyHex=function(d,g){if(g!==5){g=6}var b=ASN1HEX;var c=KJUR.crypto.ECDSA.getName;var h=b.getVbyList;if(b.isASN1HEX(d)===false){throw"not ASN.1 hex string"}var f,q;try{f=h(d,0,[0,g,0,1],"06");q=h(d,0,[0,g,1],"03").substr(2)}catch(e){throw"malformed X.509 certificate ECC public key"}this.curveName=c(f);if(this.curveName===null){throw"unsupported curve name"}this.setNamedCurve(this.curveName);this.setPublicKeyHex(q)};if(k!==undefined){if(k.curve!==undefined){this.curveName=k.curve}}if(this.curveName===undefined){this.curveName=n}this.setNamedCurve(this.curveName);if(k!==undefined){if(k.prv!==undefined){this.setPrivateKeyHex(k.prv)}if(k.pub!==undefined){this.setPublicKeyHex(k.pub)}}};KJUR.crypto.ECDSA.parseSigHex=function(f){var e=KJUR.crypto.ECDSA.parseSigHexInHexRS(f);var g=new BigInteger(e.r,16);var h=new BigInteger(e.s,16);return{r:g,s:h}};KJUR.crypto.ECDSA.parseSigHexInHexRS=function(o){var k=ASN1HEX;var l=k.getChildIdx;var n=k.getV;if(o.substr(0,2)!="30"){throw"signature is not a ASN.1 sequence"}var m=l(o,0);if(m.length!=2){throw"number of signature ASN.1 sequence elements seem wrong"}var p=m[0];var q=m[1];if(o.substr(p,2)!="02"){throw"1st item of sequene of signature is not ASN.1 integer"}if(o.substr(q,2)!="02"){throw"2nd item of sequene of signature is not ASN.1 integer"}var r=n(o,p);var s=n(o,q);return{r:r,s:s}};KJUR.crypto.ECDSA.asn1SigToConcatSig=function(h){var g=KJUR.crypto.ECDSA.parseSigHexInHexRS(h);var e=g.r;var f=g.s;if(e.substr(0,2)=="00"&&(((e.length/2)*8)%(16*8))==8){e=e.substr(2)}if(f.substr(0,2)=="00"&&(((f.length/2)*8)%(16*8))==8){f=f.substr(2)}if((((e.length/2)*8)%(16*8))!=0){throw"unknown ECDSA sig r length error"}if((((f.length/2)*8)%(16*8))!=0){throw"unknown ECDSA sig s length error"}return e+f};KJUR.crypto.ECDSA.concatSigToASN1Sig=function(e){if((((e.length/2)*8)%(16*8))!=0){throw"unknown ECDSA concatinated r-s sig  length error"}var f=e.substr(0,e.length/2);var d=e.substr(e.length/2);return KJUR.crypto.ECDSA.hexRSSigToASN1Sig(f,d)};KJUR.crypto.ECDSA.hexRSSigToASN1Sig=function(e,f){var g=new BigInteger(e,16);var h=new BigInteger(f,16);return KJUR.crypto.ECDSA.biRSSigToASN1Sig(g,h)};KJUR.crypto.ECDSA.biRSSigToASN1Sig=function(i,k){var l=KJUR.asn1;var g=new l.DERInteger({bigint:i});var h=new l.DERInteger({bigint:k});var j=new l.DERSequence({array:[g,h]});return j.getEncodedHex()};KJUR.crypto.ECDSA.getName=function(b){if(b==="2a8648ce3d030107"){return"secp256r1"}if(b==="2b8104000a"){return"secp256k1"}if(b==="2b81040022"){return"secp384r1"}if("|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(b)!==-1){return"secp256r1"}if("|secp256k1|".indexOf(b)!==-1){return"secp256k1"}if("|secp384r1|NIST P-384|P-384|".indexOf(b)!==-1){return"secp384r1"}return null};
/*! ecparam-1.0.0.js (c) 2013 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.crypto=="undefined"||!KJUR.crypto){KJUR.crypto={}}KJUR.crypto.ECParameterDB=new function(){var d={};var f={};function e(b){return new BigInteger(b,16)}this.getByName=function(b){var c=b;if(typeof f[c]!="undefined"){c=f[b]}if(typeof d[c]!="undefined"){return d[c]}throw"unregistered EC curve name: "+c};this.regist=function(F,I,G,L,H,N,K,M,J,p,O,h){d[F]={};var C=e(G);var b=e(L);var c=e(H);var B=e(N);var i=e(K);var D=new ECCurveFp(C,b,c);var E=D.decodePointHex("04"+M+J);d[F]["name"]=F;d[F]["keylen"]=I;d[F]["curve"]=D;d[F]["G"]=E;d[F]["n"]=B;d[F]["h"]=i;d[F]["oid"]=O;d[F]["info"]=h;for(var n=0;n<p.length;n++){f[p[n]]=F}}};KJUR.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field");KJUR.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field");KJUR.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field");KJUR.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]);KJUR.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]);KJUR.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]);KJUR.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]);KJUR.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]);KJUR.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]);KJUR.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);
/*! dsa-2.1.1.js (c) 2016-2017 Kenji Urushimma | kjur.github.com/jsrsasign/license
 */
;if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.crypto=="undefined"||!KJUR.crypto){KJUR.crypto={}}KJUR.crypto.DSA=function(){this.p=null;this.q=null;this.g=null;this.y=null;this.x=null;this.type="DSA";this.isPrivate=false;this.isPublic=false;this.setPrivate=function(i,j,f,h,g){this.isPrivate=true;this.p=i;this.q=j;this.g=f;this.y=h;this.x=g};this.setPrivateHex=function(q,s,o,l,k){var r,u,p,n,m;r=new BigInteger(q,16);u=new BigInteger(s,16);p=new BigInteger(o,16);if(typeof l==="string"&&l.length>1){n=new BigInteger(l,16)}else{n=null}m=new BigInteger(k,16);this.setPrivate(r,u,p,n,m)};this.setPublic=function(h,e,f,g){this.isPublic=true;this.p=h;this.q=e;this.g=f;this.y=g;this.x=null};this.setPublicHex=function(m,n,o,l){var i,j,k,p;i=new BigInteger(m,16);j=new BigInteger(n,16);k=new BigInteger(o,16);p=new BigInteger(l,16);this.setPublic(i,j,k,p)};this.signWithMessageHash=function(v){var w=this.p;var x=this.q;var s=this.g;var q=this.y;var p=this.x;var u=KJUR.crypto.Util.getRandomBigIntegerMinToMax(BigInteger.ONE.add(BigInteger.ONE),x.subtract(BigInteger.ONE));var o=v.substr(0,x.bitLength()/4);var r=new BigInteger(o,16);var y=(s.modPow(u,w)).mod(x);var g=(u.modInverse(x).multiply(r.add(p.multiply(y)))).mod(x);var k=KJUR.asn1.ASN1Util.jsonToASN1HEX({seq:[{"int":{bigint:y}},{"int":{bigint:g}}]});return k};this.verifyWithMessageHash=function(w,x){var A=this.p;var C=this.q;var u=this.g;var r=this.y;var v=this.parseASN1Signature(x);var D=v[0];var E=v[1];var g=w.substr(0,C.bitLength()/4);var s=new BigInteger(g,16);if(BigInteger.ZERO.compareTo(D)>0||D.compareTo(C)>0){throw"invalid DSA signature"}if(BigInteger.ZERO.compareTo(E)>=0||E.compareTo(C)>0){throw"invalid DSA signature"}var q=E.modInverse(C);var y=s.multiply(q).mod(C);var B=D.multiply(q).mod(C);var p=u.modPow(y,A).multiply(r.modPow(B,A)).mod(A).mod(C);return p.compareTo(D)==0};this.parseASN1Signature=function(f){try{var g=new BigInteger(ASN1HEX.getVbyList(f,0,[0],"02"),16);var h=new BigInteger(ASN1HEX.getVbyList(f,0,[1],"02"),16);return[g,h]}catch(e){throw"malformed ASN.1 DSA signature"}};this.readPKCS5PrvKeyHex=function(p){var q,r,m,l,k;var h=ASN1HEX;var o=h.getVbyList;if(h.isASN1HEX(p)===false){throw"not ASN.1 hex string"}try{q=o(p,0,[1],"02");r=o(p,0,[2],"02");m=o(p,0,[3],"02");l=o(p,0,[4],"02");k=o(p,0,[5],"02")}catch(n){console.log("EXCEPTION:"+n);throw"malformed PKCS#1/5 plain DSA private key"}this.setPrivateHex(q,r,m,l,k)};this.readPKCS8PrvKeyHex=function(o){var m,p,h,l;var n=ASN1HEX;var k=n.getVbyList;if(n.isASN1HEX(o)===false){throw"not ASN.1 hex string"}try{m=k(o,0,[1,1,0],"02");p=k(o,0,[1,1,1],"02");h=k(o,0,[1,1,2],"02");l=k(o,0,[2,0],"02")}catch(j){console.log("EXCEPTION:"+j);throw"malformed PKCS#8 plain DSA private key"}this.setPrivateHex(m,p,h,null,l)};this.readPKCS8PubKeyHex=function(o){var m,p,h,l;var n=ASN1HEX;var k=n.getVbyList;if(n.isASN1HEX(o)===false){throw"not ASN.1 hex string"}try{m=k(o,0,[0,1,0],"02");p=k(o,0,[0,1,1],"02");h=k(o,0,[0,1,2],"02");l=k(o,0,[1,0],"02")}catch(j){console.log("EXCEPTION:"+j);throw"malformed PKCS#8 DSA public key"}this.setPublicHex(m,p,h,l)};this.readCertPubKeyHex=function(p,m){if(m!==5){m=6}var q,r,l,k;var h=ASN1HEX;var o=h.getVbyList;if(h.isASN1HEX(p)===false){throw"not ASN.1 hex string"}try{q=o(p,0,[0,m,0,1,0],"02");r=o(p,0,[0,m,0,1,1],"02");l=o(p,0,[0,m,0,1,2],"02");k=o(p,0,[0,m,1,0],"02")}catch(n){console.log("EXCEPTION:"+n);throw"malformed X.509 certificate DSA public key"}this.setPublicHex(q,r,l,k)}};
/*! pkcs5pkey-1.1.1.js (c) 2013-2017 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;var PKCS5PKEY=function(){var y=function(d,b,c){return r(CryptoJS.AES,d,b,c)};var x=function(d,b,c){return r(CryptoJS.TripleDES,d,b,c)};var r=function(c,g,j,e){var d=CryptoJS.enc.Hex.parse(g);var h=CryptoJS.enc.Hex.parse(j);var f=CryptoJS.enc.Hex.parse(e);var b={};b.key=h;b.iv=f;b.ciphertext=d;var i=c.decrypt(b,h,{iv:f});return CryptoJS.enc.Hex.stringify(i)};var q=function(d,b,c){return w(CryptoJS.AES,d,b,c)};var n=function(d,b,c){return w(CryptoJS.TripleDES,d,b,c)};var w=function(l,g,i,d){var b=CryptoJS.enc.Hex.parse(g);var h=CryptoJS.enc.Hex.parse(i);var e=CryptoJS.enc.Hex.parse(d);var f={};var j=l.encrypt(b,h,{iv:e});var c=CryptoJS.enc.Hex.parse(j.toString());var k=CryptoJS.enc.Base64.stringify(c);return k};var u={"AES-256-CBC":{proc:y,eproc:q,keylen:32,ivlen:16},"AES-192-CBC":{proc:y,eproc:q,keylen:24,ivlen:16},"AES-128-CBC":{proc:y,eproc:q,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:x,eproc:n,keylen:24,ivlen:8}};var A=function(b){return u[b]["proc"]};var p=function(d){var b=CryptoJS.lib.WordArray.random(d);var c=CryptoJS.enc.Hex.stringify(b);return c};var o=function(d){var c={};var h=d.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));if(h){c.cipher=h[1];c.ivsalt=h[2]}var i=d.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));if(i){c.type=i[1]}var e=-1;var b=0;if(d.indexOf("\r\n\r\n")!=-1){e=d.indexOf("\r\n\r\n");b=2}if(d.indexOf("\n\n")!=-1){e=d.indexOf("\n\n");b=1}var f=d.indexOf("-----END");if(e!=-1&&f!=-1){var g=d.substring(e+b*2,f-b);g=g.replace(/\s+/g,"");c.data=g}return c};var s=function(e,h,f){var k=f.substring(0,16);var b=CryptoJS.enc.Hex.parse(k);var d=CryptoJS.enc.Utf8.parse(h);var l=u[e]["keylen"]+u[e]["ivlen"];var i="";var j=null;for(;;){var c=CryptoJS.algo.MD5.create();if(j!=null){c.update(j)}c.update(d);c.update(b);j=c.finalize();i=i+CryptoJS.enc.Hex.stringify(j);if(i.length>=l*2){break}}var g={};g.keyhex=i.substr(0,u[e]["keylen"]*2);g.ivhex=i.substr(u[e]["keylen"]*2,u[e]["ivlen"]*2);return g};var B=function(i,c,g,b){var f=CryptoJS.enc.Base64.parse(i);var h=CryptoJS.enc.Hex.stringify(f);var d=u[c]["proc"];var e=d(h,g,b);return e};var v=function(g,d,f,b){var e=u[d]["eproc"];var c=e(g,f,b);return c};return{version:"1.0.5",getHexFromPEM:function(c,b){return ASN1HEX.pemToHex(c,b)},getDecryptedKeyHexByKeyIV:function(e,b,c,d){var f=A(b);return f(e,c,d)},parsePKCS5PEM:function(b){return o(b)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(c,d,b){return s(c,d,b)},decryptKeyB64:function(e,c,d,b){return B(e,c,d,b)},getDecryptedKeyHex:function(g,h){var e=o(g);var b=e.type;var d=e.cipher;var f=e.ivsalt;var c=e.data;var i=s(d,h,f);var j=i.keyhex;var k=B(c,d,j,f);return k},getRSAKeyFromEncryptedPKCS5PEM:function(c,d){var b=this.getDecryptedKeyHex(c,d);var e=new RSAKey();e.readPrivateKeyFromASN1HexString(b);return e},getEncryptedPKCS5PEMFromPrvKeyHex:function(c,g,b,d){if(typeof b=="undefined"||b==null){b="AES-256-CBC"}if(typeof u[b]=="undefined"){throw"PKCS5PKEY unsupported algorithm: "+b}if(typeof d=="undefined"||d==null){var k=u[b]["ivlen"];var l=p(k);d=l.toUpperCase()}var h=s(b,g,d);var i=h.keyhex;var j=v(c,b,i,d);var e=j.replace(/(.{64})/g,"$1\r\n");var f="-----BEGIN RSA PRIVATE KEY-----\r\n";f+="Proc-Type: 4,ENCRYPTED\r\n";f+="DEK-Info: "+b+","+d+"\r\n";f+="\r\n";f+=e;f+="\r\n-----END RSA PRIVATE KEY-----\r\n";return f},getEncryptedPKCS5PEMFromRSAKey:function(d,c,f,H){var g=new KJUR.asn1.DERInteger({"int":0});var l=new KJUR.asn1.DERInteger({bigint:d.n});var h=new KJUR.asn1.DERInteger({"int":d.e});var e=new KJUR.asn1.DERInteger({bigint:d.d});var F=new KJUR.asn1.DERInteger({bigint:d.p});var b=new KJUR.asn1.DERInteger({bigint:d.q});var i=new KJUR.asn1.DERInteger({bigint:d.dmp1});var m=new KJUR.asn1.DERInteger({bigint:d.dmq1});var j=new KJUR.asn1.DERInteger({bigint:d.coeff});var G=new KJUR.asn1.DERSequence({array:[g,l,h,e,F,b,i,m,j]});var k=G.getEncodedHex();return this.getEncryptedPKCS5PEMFromPrvKeyHex(k,c,f,H)},newEncryptedPKCS5PEM:function(g,f,c,b){if(typeof f=="undefined"||f==null){f=1024}if(typeof c=="undefined"||c==null){c="10001"}var e=new RSAKey();e.generate(f,c);var d=null;if(typeof b=="undefined"||b==null){d=this.getEncryptedPKCS5PEMFromRSAKey(pkey,g)}else{d=this.getEncryptedPKCS5PEMFromRSAKey(pkey,g,b)}return d},getRSAKeyFromPlainPKCS8PEM:function(b){if(b.match(/ENCRYPTED/)){throw"pem shall be not ENCRYPTED"}var c=ASN1HEX.pemToHex(b,"PRIVATE KEY");var d=this.getRSAKeyFromPlainPKCS8Hex(c);return d},getRSAKeyFromPlainPKCS8Hex:function(b){var c=new RSAKey();c.readPKCS8PrvKeyHex(b);return c},parseHexOfEncryptedPKCS8:function(j){var g=ASN1HEX;var i=g.getChildIdx;var l=g.getV;var b={};var d=i(j,0);if(d.length!=2){throw"malformed format: SEQUENCE(0).items != 2: "+d.length}b.ciphertext=l(j,d[1]);var h=i(j,d[0]);if(h.length!=2){throw"malformed format: SEQUENCE(0.0).items != 2: "+h.length}if(l(j,h[0])!="2a864886f70d01050d"){throw"this only supports pkcs5PBES2"}var f=i(j,h[1]);if(h.length!=2){throw"malformed format: SEQUENCE(0.0.1).items != 2: "+f.length}var e=i(j,f[1]);if(e.length!=2){throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+e.length}if(l(j,e[0])!="2a864886f70d0307"){throw"this only supports TripleDES"}b.encryptionSchemeAlg="TripleDES";b.encryptionSchemeIV=l(j,e[1]);var c=i(j,f[0]);if(c.length!=2){throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+c.length}if(l(j,c[0])!="2a864886f70d01050c"){throw"this only supports pkcs5PBKDF2"}var k=i(j,c[1]);if(k.length<2){throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+k.length}b.pbkdf2Salt=l(j,k[0]);var C=l(j,k[1]);try{b.pbkdf2Iter=parseInt(C,16)}catch(m){throw"malformed format pbkdf2Iter: "+C}return b},getPBKDF2KeyHexFromParam:function(b,g){var c=CryptoJS.enc.Hex.parse(b.pbkdf2Salt);var f=b.pbkdf2Iter;var d=CryptoJS.PBKDF2(g,c,{keySize:192/32,iterations:f});var e=CryptoJS.enc.Hex.stringify(d);return e},getPlainPKCS8HexFromEncryptedPKCS8PEM:function(h,g){var d=ASN1HEX.pemToHex(h,"ENCRYPTED PRIVATE KEY");var f=this.parseHexOfEncryptedPKCS8(d);var k=PKCS5PKEY.getPBKDF2KeyHexFromParam(f,g);var j={};j.ciphertext=CryptoJS.enc.Hex.parse(f.ciphertext);var b=CryptoJS.enc.Hex.parse(k);var c=CryptoJS.enc.Hex.parse(f.encryptionSchemeIV);var i=CryptoJS.TripleDES.decrypt(j,b,{iv:c});var e=CryptoJS.enc.Hex.stringify(i);return e},getRSAKeyFromEncryptedPKCS8PEM:function(b,c){var d=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(b,c);var e=this.getRSAKeyFromPlainPKCS8Hex(d);return e},getKeyFromEncryptedPKCS8PEM:function(b,d){var e=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(b,d);var c=this.getKeyFromPlainPrivatePKCS8Hex(e);return c},parsePlainPrivatePKCS8Hex:function(e){var b=ASN1HEX;var c=b.getChildIdx;var d=b.getV;var g={};g.algparam=null;if(e.substr(0,2)!="30"){throw"malformed plain PKCS8 private key(code:001)"}var f=c(e,0);if(f.length!=3){throw"malformed plain PKCS8 private key(code:002)"}if(e.substr(f[1],2)!="30"){throw"malformed PKCS8 private key(code:003)"}var h=c(e,f[1]);if(h.length!=2){throw"malformed PKCS8 private key(code:004)"}if(e.substr(h[0],2)!="06"){throw"malformed PKCS8 private key(code:005)"}g.algoid=d(e,h[0]);if(e.substr(h[1],2)=="06"){g.algparam=d(e,h[1])}if(e.substr(f[2],2)!="04"){throw"malformed PKCS8 private key(code:006)"}g.keyidx=b.getVidx(e,f[2]);return g},getKeyFromPlainPrivatePKCS8PEM:function(c){var d=ASN1HEX.pemToHex(c,"PRIVATE KEY");var b=this.getKeyFromPlainPrivatePKCS8Hex(d);return b},getKeyFromPlainPrivatePKCS8Hex:function(d){var c=this.parsePlainPrivatePKCS8Hex(d);var b;if(c.algoid=="2a864886f70d010101"){b=new RSAKey()}else{if(c.algoid=="2a8648ce380401"){b=new KJUR.crypto.DSA()}else{if(c.algoid=="2a8648ce3d0201"){b=new KJUR.crypto.ECDSA()}else{throw"unsupported private key algorithm"}}}b.readPKCS8PrvKeyHex(d);return b},getRSAKeyFromPublicPKCS8PEM:function(c){var b=ASN1HEX.pemToHex(c,"PUBLIC KEY");var d=this.getRSAKeyFromPublicPKCS8Hex(b);return d},getKeyFromPublicPKCS8PEM:function(c){var b=ASN1HEX.pemToHex(c,"PUBLIC KEY");var d=this.getKeyFromPublicPKCS8Hex(b);return d},getKeyFromPublicPKCS8Hex:function(c){var d;var b=ASN1HEX.getVbyList(c,0,[0,0],"06");if(b==="2a864886f70d010101"){d=new RSAKey()}else{if(b==="2a8648ce380401"){d=new KJUR.crypto.DSA()}else{if(b==="2a8648ce3d0201"){d=new KJUR.crypto.ECDSA()}else{throw"unsupported PKCS#8 public key hex"}}}d.readPKCS8PubKeyHex(c);return d},parsePublicRawRSAKeyHex:function(e){var b=ASN1HEX;var c=b.getChildIdx;var d=b.getV;var g={};if(e.substr(0,2)!="30"){throw"malformed RSA key(code:001)"}var f=c(e,0);if(f.length!=2){throw"malformed RSA key(code:002)"}if(e.substr(f[0],2)!="02"){throw"malformed RSA key(code:003)"}g.n=d(e,f[0]);if(e.substr(f[1],2)!="02"){throw"malformed RSA key(code:004)"}g.e=d(e,f[1]);return g},parsePrivateRawRSAKeyHexAtObj:function(g,b){var c=ASN1HEX;var d=c.getChildIdx;var f=c.getV;var e=c.getIdxbyList(g,0,[2,0]);var h=d(g,e);if(h.length!==9){throw"malformed PKCS#8 plain RSA private key"}b.key={};b.key.n=f(g,h[1]);b.key.e=f(g,h[2]);b.key.d=f(g,h[3]);b.key.p=f(g,h[4]);b.key.q=f(g,h[5]);b.key.dp=f(g,h[6]);b.key.dq=f(g,h[7]);b.key.co=f(g,h[8])},parsePrivateRawECKeyHexAtObj:function(e,b){var d=b.keyidx;var c=new KJUR.crypto.ECDSA();c.readPKCS8PrvKeyHex(e);b.key=c.prvKeyHex;b.pubkey=c.pubKeyHex},parsePublicPKCS8Hex:function(e){var c=ASN1HEX;var d=c.getChildIdx;var f=c.getV;var h={};h.algparam=null;var g=d(e,0);if(g.length!=2){throw"outer DERSequence shall have 2 elements: "+g.length}var b=g[0];if(e.substr(b,2)!="30"){throw"malformed PKCS8 public key(code:001)"}var i=d(e,b);if(i.length!=2){throw"malformed PKCS8 public key(code:002)"}if(e.substr(i[0],2)!="06"){throw"malformed PKCS8 public key(code:003)"}h.algoid=f(e,i[0]);if(e.substr(i[1],2)=="06"){h.algparam=f(e,i[1])}else{if(e.substr(i[1],2)=="30"){h.algparam={};h.algparam.p=c.getVbyList(e,i[1],[0],"02");h.algparam.q=c.getVbyList(e,i[1],[1],"02");h.algparam.g=c.getVbyList(e,i[1],[2],"02")}}if(e.substr(g[1],2)!="03"){throw"malformed PKCS8 public key(code:004)"}h.key=f(e,g[1]).substr(2);return h},getRSAKeyFromPublicPKCS8Hex:function(c){var b=new RSAKey();b.readPKCS8PubKeyHex(c);return b}}}();
/*! keyutil-1.1.1.js (c) 2013-2017 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;var KEYUTIL=function(){var C=function(d,b,c){return u(CryptoJS.AES,d,b,c)};var B=function(d,b,c){return u(CryptoJS.TripleDES,d,b,c)};var F=function(d,b,c){return u(CryptoJS.DES,d,b,c)};var u=function(j,e,h,c){var b=CryptoJS.enc.Hex.parse(e);var f=CryptoJS.enc.Hex.parse(h);var d=CryptoJS.enc.Hex.parse(c);var i={};i.key=f;i.iv=d;i.ciphertext=b;var g=j.decrypt(i,f,{iv:d});return CryptoJS.enc.Hex.stringify(g)};var s=function(d,b,c){return y(CryptoJS.AES,d,b,c)};var p=function(d,b,c){return y(CryptoJS.TripleDES,d,b,c)};var A=function(d,b,c){return y(CryptoJS.DES,d,b,c)};var y=function(j,e,h,c){var k=CryptoJS.enc.Hex.parse(e);var f=CryptoJS.enc.Hex.parse(h);var d=CryptoJS.enc.Hex.parse(c);var g=j.encrypt(k,f,{iv:d});var b=CryptoJS.enc.Hex.parse(g.toString());var i=CryptoJS.enc.Base64.stringify(b);return i};var w={"AES-256-CBC":{proc:C,eproc:s,keylen:32,ivlen:16},"AES-192-CBC":{proc:C,eproc:s,keylen:24,ivlen:16},"AES-128-CBC":{proc:C,eproc:s,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:B,eproc:p,keylen:24,ivlen:8},"DES-CBC":{proc:F,eproc:A,keylen:8,ivlen:8}};var D=function(b){return w[b]["proc"]};var r=function(d){var b=CryptoJS.lib.WordArray.random(d);var c=CryptoJS.enc.Hex.stringify(b);return c};var q=function(d){var c={};var h=d.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));if(h){c.cipher=h[1];c.ivsalt=h[2]}var i=d.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));if(i){c.type=i[1]}var e=-1;var b=0;if(d.indexOf("\r\n\r\n")!=-1){e=d.indexOf("\r\n\r\n");b=2}if(d.indexOf("\n\n")!=-1){e=d.indexOf("\n\n");b=1}var f=d.indexOf("-----END");if(e!=-1&&f!=-1){var g=d.substring(e+b*2,f-b);g=g.replace(/\s+/g,"");c.data=g}return c};var v=function(c,f,d){var i=d.substring(0,16);var k=CryptoJS.enc.Hex.parse(i);var b=CryptoJS.enc.Utf8.parse(f);var j=w[c]["keylen"]+w[c]["ivlen"];var g="";var h=null;for(;;){var l=CryptoJS.algo.MD5.create();if(h!=null){l.update(h)}l.update(b);l.update(k);h=l.finalize();g=g+CryptoJS.enc.Hex.stringify(h);if(g.length>=j*2){break}}var e={};e.keyhex=g.substr(0,w[c]["keylen"]*2);e.ivhex=g.substr(w[c]["keylen"]*2,w[c]["ivlen"]*2);return e};var E=function(i,c,g,b){var f=CryptoJS.enc.Base64.parse(i);var h=CryptoJS.enc.Hex.stringify(f);var d=w[c]["proc"];var e=d(h,g,b);return e};var x=function(g,d,f,b){var e=w[d]["eproc"];var c=e(g,f,b);return c};return{version:"1.0.0",getHexFromPEM:function(c,b){return ASN1HEX.pemToHex(c,b)},getDecryptedKeyHexByKeyIV:function(e,b,c,d){var f=D(b);return f(e,c,d)},parsePKCS5PEM:function(b){return q(b)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(c,d,b){return v(c,d,b)},decryptKeyB64:function(e,c,d,b){return E(e,c,d,b)},getDecryptedKeyHex:function(e,f){var c=q(e);var j=c.type;var b=c.cipher;var d=c.ivsalt;var k=c.data;var g=v(b,f,d);var h=g.keyhex;var i=E(k,b,h,d);return i},getRSAKeyFromEncryptedPKCS5PEM:function(c,d){var b=this.getDecryptedKeyHex(c,d);var e=new RSAKey();e.readPrivateKeyFromASN1HexString(b);return e},getEncryptedPKCS5PEMFromPrvKeyHex:function(h,m,e,l,b){var d="";if(typeof l=="undefined"||l==null){l="AES-256-CBC"}if(typeof w[l]=="undefined"){throw"KEYUTIL unsupported algorithm: "+l}if(typeof b=="undefined"||b==null){var j=w[l]["ivlen"];var k=r(j);b=k.toUpperCase()}var f=v(l,e,b);var g=f.keyhex;var i=x(m,l,g,b);var c=i.replace(/(.{64})/g,"$1\r\n");var d="-----BEGIN "+h+" PRIVATE KEY-----\r\n";d+="Proc-Type: 4,ENCRYPTED\r\n";d+="DEK-Info: "+l+","+b+"\r\n";d+="\r\n";d+=c;d+="\r\n-----END "+h+" PRIVATE KEY-----\r\n";return d},getEncryptedPKCS5PEMFromRSAKey:function(b,G,c,n){var e=new KJUR.asn1.DERInteger({"int":0});var j=new KJUR.asn1.DERInteger({bigint:b.n});var f=new KJUR.asn1.DERInteger({"int":b.e});var d=new KJUR.asn1.DERInteger({bigint:b.d});var l=new KJUR.asn1.DERInteger({bigint:b.p});var o=new KJUR.asn1.DERInteger({bigint:b.q});var g=new KJUR.asn1.DERInteger({bigint:b.dmp1});var k=new KJUR.asn1.DERInteger({bigint:b.dmq1});var h=new KJUR.asn1.DERInteger({bigint:b.coeff});var m=new KJUR.asn1.DERSequence({array:[e,j,f,d,l,o,g,k,h]});var i=m.getEncodedHex();return this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",i,G,c,n)},newEncryptedPKCS5PEM:function(g,f,c,b){if(typeof f=="undefined"||f==null){f=1024}if(typeof c=="undefined"||c==null){c="10001"}var e=new RSAKey();e.generate(f,c);var d=null;if(typeof b=="undefined"||b==null){d=this.getEncryptedPKCS5PEMFromRSAKey(e,g)}else{d=this.getEncryptedPKCS5PEMFromRSAKey(e,g,b)}return d},getRSAKeyFromPlainPKCS8PEM:function(b){if(b.match(/ENCRYPTED/)){throw"pem shall be not ENCRYPTED"}var c=ASN1HEX.pemToHex(b,"PRIVATE KEY");var d=this.getRSAKeyFromPlainPKCS8Hex(c);return d},getRSAKeyFromPlainPKCS8Hex:function(b){var c=new RSAKey();c.readPKCS8PrvKeyHex(b);return c},parseHexOfEncryptedPKCS8:function(h){var d=ASN1HEX;var g=d.getChildIdx;var j=d.getV;var m={};var b=g(h,0);if(b.length!=2){throw"malformed format: SEQUENCE(0).items != 2: "+b.length}m.ciphertext=j(h,b[1]);var f=g(h,b[0]);if(f.length!=2){throw"malformed format: SEQUENCE(0.0).items != 2: "+f.length}if(j(h,f[0])!="2a864886f70d01050d"){throw"this only supports pkcs5PBES2"}var e=g(h,f[1]);if(f.length!=2){throw"malformed format: SEQUENCE(0.0.1).items != 2: "+e.length}var c=g(h,e[1]);if(c.length!=2){throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+c.length}if(j(h,c[0])!="2a864886f70d0307"){throw"this only supports TripleDES"}m.encryptionSchemeAlg="TripleDES";m.encryptionSchemeIV=j(h,c[1]);var n=g(h,e[0]);if(n.length!=2){throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+n.length}if(j(h,n[0])!="2a864886f70d01050c"){throw"this only supports pkcs5PBKDF2"}var i=g(h,n[1]);if(i.length<2){throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+i.length}m.pbkdf2Salt=j(h,i[0]);var l=j(h,i[1]);try{m.pbkdf2Iter=parseInt(l,16)}catch(k){throw"malformed format pbkdf2Iter: "+l}return m},getPBKDF2KeyHexFromParam:function(b,g){var c=CryptoJS.enc.Hex.parse(b.pbkdf2Salt);var f=b.pbkdf2Iter;var d=CryptoJS.PBKDF2(g,c,{keySize:192/32,iterations:f});var e=CryptoJS.enc.Hex.stringify(d);return e},getPlainPKCS8HexFromEncryptedPKCS8PEM:function(f,e){var b=ASN1HEX.pemToHex(f,"ENCRYPTED PRIVATE KEY");var d=this.parseHexOfEncryptedPKCS8(b);var i=KEYUTIL.getPBKDF2KeyHexFromParam(d,e);var h={};h.ciphertext=CryptoJS.enc.Hex.parse(d.ciphertext);var j=CryptoJS.enc.Hex.parse(i);var k=CryptoJS.enc.Hex.parse(d.encryptionSchemeIV);var g=CryptoJS.TripleDES.decrypt(h,j,{iv:k});var c=CryptoJS.enc.Hex.stringify(g);return c},getRSAKeyFromEncryptedPKCS8PEM:function(b,c){var d=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(b,c);var e=this.getRSAKeyFromPlainPKCS8Hex(d);return e},getKeyFromEncryptedPKCS8PEM:function(b,d){var e=this.getPlainPKCS8HexFromEncryptedPKCS8PEM(b,d);var c=this.getKeyFromPlainPrivatePKCS8Hex(e);return c},parsePlainPrivatePKCS8Hex:function(e){var b=ASN1HEX;var c=b.getChildIdx;var d=b.getV;var g={};g.algparam=null;if(e.substr(0,2)!="30"){throw"malformed plain PKCS8 private key(code:001)"}var f=c(e,0);if(f.length!=3){throw"malformed plain PKCS8 private key(code:002)"}if(e.substr(f[1],2)!="30"){throw"malformed PKCS8 private key(code:003)"}var h=c(e,f[1]);if(h.length!=2){throw"malformed PKCS8 private key(code:004)"}if(e.substr(h[0],2)!="06"){throw"malformed PKCS8 private key(code:005)"}g.algoid=d(e,h[0]);if(e.substr(h[1],2)=="06"){g.algparam=d(e,h[1])}if(e.substr(f[2],2)!="04"){throw"malformed PKCS8 private key(code:006)"}g.keyidx=b.getVidx(e,f[2]);return g},getKeyFromPlainPrivatePKCS8PEM:function(c){var d=ASN1HEX.pemToHex(c,"PRIVATE KEY");var b=this.getKeyFromPlainPrivatePKCS8Hex(d);return b},getKeyFromPlainPrivatePKCS8Hex:function(d){var c=this.parsePlainPrivatePKCS8Hex(d);var b;if(c.algoid=="2a864886f70d010101"){b=new RSAKey()}else{if(c.algoid=="2a8648ce380401"){b=new KJUR.crypto.DSA()}else{if(c.algoid=="2a8648ce3d0201"){b=new KJUR.crypto.ECDSA()}else{throw"unsupported private key algorithm"}}}b.readPKCS8PrvKeyHex(d);return b},getRSAKeyFromPublicPKCS8PEM:function(c){var b=ASN1HEX.pemToHex(c,"PUBLIC KEY");var d=this.getRSAKeyFromPublicPKCS8Hex(b);return d},getKeyFromPublicPKCS8PEM:function(c){var b=ASN1HEX.pemToHex(c,"PUBLIC KEY");var d=this.getKeyFromPublicPKCS8Hex(b);return d},getKeyFromPublicPKCS8Hex:function(c){var d;var b=ASN1HEX.getVbyList(c,0,[0,0],"06");if(b==="2a864886f70d010101"){d=new RSAKey()}else{if(b==="2a8648ce380401"){d=new KJUR.crypto.DSA()}else{if(b==="2a8648ce3d0201"){d=new KJUR.crypto.ECDSA()}else{throw"unsupported PKCS#8 public key hex"}}}d.readPKCS8PubKeyHex(c);return d},parsePublicRawRSAKeyHex:function(e){var b=ASN1HEX;var c=b.getChildIdx;var d=b.getV;var g={};if(e.substr(0,2)!="30"){throw"malformed RSA key(code:001)"}var f=c(e,0);if(f.length!=2){throw"malformed RSA key(code:002)"}if(e.substr(f[0],2)!="02"){throw"malformed RSA key(code:003)"}g.n=d(e,f[0]);if(e.substr(f[1],2)!="02"){throw"malformed RSA key(code:004)"}g.e=d(e,f[1]);return g},parsePrivateRawRSAKeyHexAtObj:function(g,b){var c=ASN1HEX;var d=c.getChildIdx;var f=c.getV;var e=c.getIdxbyList(g,0,[2,0]);var h=d(g,e);if(h.length!==9){throw"malformed PKCS#8 plain RSA private key"}b.key={};b.key.n=f(g,h[1]);b.key.e=f(g,h[2]);b.key.d=f(g,h[3]);b.key.p=f(g,h[4]);b.key.q=f(g,h[5]);b.key.dp=f(g,h[6]);b.key.dq=f(g,h[7]);b.key.co=f(g,h[8])},parsePrivateRawECKeyHexAtObj:function(e,b){var d=b.keyidx;var c=new KJUR.crypto.ECDSA();c.readPKCS8PrvKeyHex(e);b.key=c.prvKeyHex;b.pubkey=c.pubKeyHex},parsePublicPKCS8Hex:function(e){var c=ASN1HEX;var d=c.getChildIdx;var f=c.getV;var h={};h.algparam=null;var g=d(e,0);if(g.length!=2){throw"outer DERSequence shall have 2 elements: "+g.length}var b=g[0];if(e.substr(b,2)!="30"){throw"malformed PKCS8 public key(code:001)"}var i=d(e,b);if(i.length!=2){throw"malformed PKCS8 public key(code:002)"}if(e.substr(i[0],2)!="06"){throw"malformed PKCS8 public key(code:003)"}h.algoid=f(e,i[0]);if(e.substr(i[1],2)=="06"){h.algparam=f(e,i[1])}else{if(e.substr(i[1],2)=="30"){h.algparam={};h.algparam.p=c.getVbyList(e,i[1],[0],"02");h.algparam.q=c.getVbyList(e,i[1],[1],"02");h.algparam.g=c.getVbyList(e,i[1],[2],"02")}}if(e.substr(g[1],2)!="03"){throw"malformed PKCS8 public key(code:004)"}h.key=f(e,g[1]).substr(2);return h},getRSAKeyFromPublicPKCS8Hex:function(c){var b=new RSAKey();b.readPKCS8PubKeyHex(c);return b}}}();KEYUTIL.getKey=function(aa,ab,Y){var P=ASN1HEX;var q=P.getChildIdx;var Q=P.getV;var ag=P.getVbyList;var ah=KJUR.crypto;var ad=ah.ECDSA;var V=ah.DSA;var O=RSAKey;if(typeof O!="undefined"&&aa instanceof O){return aa}if(typeof ad!="undefined"&&aa instanceof ad){return aa}if(typeof V!="undefined"&&aa instanceof V){return aa}if(aa.curve!==undefined&&aa.xy!==undefined&&aa.d===undefined){return new ad({pub:aa.xy,curve:aa.curve})}if(aa.curve!==undefined&&aa.d!==undefined){return new ad({prv:aa.d,curve:aa.curve})}if(aa.kty===undefined&&aa.n!==undefined&&aa.e!==undefined&&aa.d===undefined){var h=new O();h.setPublic(aa.n,aa.e);return h}if(aa.kty===undefined&&aa.n!==undefined&&aa.e!==undefined&&aa.d!==undefined&&aa.p!==undefined&&aa.q!==undefined&&aa.dp!==undefined&&aa.dq!==undefined&&aa.co!==undefined&&aa.qi===undefined){var h=new O();h.setPrivateEx(aa.n,aa.e,aa.d,aa.p,aa.q,aa.dp,aa.dq,aa.co);return h}if(aa.kty===undefined&&aa.n!==undefined&&aa.e!==undefined&&aa.d!==undefined&&aa.p===undefined){var h=new O();h.setPrivate(aa.n,aa.e,aa.d);return h}if(aa.p!==undefined&&aa.q!==undefined&&aa.g!==undefined&&aa.y!==undefined&&aa.x===undefined){var h=new V();h.setPublic(aa.p,aa.q,aa.g,aa.y);return h}if(aa.p!==undefined&&aa.q!==undefined&&aa.g!==undefined&&aa.y!==undefined&&aa.x!==undefined){var h=new V();h.setPrivate(aa.p,aa.q,aa.g,aa.y,aa.x);return h}if(aa.kty==="RSA"&&aa.n!==undefined&&aa.e!==undefined&&aa.d===undefined){var h=new O();h.setPublic(b64utohex(aa.n),b64utohex(aa.e));return h}if(aa.kty==="RSA"&&aa.n!==undefined&&aa.e!==undefined&&aa.d!==undefined&&aa.p!==undefined&&aa.q!==undefined&&aa.dp!==undefined&&aa.dq!==undefined&&aa.qi!==undefined){var h=new O();h.setPrivateEx(b64utohex(aa.n),b64utohex(aa.e),b64utohex(aa.d),b64utohex(aa.p),b64utohex(aa.q),b64utohex(aa.dp),b64utohex(aa.dq),b64utohex(aa.qi));return h}if(aa.kty==="RSA"&&aa.n!==undefined&&aa.e!==undefined&&aa.d!==undefined){var h=new O();h.setPrivate(b64utohex(aa.n),b64utohex(aa.e),b64utohex(aa.d));return h}if(aa.kty==="EC"&&aa.crv!==undefined&&aa.x!==undefined&&aa.y!==undefined&&aa.d===undefined){var ac=new ad({curve:aa.crv});var S=ac.ecparams.keylen/4;var W=("0000000000"+b64utohex(aa.x)).slice(-S);var y=("0000000000"+b64utohex(aa.y)).slice(-S);var M="04"+W+y;ac.setPublicKeyHex(M);return ac}if(aa.kty==="EC"&&aa.crv!==undefined&&aa.x!==undefined&&aa.y!==undefined&&aa.d!==undefined){var ac=new ad({curve:aa.crv});var S=ac.ecparams.keylen/4;var W=("0000000000"+b64utohex(aa.x)).slice(-S);var y=("0000000000"+b64utohex(aa.y)).slice(-S);var M="04"+W+y;var ai=("0000000000"+b64utohex(aa.d)).slice(-S);ac.setPublicKeyHex(M);ac.setPrivateKeyHex(ai);return ac}if(Y==="pkcs5prv"){var L=aa,P=ASN1HEX,p,h;p=q(L,0);if(p.length===9){h=new O();h.readPrivateKeyFromASN1HexString(aa)}else{if(p.length===6){h=new V();h.readPKCS5PrvKeyHex(L)}else{if(p.length>2&&L.substr(p[1],2)==="04"){h=new ad();h.readPKCS5PrvKeyHex(L)}else{throw"unsupported PKCS#1/5 hexadecimal key"}}}return h}if(Y==="pkcs8prv"){var h=KEYUTIL.getKeyFromPlainPrivatePKCS8Hex(aa);return h}if(Y==="pkcs8pub"){return KEYUTIL.getKeyFromPublicPKCS8Hex(aa)}if(Y==="x509pub"){return X509.getPublicKeyFromCertHex(aa)}if(aa.indexOf("-END CERTIFICATE-",0)!=-1||aa.indexOf("-END X509 CERTIFICATE-",0)!=-1||aa.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1){return X509.getPublicKeyFromCertPEM(aa)}if(aa.indexOf("-END PUBLIC KEY-")!=-1){return KEYUTIL.getKeyFromPublicPKCS8PEM(aa)}if(aa.indexOf("-END RSA PRIVATE KEY-")!=-1&&aa.indexOf("4,ENCRYPTED")==-1){var Z=P.pemToHex(aa,"RSA PRIVATE KEY");return KEYUTIL.getKey(Z,null,"pkcs5prv")}if(aa.indexOf("-END DSA PRIVATE KEY-")!=-1&&aa.indexOf("4,ENCRYPTED")==-1){var N=P.pemToHex(aa,"DSA PRIVATE KEY");var R=ag(N,0,[1],"02");var U=ag(N,0,[2],"02");var x=ag(N,0,[3],"02");var X=ag(N,0,[4],"02");var T=ag(N,0,[5],"02");var h=new V();h.setPrivate(new BigInteger(R,16),new BigInteger(U,16),new BigInteger(x,16),new BigInteger(X,16),new BigInteger(T,16));return h}if(aa.indexOf("-END PRIVATE KEY-")!=-1){return KEYUTIL.getKeyFromPlainPrivatePKCS8PEM(aa)}if(aa.indexOf("-END RSA PRIVATE KEY-")!=-1&&aa.indexOf("4,ENCRYPTED")!=-1){return KEYUTIL.getRSAKeyFromEncryptedPKCS5PEM(aa,ab)}if(aa.indexOf("-END EC PRIVATE KEY-")!=-1&&aa.indexOf("4,ENCRYPTED")!=-1){var N=KEYUTIL.getDecryptedKeyHex(aa,ab);var h=ag(N,0,[1],"04");var ae=ag(N,0,[2,0],"06");var g=ag(N,0,[3,0],"03").substr(2);var af="";if(KJUR.crypto.OID.oidhex2name[ae]!==undefined){af=KJUR.crypto.OID.oidhex2name[ae]}else{throw"undefined OID(hex) in KJUR.crypto.OID: "+ae}var ac=new ad({curve:af});ac.setPublicKeyHex(g);ac.setPrivateKeyHex(h);ac.isPublic=false;return ac}if(aa.indexOf("-END DSA PRIVATE KEY-")!=-1&&aa.indexOf("4,ENCRYPTED")!=-1){var N=KEYUTIL.getDecryptedKeyHex(aa,ab);var R=ag(N,0,[1],"02");var U=ag(N,0,[2],"02");var x=ag(N,0,[3],"02");var X=ag(N,0,[4],"02");var T=ag(N,0,[5],"02");var h=new V();h.setPrivate(new BigInteger(R,16),new BigInteger(U,16),new BigInteger(x,16),new BigInteger(X,16),new BigInteger(T,16));return h}if(aa.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1){return KEYUTIL.getKeyFromEncryptedPKCS8PEM(aa,ab)}throw"not supported argument"};KEYUTIL.generateKeypair=function(w,u){if(w=="RSA"){var v=u;var o=new RSAKey();o.generate(v,"10001");o.isPrivate=true;o.isPublic=true;var q=new RSAKey();var r=o.n.toString(16);var n=o.e.toString(16);q.setPublic(r,n);q.isPrivate=false;q.isPublic=true;var l={};l.prvKeyObj=o;l.pubKeyObj=q;return l}else{if(w=="EC"){var s=u;var p=new KJUR.crypto.ECDSA({curve:s});var m=p.generateKeyPairHex();var o=new KJUR.crypto.ECDSA({curve:s});o.setPublicKeyHex(m.ecpubhex);o.setPrivateKeyHex(m.ecprvhex);o.isPrivate=true;o.isPublic=false;var q=new KJUR.crypto.ECDSA({curve:s});q.setPublicKeyHex(m.ecpubhex);q.isPrivate=false;q.isPublic=true;var l={};l.prvKeyObj=o;l.pubKeyObj=q;return l}else{throw"unknown algorithm: "+w}}};KEYUTIL.getPEM=function(Q,y,C,K,H){var s=KJUR.asn1;var w=KJUR.crypto;function B(c){var b=KJUR.asn1.ASN1Util.newObject({seq:[{"int":0},{"int":{bigint:c.n}},{"int":c.e},{"int":{bigint:c.d}},{"int":{bigint:c.p}},{"int":{bigint:c.q}},{"int":{bigint:c.dmp1}},{"int":{bigint:c.dmq1}},{"int":{bigint:c.coeff}}]});return b}function A(b){var c=KJUR.asn1.ASN1Util.newObject({seq:[{"int":1},{octstr:{hex:b.prvKeyHex}},{tag:["a0",true,{oid:{name:b.curveName}}]},{tag:["a1",true,{bitstr:{hex:"00"+b.pubKeyHex}}]}]});return c}function D(c){var b=KJUR.asn1.ASN1Util.newObject({seq:[{"int":0},{"int":{bigint:c.p}},{"int":{bigint:c.q}},{"int":{bigint:c.g}},{"int":{bigint:c.y}},{"int":{bigint:c.x}}]});return b}if(((typeof RSAKey!="undefined"&&Q instanceof RSAKey)||(typeof w.DSA!="undefined"&&Q instanceof w.DSA)||(typeof w.ECDSA!="undefined"&&Q instanceof w.ECDSA))&&Q.isPublic==true&&(y===undefined||y=="PKCS8PUB")){var x=new KJUR.asn1.x509.SubjectPublicKeyInfo(Q);var E=x.getEncodedHex();return s.ASN1Util.getPEMStringFromHex(E,"PUBLIC KEY")}if(y=="PKCS1PRV"&&typeof RSAKey!="undefined"&&Q instanceof RSAKey&&(C===undefined||C==null)&&Q.isPrivate==true){var x=B(Q);var E=x.getEncodedHex();return s.ASN1Util.getPEMStringFromHex(E,"RSA PRIVATE KEY")}if(y=="PKCS1PRV"&&typeof RSAKey!="undefined"&&Q instanceof KJUR.crypto.ECDSA&&(C===undefined||C==null)&&Q.isPrivate==true){var L=new KJUR.asn1.DERObjectIdentifier({name:Q.curveName});var F=L.getEncodedHex();var M=A(Q);var G=M.getEncodedHex();var I="";I+=s.ASN1Util.getPEMStringFromHex(F,"EC PARAMETERS");I+=s.ASN1Util.getPEMStringFromHex(G,"EC PRIVATE KEY");return I}if(y=="PKCS1PRV"&&typeof KJUR.crypto.DSA!="undefined"&&Q instanceof KJUR.crypto.DSA&&(C===undefined||C==null)&&Q.isPrivate==true){var x=D(Q);var E=x.getEncodedHex();return s.ASN1Util.getPEMStringFromHex(E,"DSA PRIVATE KEY")}if(y=="PKCS5PRV"&&typeof RSAKey!="undefined"&&Q instanceof RSAKey&&(C!==undefined&&C!=null)&&Q.isPrivate==true){var x=B(Q);var E=x.getEncodedHex();if(K===undefined){K="DES-EDE3-CBC"}return this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",E,C,K)}if(y=="PKCS5PRV"&&typeof KJUR.crypto.ECDSA!="undefined"&&Q instanceof KJUR.crypto.ECDSA&&(C!==undefined&&C!=null)&&Q.isPrivate==true){var x=A(Q);var E=x.getEncodedHex();if(K===undefined){K="DES-EDE3-CBC"}return this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",E,C,K)}if(y=="PKCS5PRV"&&typeof KJUR.crypto.DSA!="undefined"&&Q instanceof KJUR.crypto.DSA&&(C!==undefined&&C!=null)&&Q.isPrivate==true){var x=D(Q);var E=x.getEncodedHex();if(K===undefined){K="DES-EDE3-CBC"}return this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",E,C,K)}var J=function(c,d){var e=P(c,d);var b=new KJUR.asn1.ASN1Util.newObject({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:e.pbkdf2Salt}},{"int":e.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:e.encryptionSchemeIV}}]}]}]},{octstr:{hex:e.ciphertext}}]});return b.getEncodedHex()};var P=function(b,j){var h=100;var c=CryptoJS.lib.WordArray.random(8);var d="DES-EDE3-CBC";var k=CryptoJS.lib.WordArray.random(8);var g=CryptoJS.PBKDF2(j,c,{keySize:192/32,iterations:h});var f=CryptoJS.enc.Hex.parse(b);var e=CryptoJS.TripleDES.encrypt(f,g,{iv:k})+"";var i={};i.ciphertext=e;i.pbkdf2Salt=CryptoJS.enc.Hex.stringify(c);i.pbkdf2Iter=h;i.encryptionSchemeAlg=d;i.encryptionSchemeIV=CryptoJS.enc.Hex.stringify(k);return i};if(y=="PKCS8PRV"&&typeof RSAKey!="undefined"&&Q instanceof RSAKey&&Q.isPrivate==true){var N=B(Q);var O=N.getEncodedHex();var x=KJUR.asn1.ASN1Util.newObject({seq:[{"int":0},{seq:[{oid:{name:"rsaEncryption"}},{"null":true}]},{octstr:{hex:O}}]});var E=x.getEncodedHex();if(C===undefined||C==null){return s.ASN1Util.getPEMStringFromHex(E,"PRIVATE KEY")}else{var G=J(E,C);return s.ASN1Util.getPEMStringFromHex(G,"ENCRYPTED PRIVATE KEY")}}if(y=="PKCS8PRV"&&typeof KJUR.crypto.ECDSA!="undefined"&&Q instanceof KJUR.crypto.ECDSA&&Q.isPrivate==true){var N=new KJUR.asn1.ASN1Util.newObject({seq:[{"int":1},{octstr:{hex:Q.prvKeyHex}},{tag:["a1",true,{bitstr:{hex:"00"+Q.pubKeyHex}}]}]});var O=N.getEncodedHex();var x=KJUR.asn1.ASN1Util.newObject({seq:[{"int":0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:Q.curveName}}]},{octstr:{hex:O}}]});var E=x.getEncodedHex();if(C===undefined||C==null){return s.ASN1Util.getPEMStringFromHex(E,"PRIVATE KEY")}else{var G=J(E,C);return s.ASN1Util.getPEMStringFromHex(G,"ENCRYPTED PRIVATE KEY")}}if(y=="PKCS8PRV"&&typeof KJUR.crypto.DSA!="undefined"&&Q instanceof KJUR.crypto.DSA&&Q.isPrivate==true){var N=new KJUR.asn1.DERInteger({bigint:Q.x});var O=N.getEncodedHex();var x=KJUR.asn1.ASN1Util.newObject({seq:[{"int":0},{seq:[{oid:{name:"dsa"}},{seq:[{"int":{bigint:Q.p}},{"int":{bigint:Q.q}},{"int":{bigint:Q.g}}]}]},{octstr:{hex:O}}]});var E=x.getEncodedHex();if(C===undefined||C==null){return s.ASN1Util.getPEMStringFromHex(E,"PRIVATE KEY")}else{var G=J(E,C);return s.ASN1Util.getPEMStringFromHex(G,"ENCRYPTED PRIVATE KEY")}}throw"unsupported object nor format"};KEYUTIL.getKeyFromCSRPEM=function(d){var e=ASN1HEX.pemToHex(d,"CERTIFICATE REQUEST");var f=KEYUTIL.getKeyFromCSRHex(e);return f};KEYUTIL.getKeyFromCSRHex=function(e){var f=KEYUTIL.parseCSRHex(e);var d=KEYUTIL.getKey(f.p8pubkeyhex,null,"pkcs8pub");return d};KEYUTIL.parseCSRHex=function(o){var k=ASN1HEX;var m=k.getChildIdx;var p=k.getTLV;var h={};var l=o;if(l.substr(0,2)!="30"){throw"malformed CSR(code:001)"}var n=m(l,0);if(n.length<1){throw"malformed CSR(code:002)"}if(l.substr(n[0],2)!="30"){throw"malformed CSR(code:003)"}var j=m(l,n[0]);if(j.length<3){throw"malformed CSR(code:004)"}h.p8pubkeyhex=p(l,j[2]);return h};KEYUTIL.getJWKFromKey=function(g){var e={};if(g instanceof RSAKey&&g.isPrivate){e.kty="RSA";e.n=hextob64u(g.n.toString(16));e.e=hextob64u(g.e.toString(16));e.d=hextob64u(g.d.toString(16));e.p=hextob64u(g.p.toString(16));e.q=hextob64u(g.q.toString(16));e.dp=hextob64u(g.dmp1.toString(16));e.dq=hextob64u(g.dmq1.toString(16));e.qi=hextob64u(g.coeff.toString(16));return e}else{if(g instanceof RSAKey&&g.isPublic){e.kty="RSA";e.n=hextob64u(g.n.toString(16));e.e=hextob64u(g.e.toString(16));return e}else{if(g instanceof KJUR.crypto.ECDSA&&g.isPrivate){var f=g.getShortNISTPCurveName();if(f!=="P-256"&&f!=="P-384"){throw"unsupported curve name for JWT: "+f}var h=g.getPublicKeyXYHex();e.kty="EC";e.crv=f;e.x=hextob64u(h.x);e.y=hextob64u(h.y);e.d=hextob64u(g.prvKeyHex);return e}else{if(g instanceof KJUR.crypto.ECDSA&&g.isPublic){var f=g.getShortNISTPCurveName();if(f!=="P-256"&&f!=="P-384"){throw"unsupported curve name for JWT: "+f}var h=g.getPublicKeyXYHex();e.kty="EC";e.crv=f;e.x=hextob64u(h.x);e.y=hextob64u(h.y);return e}}}}throw"not supported key object"};
/*! rsapem-1.2.1.js (c) 2012-2017 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;RSAKey.pemToBase64=function(c){var d=c;d=d.replace("-----BEGIN RSA PRIVATE KEY-----","");d=d.replace("-----END RSA PRIVATE KEY-----","");d=d.replace(/[ \n]+/g,"");return d};RSAKey.getPosArrayOfChildrenFromHex=function(b){return ASN1HEX.getChildIdx(b,0)};RSAKey.getHexValueArrayOfChildrenFromHex=function(x){var o=ASN1HEX;var u=o.getV;var r=RSAKey.getPosArrayOfChildrenFromHex(x);var y=u(x,r[0]);var s=u(x,r[1]);var C=u(x,r[2]);var B=u(x,r[3]);var v=u(x,r[4]);var w=u(x,r[5]);var p=u(x,r[6]);var q=u(x,r[7]);var A=u(x,r[8]);var r=new Array();r.push(y,s,C,B,v,w,p,q,A);return r};RSAKey.prototype.readPrivateKeyFromPEMString=function(g){var i=RSAKey.pemToBase64(g);var h=b64tohex(i);var f=RSAKey.getHexValueArrayOfChildrenFromHex(h);this.setPrivateEx(f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8])};RSAKey.prototype.readPrivateKeyFromASN1HexString=function(b){this.readPKCS5PrvKeyHex(b)};RSAKey.prototype.readPKCS5PrvKeyHex=function(e){var d=RSAKey.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8])};RSAKey.prototype.readPKCS8PrvKeyHex=function(u){var w,p,n,x,y,s,v,o;var h=ASN1HEX;var r=h.getVbyList;if(h.isASN1HEX(u)===false){throw"not ASN.1 hex string"}try{w=r(u,0,[2,0,1],"02");p=r(u,0,[2,0,2],"02");n=r(u,0,[2,0,3],"02");x=r(u,0,[2,0,4],"02");y=r(u,0,[2,0,5],"02");s=r(u,0,[2,0,6],"02");v=r(u,0,[2,0,7],"02");o=r(u,0,[2,0,8],"02")}catch(q){throw"malformed PKCS#8 plain RSA private key"}this.setPrivateEx(w,p,n,x,y,s,v,o)};RSAKey.prototype.readPKCS5PubKeyHex=function(l){var j=ASN1HEX;var g=j.getV;if(j.isASN1HEX(l)===false){throw"keyHex is not ASN.1 hex string"}var h=j.getChildIdx(l,0);if(h.length!==2||l.substr(h[0],2)!=="02"||l.substr(h[1],2)!=="02"){throw"wrong hex for PKCS#5 public key"}var i=g(l,h[0]);var k=g(l,h[1]);this.setPublic(i,k)};RSAKey.prototype.readPKCS8PubKeyHex=function(d){var f=ASN1HEX;if(f.isASN1HEX(d)===false){throw"not ASN.1 hex string"}if(f.getTLVbyList(d,0,[0,0])!=="06092a864886f70d010101"){throw"not PKCS8 RSA public key"}var e=f.getTLVbyList(d,0,[1,0]);this.readPKCS5PubKeyHex(e)};RSAKey.prototype.readCertPubKeyHex=function(e,g){var f,h;f=new X509();f.readCertHex(e);h=f.getPublicKeyHex();this.readPKCS8PubKeyHex(h)};
/*! rsasign-1.2.7.js (c) 2012 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;var _RE_HEXDECONLY=new RegExp("");_RE_HEXDECONLY.compile("[^0-9a-f]","gi");function _rsasign_getHexPaddedDigestInfoForString(i,h,g){var f=function(b){return KJUR.crypto.Util.hashString(b,g)};var j=f(i);return KJUR.crypto.Util.getPaddedDigestInfoHex(j,g,h)}function _zeroPaddingOfSignature(h,i){var j="";var g=i/4-h.length;for(var f=0;f<g;f++){j=j+"0"}return j+h}function _rsasign_signString(g,f){var e=function(b){return KJUR.crypto.Util.hashString(b,f)};var h=e(g);return this.signWithMessageHash(h,f)}function _rsasign_signWithMessageHash(j,l){var i=KJUR.crypto.Util.getPaddedDigestInfoHex(j,l,this.n.bitLength());var g=parseBigInt(i,16);var k=this.doPrivate(g);var h=k.toString(16);return _zeroPaddingOfSignature(h,this.n.bitLength())}function _rsasign_signStringWithSHA1(b){return _rsasign_signString.call(this,b,"sha1")}function _rsasign_signStringWithSHA256(b){return _rsasign_signString.call(this,b,"sha256")}function pss_mgf1_str(j,g,h){var f="",i=0;while(f.length<g){f+=hextorstr(h(rstrtohex(j+String.fromCharCode.apply(String,[(i&4278190080)>>24,(i&16711680)>>16,(i&65280)>>8,i&255]))));i+=1}return f}function _rsasign_signStringPSS(h,g,i){var j=function(b){return KJUR.crypto.Util.hashHex(b,g)};var f=j(rstrtohex(h));if(i===undefined){i=-1}return this.signWithMessageHashPSS(f,g,i)}function _rsasign_signWithMessageHashPSS(w,H,x){var G=hextorstr(w);var B=G.length;var v=this.n.bitLength()-1;var F=Math.ceil(v/8);var E;var s=function(b){return KJUR.crypto.Util.hashHex(b,H)};if(x===-1||x===undefined){x=B}else{if(x===-2){x=F-B-2}else{if(x<-2){throw"invalid salt length"}}}if(F<(B+x+2)){throw"data too long"}var C="";if(x>0){C=new Array(x);new SecureRandom().nextBytes(C);C=String.fromCharCode.apply(String,C)}var u=hextorstr(s(rstrtohex("\x00\x00\x00\x00\x00\x00\x00\x00"+G+C)));var y=[];for(E=0;E<F-x-B-2;E+=1){y[E]=0}var D=String.fromCharCode.apply(String,y)+"\x01"+C;var A=pss_mgf1_str(u,D.length,s);var i=[];for(E=0;E<D.length;E+=1){i[E]=D.charCodeAt(E)^A.charCodeAt(E)}var r=(65280>>(8*F-v))&255;i[0]&=~r;for(E=0;E<B;E++){i.push(u.charCodeAt(E))}i.push(188);return _zeroPaddingOfSignature(this.doPrivate(new BigInteger(i)).toString(16),this.n.bitLength())}function _rsasign_getDecryptSignatureBI(g,i,j){var f=new RSAKey();f.setPublic(i,j);var h=f.doPublic(g);return h}function _rsasign_getHexDigestInfoFromSig(g,j,f){var h=_rsasign_getDecryptSignatureBI(g,j,f);var i=h.toString(16).replace(/^1f+00/,"");return i}function _rsasign_getAlgNameAndHashFromHexDisgestInfo(h){for(var i in KJUR.crypto.Util.DIGESTINFOHEAD){var j=KJUR.crypto.Util.DIGESTINFOHEAD[i];var g=j.length;if(h.substring(0,g)==j){var k=[i,h.substring(g)];return k}}return[]}function _rsasign_verifySignatureWithArgs(o,s,n,k){var p=_rsasign_getHexDigestInfoFromSig(s,n,k);var m=_rsasign_getAlgNameAndHashFromHexDisgestInfo(p);if(m.length==0){return false}var q=m[0];var l=m[1];var u=function(b){return KJUR.crypto.Util.hashString(b,q)};var r=u(o);return(l==r)}function _rsasign_verifyHexSignatureForMessage(h,e){var g=parseBigInt(h,16);var f=_rsasign_verifySignatureWithArgs(e,g,this.n.toString(16),this.e.toString(16));return f}function _rsasign_verifyString(o,k){k=k.replace(_RE_HEXDECONLY,"");k=k.replace(/[ \n]+/g,"");var s=parseBigInt(k,16);if(s.bitLength()>this.n.bitLength()){return 0}var l=this.doPublic(s);var p=l.toString(16).replace(/^1f+00/,"");var n=_rsasign_getAlgNameAndHashFromHexDisgestInfo(p);if(n.length==0){return false}var q=n[0];var m=n[1];var u=function(b){return KJUR.crypto.Util.hashString(b,q)};var r=u(o);return(m==r)}function _rsasign_verifyWithMessageHash(n,j){j=j.replace(_RE_HEXDECONLY,"");j=j.replace(/[ \n]+/g,"");var i=parseBigInt(j,16);if(i.bitLength()>this.n.bitLength()){return 0}var k=this.doPublic(i);var l=k.toString(16).replace(/^1f+00/,"");var p=_rsasign_getAlgNameAndHashFromHexDisgestInfo(l);if(p.length==0){return false}var o=p[0];var m=p[1];return(m==n)}function _rsasign_verifyStringPSS(l,g,h,i){var j=function(b){return KJUR.crypto.Util.hashHex(b,h)};var k=j(rstrtohex(l));if(i===undefined){i=-1}return this.verifyWithMessageHashPSS(k,g,h,i)}function _rsasign_verifyWithMessageHashPSS(G,i,B,J){var C=new BigInteger(i,16);if(C.bitLength()>this.n.bitLength()){return false}var u=function(b){return KJUR.crypto.Util.hashHex(b,B)};var D=hextorstr(G);var E=D.length;var F=this.n.bitLength()-1;var A=Math.ceil(F/8);var v;if(J===-1||J===undefined){J=E}else{if(J===-2){J=A-E-2}else{if(J<-2){throw"invalid salt length"}}}if(A<(E+J+2)){throw"data too long"}var L=this.doPublic(C).toByteArray();for(v=0;v<L.length;v+=1){L[v]&=255}while(L.length<A){L.unshift(0)}if(L[A-1]!==188){throw"encoded message does not end in 0xbc"}L=String.fromCharCode.apply(String,L);var I=L.substr(0,A-E-1);var H=L.substr(I.length,E);var w=(65280>>(8*A-F))&255;if((I.charCodeAt(0)&w)!==0){throw"bits beyond keysize not zero"}var y=pss_mgf1_str(H,I.length,u);var x=[];for(v=0;v<I.length;v+=1){x[v]=I.charCodeAt(v)^y.charCodeAt(v)}x[0]&=~w;var K=A-E-J-2;for(v=0;v<K;v+=1){if(x[v]!==0){throw"leftmost octets not zero"}}if(x[K]!==1){throw"0x01 marker not found"}return H===hextorstr(u(rstrtohex("\x00\x00\x00\x00\x00\x00\x00\x00"+D+String.fromCharCode.apply(String,x.slice(-J)))))}RSAKey.prototype.signWithMessageHash=_rsasign_signWithMessageHash;RSAKey.prototype.signString=_rsasign_signString;RSAKey.prototype.signStringWithSHA1=_rsasign_signStringWithSHA1;RSAKey.prototype.signStringWithSHA256=_rsasign_signStringWithSHA256;RSAKey.prototype.sign=_rsasign_signString;RSAKey.prototype.signWithSHA1=_rsasign_signStringWithSHA1;RSAKey.prototype.signWithSHA256=_rsasign_signStringWithSHA256;RSAKey.prototype.signWithMessageHashPSS=_rsasign_signWithMessageHashPSS;RSAKey.prototype.signStringPSS=_rsasign_signStringPSS;RSAKey.prototype.signPSS=_rsasign_signStringPSS;RSAKey.SALT_LEN_HLEN=-1;RSAKey.SALT_LEN_MAX=-2;RSAKey.prototype.verifyWithMessageHash=_rsasign_verifyWithMessageHash;RSAKey.prototype.verifyString=_rsasign_verifyString;RSAKey.prototype.verifyHexSignatureForMessage=_rsasign_verifyHexSignatureForMessage;RSAKey.prototype.verify=_rsasign_verifyString;RSAKey.prototype.verifyHexSignatureForByteArrayMessage=_rsasign_verifyHexSignatureForMessage;RSAKey.prototype.verifyWithMessageHashPSS=_rsasign_verifyWithMessageHashPSS;RSAKey.prototype.verifyStringPSS=_rsasign_verifyStringPSS;RSAKey.prototype.verifyPSS=_rsasign_verifyStringPSS;RSAKey.SALT_LEN_RECOVER=-2;
/*! x509-1.1.14.js (c) 2012-2017 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;function X509(){var k=ASN1HEX;var u=X509;var l=k.getChildIdx;var n=k.getV;var s=k.getTLV;var p=k.getVbyList;var r=k.getTLVbyList;var o=k.getIdxbyList;var q=k.getVidx;var m=k.oidname;this.hex=null;this.version=0;this.foffset=0;this.aExtInfo=null;this.subjectPublicKeyRSA=null;this.subjectPublicKeyRSA_hN=null;this.subjectPublicKeyRSA_hE=null;this.getVersion=function(){if(this.hex===null||this.version!==0){return this.version}if(r(this.hex,0,[0,0])!=="a003020102"){this.version=1;this.foffset=-1;return 1}this.version=3;return 3};this.getSerialNumberHex=function(){return p(this.hex,0,[0,1+this.foffset],"02")};this.getSignatureAlgorithmField=function(){return m(p(this.hex,0,[0,2+this.foffset,0],"06"))};this.getIssuerHex=function(){return r(this.hex,0,[0,3+this.foffset],"30")};this.getIssuerString=function(){return u.hex2dn(this.getIssuerHex())};this.getSubjectHex=function(){return r(this.hex,0,[0,5+this.foffset],"30")};this.getSubjectString=function(){return u.hex2dn(this.getSubjectHex())};this.getNotBefore=function(){var b=p(this.hex,0,[0,4+this.foffset,0]);b=b.replace(/(..)/g,"%$1");b=decodeURIComponent(b);return b};this.getNotAfter=function(){var b=p(this.hex,0,[0,4+this.foffset,1]);b=b.replace(/(..)/g,"%$1");b=decodeURIComponent(b);return b};this.getPublicKeyHex=function(){return k.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")};this.getPublicKeyIdx=function(){return o(this.hex,0,[0,6+this.foffset],"30")};this.getPublicKey=function(){return KEYUTIL.getKey(this.getPublicKeyHex(),null,"pkcs8pub")};this.getSignatureAlgorithmName=function(){return m(p(this.hex,0,[1,0],"06"))};this.getSignatureValueHex=function(){return p(this.hex,0,[2],"03",true)};this.verifySignature=function(b){var f=this.getSignatureAlgorithmName();var d=this.getSignatureValueHex();var c=r(this.hex,0,[0],"30");var e=new KJUR.crypto.Signature({alg:f});e.init(b);e.updateHex(c);return e.verify(d)};this.parseExt=function(){if(this.version!==3){return -1}var g=o(this.hex,0,[0,7,0],"30");var c=l(this.hex,g);this.aExtInfo=new Array();for(var b=0;b<c.length;b++){var f={};f.critical=false;var d=l(this.hex,c[b]);var e=0;if(d.length===3){f.critical=true;e=1}f.oid=k.hextooidstr(p(this.hex,c[b],[0],"06"));var h=o(this.hex,c[b],[1+e]);f.vidx=q(this.hex,h);this.aExtInfo.push(f)}};this.getExtInfo=function(b){var d=this.aExtInfo;var e=b;if(!b.match(/^[0-9.]+$/)){e=KJUR.asn1.x509.OID.name2oid(b)}if(e===""){return undefined}for(var c=0;c<d.length;c++){if(d[c].oid===e){return d[c]}}return undefined};this.getExtBasicConstraints=function(){var b=this.getExtInfo("basicConstraints");if(b===undefined){return b}var d=n(this.hex,b.vidx);if(d===""){return{}}if(d==="0101ff"){return{cA:true}}if(d.substr(0,8)==="0101ff02"){var e=n(d,6);var c=parseInt(e,16);return{cA:true,pathLen:c}}throw"basicConstraints parse error"};this.getExtKeyUsageBin=function(){var e=this.getExtInfo("keyUsage");if(e===undefined){return""}var c=n(this.hex,e.vidx);if(c.length%2!=0||c.length<=2){throw"malformed key usage value"}var d=parseInt(c.substr(0,2));var b=parseInt(c.substr(2),16).toString(2);return b.substr(0,b.length-d)};this.getExtKeyUsageString=function(){var b=this.getExtKeyUsageBin();var d=new Array();for(var c=0;c<b.length;c++){if(b.substr(c,1)=="1"){d.push(X509.KEYUSAGE_NAME[c])}}return d.join(",")};this.getExtSubjectKeyIdentifier=function(){var b=this.getExtInfo("subjectKeyIdentifier");if(b===undefined){return b}return n(this.hex,b.vidx)};this.getExtAuthorityKeyIdentifier=function(){var e=this.getExtInfo("authorityKeyIdentifier");if(e===undefined){return e}var d={};var f=s(this.hex,e.vidx);var c=l(f,0);for(var b=0;b<c.length;b++){if(f.substr(c[b],2)==="80"){d.kid=n(f,c[b])}}return d};this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(e===undefined){return e}var d=new Array();var f=s(this.hex,e.vidx);if(f===""){return d}var c=l(f,0);for(var b=0;b<c.length;b++){d.push(m(n(f,c[b])))}return d};this.getExtSubjectAltName=function(){var e=this.getExtInfo("subjectAltName");if(e===undefined){return e}var d=new Array();var f=s(this.hex,e.vidx);var c=l(f,0);for(var g=0;g<c.length;g++){if(f.substr(c[g],2)==="82"){var b=hextoutf8(n(f,c[g]));d.push(b)}}return d};this.getExtCRLDistributionPointsURI=function(){var f=this.getExtInfo("cRLDistributionPoints");if(f===undefined){return f}var d=new Array();var c=l(this.hex,f.vidx);for(var b=0;b<c.length;b++){var e=p(this.hex,c[b],[0,0,0],"86");var g=hextoutf8(e);d.push(g)}return d};this.getExtAIAInfo=function(){var f=this.getExtInfo("authorityInfoAccess");if(f===undefined){return f}var d={ocsp:[],caissuer:[]};var c=l(this.hex,f.vidx);for(var b=0;b<c.length;b++){var e=p(this.hex,c[b],[0],"06");var g=p(this.hex,c[b],[1],"86");if(e==="2b06010505073001"){d.ocsp.push(hextoutf8(g))}if(e==="2b06010505073002"){d.caissuer.push(hextoutf8(g))}}return d};this.getExtCertificatePolicies=function(){var f=this.getExtInfo("certificatePolicies");if(f===undefined){return f}var i=s(this.hex,f.vidx);var j=[];var b=l(i,0);for(var c=0;c<b.length;c++){var v={};var g=l(i,b[c]);v.id=m(n(i,g[0]));if(g.length===2){var h=l(i,g[1]);for(var d=0;d<h.length;d++){var e=p(i,h[d],[0],"06");if(e==="2b06010505070201"){v.cps=hextoutf8(p(i,h[d],[1]))}else{if(e==="2b06010505070202"){v.unotice=hextoutf8(p(i,h[d],[1,0]))}}}}j.push(v)}return j};this.readCertPEM=function(b){this.readCertHex(k.pemToHex(b))};this.readCertHex=function(c){this.hex=c;this.getVersion();this.parseExt();try{pubkey=this.getPublicKey();if(pubkey instanceof RSAKey){this.subjectPublicKeyRSA=pubkey;this.subjectPublicKeyRSA_hN=hextoposhex(pubkey.n.toString(16));this.subjectPublicKeyRSA_hE=hextoposhex(pubkey.e.toString(16))}}catch(b){}};this.readCertPEMWithoutRSAInit=function(c){var b=k.pemToHex(c);var d=u.getPublicKeyHexArrayFromCertHex(b);if(typeof this.subjectPublicKeyRSA.setPublic==="function"){this.subjectPublicKeyRSA.setPublic(d[0],d[1])}this.subjectPublicKeyRSA_hN=d[0];this.subjectPublicKeyRSA_hE=d[1];this.hex=b};this.getInfo=function(){var h=X509;var j,c,B;j="Basic Fields\n";j+="  serial number: "+this.getSerialNumberHex()+"\n";j+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n";j+="  issuer: "+this.getIssuerString()+"\n";j+="  notBefore: "+this.getNotBefore()+"\n";j+="  notAfter: "+this.getNotAfter()+"\n";j+="  subject: "+this.getSubjectString()+"\n";j+="  subject public key info: \n";c=this.getPublicKey();j+="    key algorithm: "+c.type+"\n";if(c.type==="RSA"){j+="    n="+hextoposhex(c.n.toString(16)).substr(0,16)+"...\n";j+="    e="+hextoposhex(c.e.toString(16))+"\n"}j+="X509v3 Extensions:\n";B=this.aExtInfo;for(var e=0;e<B.length;e++){var g=B[e];var A=KJUR.asn1.x509.OID.oid2name(g.oid);if(A===""){A=g.oid}var D="";if(g.critical===true){D="CRITICAL"}j+="  "+A+" "+D+":\n";if(A==="basicConstraints"){var b=this.getExtBasicConstraints();if(b.cA===undefined){j+="    {}\n"}else{j+="    cA=true";if(b.pathLen!==undefined){j+=", pathLen="+b.pathLen}j+="\n"}}else{if(A==="keyUsage"){j+="    "+this.getExtKeyUsageString()+"\n"}else{if(A==="subjectKeyIdentifier"){j+="    "+this.getExtSubjectKeyIdentifier()+"\n"}else{if(A==="authorityKeyIdentifier"){var i=h.getExtAuthorityKeyIdentifier(this.hex);if(i.kid!==undefined){j+="    kid="+i.kid+"\n"}}else{if(A==="extKeyUsage"){var E=this.getExtExtKeyUsageName();j+="    "+E.join(", ")+"\n"}else{if(A==="subjectAltName"){var d=this.getExtSubjectAltName();j+="    "+d.join(", ")+"\n"}else{if(A==="cRLDistributionPoints"){var C=this.getExtCRLDistributionPointsURI();j+="    "+C+"\n"}else{if(A==="authorityInfoAccess"){var f=this.getExtAIAInfo();if(f.ocsp!==undefined){j+="    ocsp: "+f.ocsp.join(",")+"\n"}if(f.caissuer!==undefined){j+="    caissuer: "+f.caissuer.join(",")+"\n"}}}}}}}}}}j+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n";j+="signature: "+this.getSignatureValueHex().substr(0,16)+"...\n";return j}}X509.pemToBase64=function(d){var c=d;c=c.replace("-----BEGIN CERTIFICATE-----","");c=c.replace("-----END CERTIFICATE-----","");c=c.replace(/[ \n]+/g,"");return c};X509.pemToHex=function(b){return ASN1HEX.pemToHex(b)};X509.getSubjectPublicKeyPosFromCertHex=function(h){var i=X509.getSubjectPublicKeyInfoPosFromCertHex(h);if(i==-1){return -1}var g=ASN1HEX.getChildIdx(h,i);if(g.length!=2){return -1}var j=g[1];if(h.substr(j,2)!="03"){return -1}var k=ASN1HEX.getVidx(h,j);if(h.substr(k,2)!="00"){return -1}return k+2};X509.getSubjectPublicKeyInfoPosFromCertHex=function(c){var d=new X509();d.readCertHex(c);return d.getPublicKeyIdx()};X509.getPublicKeyHexArrayFromCertHex=function(i){var l=ASN1HEX;var j,h,k,m;j=X509.getSubjectPublicKeyPosFromCertHex(i);h=l.getChildIdx(i,j);if(h.length!=2){return[]}k=l.getV(i,h[0]);m=l.getV(i,h[1]);if(k!=null&&m!=null){return[k,m]}else{return[]}};X509.getHexTbsCertificateFromCert=function(c){var d=ASN1HEX.getVidx(c,0);return d};X509.getPublicKeyHexArrayFromCertPEM=function(g){var f=ASN1HEX.pemToHex(g);var e=X509.getPublicKeyHexArrayFromCertHex(f);return e};X509.hex2dn=function(h,g){if(g===undefined){g=0}if(h.substr(g,2)!=="30"){throw"malformed DN"}var k=new Array();var j=ASN1HEX.getChildIdx(h,g);for(var i=0;i<j.length;i++){k.push(X509.hex2rdn(h,j[i]))}k=k.map(function(b){return b.replace("/","\\/")});return"/"+k.join("/")};X509.hex2rdn=function(h,g){if(g===undefined){g=0}if(h.substr(g,2)!=="31"){throw"malformed RDN"}var k=new Array();var j=ASN1HEX.getChildIdx(h,g);for(var i=0;i<j.length;i++){k.push(X509.hex2attrTypeValue(h,j[i]))}k=k.map(function(b){return b.replace("+","\\+")});return k.join("+")};X509.hex2attrTypeValue=function(q,l){var k=ASN1HEX;var m=k.getV;if(l===undefined){l=0}if(q.substr(l,2)!=="30"){throw"malformed attribute type and value"}var n=k.getChildIdx(q,l);if(n.length!==2||q.substr(n[0],2)!=="06"){"malformed attribute type and value"}var s=m(q,n[0]);var o=KJUR.asn1.ASN1Util.oidHexToInt(s);var p=KJUR.asn1.x509.OID.oid2atype(o);var u=m(q,n[1]);var r=hextorstr(u);return p+"="+r};X509.getPublicKeyFromCertHex=function(c){var d=new X509();d.readCertHex(c);return d.getPublicKey()};X509.getPublicKeyFromCertPEM=function(c){var d=new X509();d.readCertPEM(c);return d.getPublicKey()};X509.getPublicKeyInfoPropOfCertPEM=function(n){var l=ASN1HEX;var j=l.getVbyList;var h={};var i,k,m;h.algparam=null;i=new X509();i.readCertPEM(n);k=i.getPublicKeyHex();h.keyhex=j(k,0,[1],"03").substr(2);h.algoid=j(k,0,[0,0],"06");if(h.algoid==="2a8648ce3d0201"){h.algparam=j(k,0,[0,1],"06")}return h};X509.getPublicKeyInfoPosOfCertHEX=function(c){var d=new X509();d.readCertHex(c);return d.getPublicKeyIdx()};X509.getV3ExtInfoListOfCertHex=function(k){var m=ASN1HEX;var j=m.getIdxbyList(k,0,[0,7,0],"30");var l=m.getChildIdx(k,j);var n=l.length;var h=new Array(n);for(var i=0;i<n;i++){h[i]=X509.getV3ExtItemInfo_AtObj(k,l[i])}return h};X509.getV3ExtItemInfo_AtObj=function(k,j){var n=ASN1HEX;var l={};l.posTLV=j;var i=n.getChildIdx(k,j);if(i.length!=2&&i.length!=3){throw"malformed X.509v3 Ext (code:001)"}if(k.substr(i[0],2)!="06"){throw"malformed X.509v3 Ext (code:002)"}var m=n.getV(k,i[0]);l.oid=n.hextooidstr(m);l.critical=false;if(i.length==3){l.critical=true}var o=i[i.length-1];if(k.substr(o,2)!="04"){throw"malformed X.509v3 Ext (code:003)"}l.posV=n.getVidx(k,o);return l};X509.getHexOfTLV_V3ExtValue=function(f,d){var e=X509.getPosOfTLV_V3ExtValue(f,d);if(e==-1){return null}return ASN1HEX.getTLV(f,e)};X509.getHexOfV_V3ExtValue=function(f,d){var e=X509.getPosOfTLV_V3ExtValue(f,d);if(e==-1){return null}return ASN1HEX.getV(f,e)};X509.getPosOfTLV_V3ExtValue=function(i,g){var k=g;if(!g.match(/^[0-9.]+$/)){k=KJUR.asn1.x509.OID.name2oid(g)}if(k==""){return -1}var l=X509.getV3ExtInfoListOfCertHex(i);for(var h=0;h<l.length;h++){var j=l[h];if(j.oid==k){return j.posV}}return -1};X509.getExtBasicConstraints=function(c){var d=new X509();d.readCertHex(c);return d.getExtBasicConstraints()};X509.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];X509.getExtKeyUsageBin=function(c){var d=new X509();d.readCertHex(c);return d.getExtKeyUsageBin()};X509.getExtKeyUsageString=function(c){var d=new X509();d.readCertHex(c);return d.getExtKeyUsageString()};X509.getExtSubjectKeyIdentifier=function(c){var d=new X509();d.readCertHex(c);return d.getExtSubjectKeyIdentifier()};X509.getExtAuthorityKeyIdentifier=function(c){var d=new X509();d.readCertHex(c);return d.getExtAuthorityKeyIdentifier()};X509.getExtExtKeyUsageName=function(c){var d=new X509();d.readCertHex(c);return d.getExtExtKeyUsageName()};X509.getExtSubjectAltName=function(c){var d=new X509();d.readCertHex(c);return d.getExtSubjectAltName()};X509.getExtCRLDistributionPointsURI=function(c){var d=new X509();d.readCertHex(c);return d.getExtCRLDistributionPointsURI()};X509.getExtAIAInfo=function(c){var d=new X509();d.readCertHex(c);return d.getExtAIAInfo()};X509.getSignatureAlgorithmName=function(c){var d=new X509();d.readCertHex(c);return d.getSignatureAlgorithmName()};X509.getSignatureValueHex=function(c){var d=new X509();d.readCertHex(c);return d.getSignatureValueHex()};X509.getSerialNumberHex=function(c){var d=new X509();d.readCertHex(c);return d.getSerialNumberHex()};X509.verifySignature=function(f,d){var e=new X509();e.readCertHex(f);return e.verifySignature(d)};
/*! jws-3.3.6 (c) 2013-2017 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.jws=="undefined"||!KJUR.jws){KJUR.jws={}}KJUR.jws.JWS=function(){var b=KJUR.jws.JWS;this.parseJWS=function(u,q){if((this.parsedJWS!==undefined)&&(q||(this.parsedJWS.sigvalH!==undefined))){return}var r=u.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(r==null){throw"JWS signature is not a form of 'Head.Payload.SigValue'."}var p=r[1];var w=r[2];var o=r[3];var m=p+"."+w;this.parsedJWS={};this.parsedJWS.headB64U=p;this.parsedJWS.payloadB64U=w;this.parsedJWS.sigvalB64U=o;this.parsedJWS.si=m;if(!q){var s=b64utohex(o);var v=parseBigInt(s,16);this.parsedJWS.sigvalH=s;this.parsedJWS.sigvalBI=v}var x=b64utoutf8(p);var n=b64utoutf8(w);this.parsedJWS.headS=x;this.parsedJWS.payloadS=n;if(!b.isSafeJSONString(x,this.parsedJWS,"headP")){throw"malformed JSON string for JWS Head: "+x}}};KJUR.jws.JWS.sign=function(J,B,H,w,x){var y=KJUR.jws.JWS;var r,F,A;if(typeof B!="string"&&typeof B!="object"){throw"spHeader must be JSON string or object: "+B}if(typeof B=="object"){F=B;r=JSON.stringify(F)}if(typeof B=="string"){r=B;if(!y.isSafeJSONString(r)){throw"JWS Head is not safe JSON string: "+r}F=y.readSafeJSONString(r)}A=H;if(typeof H=="object"){A=JSON.stringify(H)}if((J==""||J==null)&&F.alg!==undefined){J=F.alg}if((J!=""&&J!=null)&&F.alg===undefined){F.alg=J;r=JSON.stringify(F)}if(J!==F.alg){throw"alg and sHeader.alg doesn't match: "+J+"!="+F.alg}var G=null;if(y.jwsalg2sigalg[J]===undefined){throw"unsupported alg name: "+J}else{G=y.jwsalg2sigalg[J]}var I=utf8tob64u(r);var D=utf8tob64u(A);var u=I+"."+D;var v="";if(G.substr(0,4)=="Hmac"){if(w===undefined){throw"mac key shall be specified for HS* alg"}var C=new KJUR.crypto.Mac({alg:G,prov:"cryptojs",pass:w});C.updateString(u);v=C.doFinal()}else{if(G.indexOf("withECDSA")!=-1){var s=new KJUR.crypto.Signature({alg:G});s.init(w,x);s.updateString(u);hASN1Sig=s.sign();v=KJUR.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig)}else{if(G!="none"){var s=new KJUR.crypto.Signature({alg:G});s.init(w,x);s.updateString(u);v=s.sign()}}}var E=hextob64u(v);return u+"."+E};KJUR.jws.JWS.verify=function(y,u,F){var C=KJUR.jws.JWS;var x=y.split(".");var L=x[0];var D=x[1];var N=L+"."+D;var w=b64utohex(x[2]);var G=C.readSafeJSONString(b64utoutf8(x[0]));var H=null;var v=null;if(G.alg===undefined){throw"algorithm not specified in header"}else{H=G.alg;v=H.substr(0,2)}if(F!=null&&Object.prototype.toString.call(F)==="[object Array]"&&F.length>0){var M=":"+F.join(":")+":";if(M.indexOf(":"+H+":")==-1){throw"algorithm '"+H+"' not accepted in the list"}}if(H!="none"&&u===null){throw"key shall be specified to verify."}if(typeof u=="string"&&u.indexOf("-----BEGIN ")!=-1){u=KEYUTIL.getKey(u)}if(v=="RS"||v=="PS"){if(!(u instanceof RSAKey)){throw"key shall be a RSAKey obj for RS* and PS* algs"}}if(v=="ES"){if(!(u instanceof KJUR.crypto.ECDSA)){throw"key shall be a ECDSA obj for ES* algs"}}if(H=="none"){}var B=null;if(C.jwsalg2sigalg[G.alg]===undefined){throw"unsupported alg name: "+H}else{B=C.jwsalg2sigalg[H]}if(B=="none"){throw"not supported"}else{if(B.substr(0,4)=="Hmac"){var E=null;if(u===undefined){throw"hexadecimal key shall be specified for HMAC"}var I=new KJUR.crypto.Mac({alg:B,pass:u});I.updateString(N);E=I.doFinal();return w==E}else{if(B.indexOf("withECDSA")!=-1){var J=null;try{J=KJUR.crypto.ECDSA.concatSigToASN1Sig(w)}catch(A){return false}var K=new KJUR.crypto.Signature({alg:B});K.init(u);K.updateString(N);return K.verify(J)}else{var K=new KJUR.crypto.Signature({alg:B});K.init(u);K.updateString(N);return K.verify(w)}}}};KJUR.jws.JWS.parse=function(i){var m=i.split(".");var h={};var j,k,l;if(m.length!=2&&m.length!=3){throw"malformed sJWS: wrong number of '.' splitted elements"}j=m[0];k=m[1];if(m.length==3){l=m[2]}h.headerObj=KJUR.jws.JWS.readSafeJSONString(b64utoutf8(j));h.payloadObj=KJUR.jws.JWS.readSafeJSONString(b64utoutf8(k));h.headerPP=JSON.stringify(h.headerObj,null,"  ");if(h.payloadObj==null){h.payloadPP=b64utoutf8(k)}else{h.payloadPP=JSON.stringify(h.payloadObj,null,"  ")}if(l!==undefined){h.sigHex=b64utohex(l)}return h};KJUR.jws.JWS.verifyJWT=function(x,q,o){var s=KJUR.jws.JWS;var r=x.split(".");var y=r[0];var u=r[1];var n=y+"."+u;var p=b64utohex(r[2]);var v=s.readSafeJSONString(b64utoutf8(y));var w=s.readSafeJSONString(b64utoutf8(u));if(v.alg===undefined){return false}if(o.alg===undefined){throw"acceptField.alg shall be specified"}if(!s.inArray(v.alg,o.alg)){return false}if(w.iss!==undefined&&typeof o.iss==="object"){if(!s.inArray(w.iss,o.iss)){return false}}if(w.sub!==undefined&&typeof o.sub==="object"){if(!s.inArray(w.sub,o.sub)){return false}}if(w.aud!==undefined&&typeof o.aud==="object"){if(typeof w.aud=="string"){if(!s.inArray(w.aud,o.aud)){return false}}else{if(typeof w.aud=="object"){if(!s.includedArray(w.aud,o.aud)){return false}}}}var A=KJUR.jws.IntDate.getNow();if(o.verifyAt!==undefined&&typeof o.verifyAt==="number"){A=o.verifyAt}if(o.gracePeriod===undefined||typeof o.gracePeriod!=="number"){o.gracePeriod=0}if(w.exp!==undefined&&typeof w.exp=="number"){if(w.exp+o.gracePeriod<A){return false}}if(w.nbf!==undefined&&typeof w.nbf=="number"){if(A<w.nbf-o.gracePeriod){return false}}if(w.iat!==undefined&&typeof w.iat=="number"){if(A<w.iat-o.gracePeriod){return false}}if(w.jti!==undefined&&o.jti!==undefined){if(w.jti!==o.jti){return false}}if(!KJUR.jws.JWS.verify(x,q,o.alg)){return false}return true};KJUR.jws.JWS.includedArray=function(e,f){var g=KJUR.jws.JWS.inArray;if(e===null){return false}if(typeof e!=="object"){return false}if(typeof e.length!=="number"){return false}for(var h=0;h<e.length;h++){if(!g(e[h],f)){return false}}return true};KJUR.jws.JWS.inArray=function(f,e){if(e===null){return false}if(typeof e!=="object"){return false}if(typeof e.length!=="number"){return false}for(var g=0;g<e.length;g++){if(e[g]==f){return true}}return false};KJUR.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"};KJUR.jws.JWS.isSafeJSONString=function(j,f,i){var h=null;try{h=jsonParse(j);if(typeof h!="object"){return 0}if(h.constructor===Array){return 0}if(f){f[i]=h}return 1}catch(g){return 0}};KJUR.jws.JWS.readSafeJSONString=function(d){var f=null;try{f=jsonParse(d);if(typeof f!="object"){return null}if(f.constructor===Array){return null}return f}catch(e){return null}};KJUR.jws.JWS.getEncodedSignatureValueFromJWS=function(c){var d=c.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(d==null){throw"JWS signature is not a form of 'Head.Payload.SigValue'."}return d[1]};KJUR.jws.JWS.getJWKthumbprint=function(i){if(i.kty!=="RSA"&&i.kty!=="EC"&&i.kty!=="oct"){throw"unsupported algorithm for JWK Thumprint"}var g="{";if(i.kty==="RSA"){if(typeof i.n!="string"||typeof i.e!="string"){throw"wrong n and e value for RSA key"}g+='"e":"'+i.e+'",';g+='"kty":"'+i.kty+'",';g+='"n":"'+i.n+'"}'}else{if(i.kty==="EC"){if(typeof i.crv!="string"||typeof i.x!="string"||typeof i.y!="string"){throw"wrong crv, x and y value for EC key"}g+='"crv":"'+i.crv+'",';g+='"kty":"'+i.kty+'",';g+='"x":"'+i.x+'",';g+='"y":"'+i.y+'"}'}else{if(i.kty==="oct"){if(typeof i.k!="string"){throw"wrong k value for oct(symmetric) key"}g+='"kty":"'+i.kty+'",';g+='"k":"'+i.k+'"}'}}}var f=rstrtohex(g);var j=KJUR.crypto.Util.hashHex(f,"sha256");var h=hextob64u(j);return h};KJUR.jws.IntDate={};KJUR.jws.IntDate.get=function(b){if(b=="now"){return KJUR.jws.IntDate.getNow()}else{if(b=="now + 1hour"){return KJUR.jws.IntDate.getNow()+60*60}else{if(b=="now + 1day"){return KJUR.jws.IntDate.getNow()+60*60*24}else{if(b=="now + 1month"){return KJUR.jws.IntDate.getNow()+60*60*24*30}else{if(b=="now + 1year"){return KJUR.jws.IntDate.getNow()+60*60*24*365}else{if(b.match(/Z$/)){return KJUR.jws.IntDate.getZulu(b)}else{if(b.match(/^[0-9]+$/)){return parseInt(b)}}}}}}}throw"unsupported format: "+b};KJUR.jws.IntDate.getZulu=function(b){return zulutosec(b)};KJUR.jws.IntDate.getNow=function(){var b=~~(new Date()/1000);return b};KJUR.jws.IntDate.intDate2UTCString=function(d){var c=new Date(d*1000);return c.toUTCString()};KJUR.jws.IntDate.intDate2Zulu=function(o){var k=new Date(o*1000);var l=("0000"+k.getUTCFullYear()).slice(-4);var m=("00"+(k.getUTCMonth()+1)).slice(-2);var d=("00"+k.getUTCDate()).slice(-2);var j=("00"+k.getUTCHours()).slice(-2);var p=("00"+k.getUTCMinutes()).slice(-2);var n=("00"+k.getUTCSeconds()).slice(-2);return l+m+d+j+p+n+"Z"};
/*! jwsjs-2.1.0 (c) 2010-2016 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
;if(typeof KJUR=="undefined"||!KJUR){KJUR={}}if(typeof KJUR.jws=="undefined"||!KJUR.jws){KJUR.jws={}}KJUR.jws.JWSJS=function(){var c=KJUR.jws.JWS;var d=KJUR.jws.JWS;this.aHeader=[];this.sPayload="";this.aSignature=[];this.init=function(){this.aHeader=[];this.sPayload=undefined;this.aSignature=[]};this.initWithJWS=function(b){this.init();var e=b.split(".");if(e.length!=3){throw"malformed input JWS"}this.aHeader.push(e[0]);this.sPayload=e[1];this.aSignature.push(e[2])};this.addSignature=function(v,r,m,o){if(this.sPayload===undefined||this.sPayload===null){throw"there's no JSON-JS signature to add."}var n=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length){throw"aHeader.length != aSignature.length"}try{var u=KJUR.jws.JWS.sign(v,r,this.sPayload,m,o);var p=u.split(".");var b=p[0];var s=p[2];this.aHeader.push(p[0]);this.aSignature.push(p[2])}catch(q){if(this.aHeader.length>n){this.aHeader.pop()}if(this.aSignature.length>n){this.aSignature.pop()}throw"addSignature failed: "+q}};this.addSignatureByHeaderKey=function(h,k){var i=b64utoutf8(this.sPayload);var j=new KJUR.jws.JWS();var b=j.generateJWSByP1PrvKey(h,i,k);this.aHeader.push(j.parsedJWS.headB64U);this.aSignature.push(j.parsedJWS.sigvalB64U)};this.addSignatureByHeaderPayloadKey=function(h,i,k){var j=new KJUR.jws.JWS();var b=j.generateJWSByP1PrvKey(h,i,k);this.aHeader.push(j.parsedJWS.headB64U);this.sPayload=j.parsedJWS.payloadB64U;this.aSignature.push(j.parsedJWS.sigvalB64U)};this.verifyAll=function(b){if(this.aHeader.length!==b.length||this.aSignature.length!==b.length){return false}for(var g=0;g<b.length;g++){var h=b[g];if(h.length!==2){return false}var i=this.verifyNth(g,h[0],h[1]);if(i===false){return false}}return true};this.verifyNth=function(p,l,o){if(this.aHeader.length<=p||this.aSignature.length<=p){return false}var n=this.aHeader[p];var k=this.aSignature[p];var b=n+"."+this.sPayload+"."+k;var q=false;try{q=d.verify(b,l,o)}catch(m){return false}return q};this.verifyWithCerts=function(w){if(this.aHeader.length!=w.length){throw"num headers does not match with num certs"}if(this.aSignature.length!=w.length){throw"num signatures does not match with num certs"}var o=this.sPayload;var r="";for(var v=0;v<w.length;v++){var u=w[v];var s=this.aHeader[v];var b=this.aSignature[v];var x=s+"."+o+"."+b;var p=new KJUR.jws.JWS();try{var i=p.verifyJWSByPemX509Cert(x,u);if(i!=1){r+=(v+1)+"th signature unmatch. "}}catch(q){r+=(v+1)+"th signature fail("+q+"). "}}if(r==""){return 1}else{throw r}};this.readJWSJS=function(b){if(typeof b==="string"){var f=c.readSafeJSONString(b);if(f==null){throw"argument is not safe JSON object string"}this.aHeader=f.headers;this.sPayload=f.payload;this.aSignature=f.signatures}else{try{if(b.headers.length>0){this.aHeader=b.headers}else{throw"malformed header"}if(typeof b.payload==="string"){this.sPayload=b.payload}else{throw"malformed signatures"}if(b.signatures.length>0){this.signatures=b.signatures}else{throw"malformed signatures"}}catch(g){throw"malformed JWS-JS JSON object: "+g}}};this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}};this.isEmpty=function(){if(this.aHeader.length==0){return 1}return 0}};